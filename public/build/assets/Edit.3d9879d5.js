import{i as z,B as R,y as Re,r as h,o as r,f as A,w as a,a as p,b as o,q as d,t as n,c as s,n as F,g,aJ as Ee,bC as Ie,d as Ue,Z as Oe,H as re,bE as Le,m as $,F as E,s as T,h as Ae,v as V,u as Ce,ad as we,Q as fe,E as Me}from"./app.d57d51e9.js";import{P as Be}from"./PsLayout.bc5965d6.js";import Ve from"./CheckBox.2843d0e8.js";import{P as ze}from"./PsRadioValue.d4f130b1.js";import{D as Ke}from"./DatePicker.2eba1133.js";import{u as He}from"./Validators.cb85894a.js";import{P as Ne}from"./PsInput.b3485f1e.js";import{P as Pe}from"./PsLabel.06b4363b.js";import{P as Te}from"./PsButton.c9fc3d7e.js";import{P as Ge}from"./PsTextarea.2d2fbd18.js";import{P as Fe,d as We}from"./PsDangerDialog.1643aeb7.js";import{P as qe}from"./PsBreadcrumb2.761286c6.js";import{P as Ye}from"./PsDropdown.0c78da9b.js";import{P as je}from"./PsDropdownSelect.13d0e05f.js";import{P as Xe}from"./PsCard.e47b5f14.js";import{P as Ze}from"./PsLabelCaption.b0af0e56.js";import{P as Je}from"./PsVideoUpload.6a0c2bf0.js";import{P as Qe}from"./PsLabelTitle3.78de00b9.js";import{P as xe}from"./PsIcon.1e42bf4c.js";import{P as et}from"./PsLoading.1f212adc.js";import{P as tt}from"./PsCheckboxValue.373287f4.js";import{a as ot,P as rt}from"./PsActionModal.7978c60e.js";import{P as at}from"./PsModal.f198af2b.js";import{P as lt}from"./PsLabelHeader4.ad69cbcb.js";import{P as nt}from"./PsIcon1.c6e725b1.js";import{P as st}from"./PsDraggable.aca5d6c1.js";import{_ as Se}from"./plugin-vue_export-helper.21dcd24c.js";import{P as it}from"./PsImageUpload.e74e4503.js";import{_ as dt}from"./Dropzone.7608012d.js";import{P as ut}from"./PsTooltip.2ee6eee2.js";import{P as j}from"./ps_constants.115f3686.js";import{v as mt,p as pt,a as ct,s as _t}from"./filepond-plugin-image-preview.esm.81d36b0c.js";import yt from"./OpenStreetMapPinPicker.221feb40.js";import"./PsToggle.fddd5498.js";import"./toggle.6b621a64.js";import"./PsWarningDialog.67ba6cb5.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.66190284.js";import"./SidebarSubTab.148b6988.js";import"./PsErrorDialog.a25aef9e.js";import"./PsInputWithRightIcon.8c9e6c80.js";import"./PsSuccessDialog.a19b3bb4.js";import"./PsBannerIcon.0cb3925c.js";import"./PsLoadingCircleDialog.c95deca1.js";import"./main.f21f1fe5.js";import"./index.edd1d404.js";import"./Icons.ebbb778b.js";import"./vue-neat-modal.d9ed1877.js";import"./dropzone.0e7a43e0.js";import"./Control.Geocoder.bdf28440.js";const gt={name:"PsImageIconModal",components:{PsLabelHeader4:lt,PsButton:Te,PsModal:at,PsIcon1:nt,PsLabel:Pe,PsDraggable:st},props:{disabled:{type:Boolean,default:!1}},setup(){const e=z(R("ps_csv_modal__title"));let u=z("cloud");const y=z(),f=Re({data:[]}),I=z();let w;function S(){I.value.click()}function B(){return f.data[0]}let P=z(),i=z();function C(b){const U=b.target.files;f.data=[];for(let K=0;K<U.length;K++){const N=new FileReader;N.onload=G=>{f.data.push(G.target&&G.target.result?G.target.result.toString():"")},N.readAsDataURL(U[K]),w=U[K],P.value=w.name,i.value=w.size*(2/20)*(1/1024)}}let k,D;function M(b,U,K,N){y.value.toggle(!0),e.value=b,u.value=U,k=K,D=N}function O(b){k(w),y.value.toggle(!1)}async function _(){y.value.toggle(!1)}function L(){y.value.toggle(!1)}return{title:e,icon:u,psmodal:y,openModal:M,clicked:_,okClicked:k,actionClicked:O,cancelClicked:D,imageClick:S,image:I,onImageSelected:C,previewImage:f,getImageUrl:B,imageName:P,imageSize:i,cancel:L}}},ft={class:"hidden sm:flex justify-end"},vt={class:"mx-2.5"},bt={key:0,textColor:"mb-2"},kt={key:0,class:"flex flex-row items-center bg-primary-50 h-16"},ht={class:"w-20"},Ct=["src"],wt={class:"ms-4 mt-2"},$t=p("br",null,null,-1);function Et(e,u,y,f,I,w){const S=h("ps-icon-1"),B=h("ps-label-header-4"),P=h("ps-label"),i=h("ps-button"),C=h("ps-draggable"),k=h("ps-label-title-3"),D=h("ps-modal");return r(),A(D,{ref:"psmodal",line:"hidden",maxWidth:"480px",bodyHeight:"438px",isClickOut:!1,class:"shadow-xl rounded-lg"},{title:a(()=>[p("div",ft,[o(S,{onClick:u[0]||(u[0]=M=>f.cancel()),name:"cross",theme:"#9CA3AF"})]),o(S,{class:"mx-auto",name:f.icon,w:"79",h:"75",theme:"#D1D5DB"},null,8,["name"]),o(B,{class:"text-center font-normal text-2xl mt-6 mb-4"},{default:a(()=>[d(n(f.title),1)]),_:1})]),body:a(()=>[p("div",vt,[o(C,{disabled:y.disabled,class:F(["mt-4 px-2.5 h-52 rounded-lg",f.previewImage.data[0]?"border-b-0":""])},{default:a(()=>[f.previewImage.data!=""?(r(),s("span",bt,n(f.previewImage.data.length)+" "+n(e.$t("ps_image_upload__file_is_choosen")),1)):(r(),A(P,{key:1},{default:a(()=>[d(n(e.$t("ps_image_upload__no_file_is_choosen")),1)]),_:1})),p("input",{type:"file",accept:".mp4",ref:"image",style:{display:"none"},onChange:u[1]||(u[1]=M=>f.onImageSelected(M))},null,544),o(i,{disabled:y.disabled,type:"button",onClick:u[2]||(u[2]=M=>f.imageClick()),class:"w-26 h-12 py-1 px-2 mt-2"},{default:a(()=>[d(n(e.$t("ps_image_icon_modal__choose_files")),1)]),_:1},8,["disabled"])]),_:1},8,["disabled","class"]),f.previewImage.data!=""?(r(),s("div",kt,[p("div",ht,[p("video",{class:"bg-transparent w-20 h-16 flex items-center justify-center object-cover",width:"68px",height:"62px",src:f.getImageUrl()},null,8,Ct)]),p("p",wt,[o(P,{class:"font-bold"},{default:a(()=>[d(n(f.imageName),1)]),_:1}),$t,o(k,null,{default:a(()=>[d(n(e.$t("ps_image_icon_modal__image_size"))+n(f.imageSize),1)]),_:1})])])):g("",!0)])]),footer:a(()=>[o(i,{class:"mx-auto mt-2",onClick:u[3]||(u[3]=M=>f.actionClicked())},{default:a(()=>[d(n(e.$t("ps_csv_modal__confirm_button")),1)]),_:1})]),_:1},512)}var It=Se(gt,[["render",Et]]);/*!
 * FilePondPluginFilePoster 2.5.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const $e={type:"spring",stiffness:.5,damping:.45,mass:10},Pt=e=>e.utils.createView({name:"file-poster",tag:"div",ignoreRect:!0,create:({root:u})=>{u.ref.image=document.createElement("img"),u.element.appendChild(u.ref.image)},write:e.utils.createRoute({DID_FILE_POSTER_LOAD:({root:u,props:y})=>{const{id:f}=y,I=u.query("GET_ITEM",{id:y.id});if(!I)return;const w=I.getMetadata("poster");u.ref.image.src=w,u.dispatch("DID_FILE_POSTER_DRAW",{id:f})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:$e,scaleY:$e,opacity:{type:"tween",duration:750}}}}),Tt=(e,u)=>{u.width=e.width,u.height=e.height,u.getContext("2d").drawImage(e,0,0)},St=e=>e.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:!0,create:({root:u,props:y})=>{Tt(y.template,u.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Dt=(e,u)=>{let y=new Image;y.onload=()=>{const f=y.naturalWidth,I=y.naturalHeight;y=null,u(f,I)},y.src=e},Rt=e=>-.5*(Math.cos(Math.PI*e)-1),Ut=(e,u,y=1,f=Rt,I=10,w=0)=>{const S=1-w,B=u.join(",");for(let P=0;P<=I;P++){const i=P/I,C=w+S*i;e.addColorStop(C,`rgba(${B}, ${f(i)*y})`)}},Ot=10,Lt=10,At=e=>{const u=Math.min(Ot/e.width,Lt/e.height),y=document.createElement("canvas"),f=y.getContext("2d"),I=y.width=Math.ceil(e.width*u),w=y.height=Math.ceil(e.height*u);f.drawImage(e,0,0,I,w);let S=null;try{S=f.getImageData(0,0,I,w).data}catch{return null}const B=S.length;let P=0,i=0,C=0,k=0;for(;k<B;k+=4)P+=S[k]*S[k],i+=S[k+1]*S[k+1],C+=S[k+2]*S[k+2];return P=ve(P,B),i=ve(i,B),C=ve(C,B),{r:P,g:i,b:C}},ve=(e,u)=>Math.floor(Math.sqrt(e/(u/4))),Z=(e,u,y,f,I)=>{e.width=u,e.height=y;const w=e.getContext("2d"),S=u*.5,B=w.createRadialGradient(S,y+110,y-100,S,y+110,y+100);Ut(B,f,I,void 0,8,.4),w.save(),w.translate(-u*.5,0),w.scale(2,1),w.fillStyle=B,w.fillRect(0,0,u,y),w.restore()},se=typeof navigator!="undefined",J=500,Q=200,be=se&&document.createElement("canvas"),ke=se&&document.createElement("canvas"),he=se&&document.createElement("canvas");let ae=[40,40,40],le=[196,78,71],ne=[54,151,99];se&&(Z(be,J,Q,ae,.85),Z(ke,J,Q,le,1),Z(he,J,Q,ne,1));const Mt=(e,u)=>new Promise((y,f)=>{const I=new Image;typeof crossOrigin=="string"&&(I.crossOrigin=u),I.onload=()=>{y(I)},I.onerror=w=>{f(w)},I.src=e}),Bt=e=>{const u=St(e),y=({root:i,props:C})=>{const{id:k}=C,D=i.query("GET_ITEM",k);if(!D)return;const M=D.getMetadata("poster"),O=_=>{const L=i.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?At(_):null;D.setMetadata("color",L,!0),i.dispatch("DID_FILE_POSTER_LOAD",{id:k,data:_})};Dt(M,(_,L)=>{i.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:k,width:_,height:L}),Mt(M,i.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(O)})},f=({root:i})=>{i.ref.overlayShadow.opacity=1},I=({root:i})=>{const{image:C}=i.ref;C.scaleX=1,C.scaleY=1,C.opacity=1},w=({root:i})=>{i.ref.overlayShadow.opacity=1,i.ref.overlayError.opacity=0,i.ref.overlaySuccess.opacity=0},S=({root:i})=>{i.ref.overlayShadow.opacity=.25,i.ref.overlayError.opacity=1},B=({root:i})=>{i.ref.overlayShadow.opacity=.25,i.ref.overlaySuccess.opacity=1},P=({root:i,props:C})=>{const k=i.query("GET_FILE_POSTER_ITEM_OVERLAY_SHADOW_COLOR"),D=i.query("GET_FILE_POSTER_ITEM_OVERLAY_ERROR_COLOR"),M=i.query("GET_FILE_POSTER_ITEM_OVERLAY_SUCCESS_COLOR");k&&k!==ae&&(ae=k,Z(be,J,Q,ae,.85)),D&&D!==le&&(le=D,Z(ke,J,Q,le,1)),M&&M!==ne&&(ne=M,Z(he,J,Q,ne,1));const O=Pt(e);i.ref.image=i.appendChildView(i.createChildView(O,{id:C.id,scaleX:1.25,scaleY:1.25,opacity:0})),i.ref.overlayShadow=i.appendChildView(i.createChildView(u,{template:be,opacity:0})),i.ref.overlaySuccess=i.appendChildView(i.createChildView(u,{template:he,opacity:0})),i.ref.overlayError=i.appendChildView(i.createChildView(u,{template:ke,opacity:0}))};return e.utils.createView({name:"file-poster-wrapper",create:P,write:e.utils.createRoute({DID_FILE_POSTER_LOAD:f,DID_FILE_POSTER_DRAW:I,DID_FILE_POSTER_CONTAINER_CREATE:y,DID_THROW_ITEM_LOAD_ERROR:S,DID_THROW_ITEM_PROCESSING_ERROR:S,DID_THROW_ITEM_INVALID:S,DID_COMPLETE_ITEM_PROCESSING:B,DID_START_ITEM_PROCESSING:w,DID_REVERT_ITEM_PROCESSING:w})})},De=e=>{const{addFilter:u,utils:y}=e,{Type:f,createRoute:I}=y,w=Bt(e);return u("CREATE_VIEW",S=>{const{is:B,view:P,query:i}=S;if(!B("file")||!i("GET_ALLOW_FILE_POSTER"))return;const C=({root:_,props:L})=>{D(_,L)},k=({root:_,props:L,action:b})=>{!/poster/.test(b.change.key)||D(_,L)},D=(_,L)=>{const{id:b}=L,U=i("GET_ITEM",b);!U||!U.getMetadata("poster")||U.archived||_.ref.previousPoster!==U.getMetadata("poster")&&(_.ref.previousPoster=U.getMetadata("poster"),i("GET_FILE_POSTER_FILTER_ITEM")(U)&&(_.ref.filePoster&&P.removeChildView(_.ref.filePoster),_.ref.filePoster=P.appendChildView(P.createChildView(w,{id:b})),_.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:b})))},M=({root:_,action:L})=>{!_.ref.filePoster||(_.ref.imageWidth=L.width,_.ref.imageHeight=L.height,_.ref.shouldUpdatePanelHeight=!0,_.dispatch("KICK"))},O=({root:_})=>{let L=_.query("GET_FILE_POSTER_HEIGHT");if(L)return L;const b=_.query("GET_FILE_POSTER_MIN_HEIGHT"),U=_.query("GET_FILE_POSTER_MAX_HEIGHT");if(b&&_.ref.imageHeight<b)return b;let K=_.rect.element.width*(_.ref.imageHeight/_.ref.imageWidth);return b&&K<b?b:U&&K>U?U:K};P.registerWriter(I({DID_LOAD_ITEM:C,DID_FILE_POSTER_CALCULATE_SIZE:M,DID_UPDATE_ITEM_METADATA:k},({root:_,props:L})=>{!_.ref.filePoster||_.rect.element.hidden||_.ref.shouldUpdatePanelHeight&&(_.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:L.id,height:O({root:_})}),_.ref.shouldUpdatePanelHeight=!1)}))}),{options:{allowFilePoster:[!0,f.BOOLEAN],filePosterHeight:[null,f.INT],filePosterMinHeight:[null,f.INT],filePosterMaxHeight:[null,f.INT],filePosterFilterItem:[()=>!0,f.FUNCTION],filePosterCalculateAverageImageColor:[!1,f.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",f.STRING],filePosterItemOverlayShadowColor:[null,f.ARRAY],filePosterItemOverlayErrorColor:[null,f.ARRAY],filePosterItemOverlaySuccessColor:[null,f.ARRAY]}}},Vt=typeof window!="undefined"&&typeof window.document!="undefined";Vt&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:De}));const zt=Ee(()=>Ie(()=>import("./GoogleMapPinPicker.32913044.js"),["assets/GoogleMapPinPicker.32913044.js","assets/index.0d7f04f4.js","assets/app.d57d51e9.js","assets/app.9e35e0da.css","assets/plugin-vue_export-helper.21dcd24c.js"])),Kt=mt(ct,pt,De),Ht=Ee(()=>Ie(()=>import("./OpenStreetMapPinPicker.221feb40.js"),["assets/OpenStreetMapPinPicker.221feb40.js","assets/OpenStreetMapPinPicker.d9c69d29.css","assets/Control.Geocoder.bdf28440.js","assets/Control.Geocoder.80a0276c.css","assets/app.d57d51e9.js","assets/app.9e35e0da.css","assets/plugin-vue_export-helper.21dcd24c.js"])),Nt=Ue({name:"Edit",components:{Head:Oe,CheckBox:Ve,DatePicker:Ke,PsInput:Ne,PsRadioValue:ze,PsLabel:Pe,PsButton:Te,PsTextarea:Ge,PsLabelHeader6:Fe,PsDropdown:Ye,PsDropdownSelect:je,PsCard:Xe,PsBreadcrumb2:qe,PsLabelCaption:Ze,PsImageUpload:it,GoogleMapPinPicker:zt,OpenStreetMap:Ht,PsIcon:xe,PsLoading:et,PsCheckboxValue:tt,PsActionModal:ot,PsImageIconModal:rt,PsVideoReplaceModal:It,PsDangerDialog:We,PsVideoUpload:Je,PsLabelTitle3:Qe,FilePond:Kt,Dropzone:dt,OpenStreetMapPinPicker:yt,PsTooltip:ut},layout:Be,props:["vendorSetting","authUser","vendor_list","errors","coreFieldFilterSettings","currencies","categories","subcategories","townships","cities","shops","item","customizeHeaders","customizeDetails","paidItemProgressStatus","backendSettings","validation","systemConfig","selected_price_type","item_price_range"],data(){return{location_city:{},category:{}}},setup(e){const u=z(!1),y=z(!1),f=z(),I=z(),w=z(),S=z(),B=z(),P=z(),i=z(),C=z(),k=z(),D=z(),M=z();let O=z([]);function _(c){if(e.selected_price_type==j.PRICE_RANGE){const v=parseFloat(c),H=parseInt(v);return H>5?5:H<1?1:H}if(e.selected_price_type==j.NORMAL_PRICE||e.selected_price_type==j.NO_PRICE)return c}function L(c){if(e.selected_price_type==j.PRICE_RANGE||e.selected_price_type==j.NO_PRICE)return 0;if(e.selected_price_type==j.NORMAL_PRICE)return c}let b=re({id:e.item.id,title:e.item.title,original_price:_(e.item.original_price),price:e.item.price,percent:L(e.item.percent),location_city_id:e.cities.find(c=>c.id==e.item.location_city_id)?e.item.location_city_id:"",location_township_id:e.townships.find(c=>c.id==e.item.location_township_id)?e.item.location_township_id:"",currency_id:e.currencies.find(c=>c.id==e.item.currency_id)?e.item.currency_id:"",category_id:e.categories.find(c=>c.id==e.item.category_id)?e.item.category_id:"",subcategory_id:e.subcategories.find(c=>c.id==e.item.subcategory_id)?e.item.subcategory_id:"",shop_id:e.item.shop_id,lat:e.item.lat,lng:e.item.lng,ordering:e.item.ordering,description:e.item.description,search_tag:e.item.search_tag,phone:e.item.phone,status:e.item.status==1,cover:"",video:"",video_icon:"",is_available:!0,is_discount:!1,product_relation:{},item_image:e.item.cover,images:[],extra_caption:[],_method:"put"});const{isEmpty:U,isPrice:K,isNum:N}=He(),G=(c,v,H="")=>{e.errors[c]=v?"":U(c,v,H)},q=(c,v,H="",oe="")=>{e.errors[c]=v?N(c,v,oe):U(c,v,H)},X=(c,v)=>{e.errors[c]=v?K(c,v):U(c,v)},x=c=>{let v=c.keyCode?c.keyCode:c.which;(v<48||v>57)&&v!==46&&v!==45&&v!==44&&c.preventDefault()},ie=(c,v)=>{e.errors[c]=v?isLatitude(c,v):U(c,v)},ee=(c,v)=>{e.errors[c]=v?isLongitude(c,v):U(c,v)};function de(c){b.lat=c.lat,b.lng=c.lng}function ue(c){this.$inertia.post(route("item.update",c),b,{forceFormData:!0,onBefore:()=>{u.value=!0},onSuccess:()=>{u.value=!1,y.value=!0,setTimeout(()=>{y.value=!1},2e3)},onError:()=>{u.value=!1}})}function me(c){b.lat=c.latLng.lat(),b.lng=c.latLng.lng()}function pe(c,v=null){C.value.openModal(R("conf_modal_label"),R("core__be_replace_img_label"),R("core__be_remove_img_label"),"image","trash","24","24",()=>{k.value.openModal(R("core__be_upload_photo"),"cloudUpload",H=>{let oe=re({image:H,uploadType:v,_method:"put"});this.$inertia.post(route("image.replace",c),oe)})},()=>{M.value.openModal(R("core__be_remove_label"),R("core__be_are_u_sure_remove_photo"),R("core__be_btn_confirm"),R("core__be_btn_cancel"),()=>{this.$inertia.delete(route("image.destroy",c),{onBefore:()=>{u.value=!0},onSuccess:()=>{u.value=!1,y.value=!0,setTimeout(()=>{y.value=!1},2e3)},onError:()=>{u.value=!1}})},()=>{})},!e.validation.includes("cover"))}function ce(c,v=null){C.value.openModal(R("conf_modal_label"),R("core__be_replace_icon_label"),R("core__be_remove_icon_label"),"image","trash","24","24",()=>{k.value.openModal(R("core__be_upload_icon"),"cloudUpload",H=>{let oe=re({image:H,uploadType:v,_method:"put"});this.$inertia.post(route("image.replace",c),oe)})},()=>{M.value.openModal(R("core__be_remove_label"),R("core__be_are_u_sure_remove_icon"),R("core__be_btn_confirm"),R("core__be_btn_cancel"),()=>{this.$inertia.delete(route("image.destroy",c),{onBefore:()=>{u.value=!0},onSuccess:()=>{u.value=!1,y.value=!0,setTimeout(()=>{y.value=!1},2e3)},onError:()=>{u.value=!1}})},()=>{})},!e.validation.includes("icon"))}function _e(c){C.value.openModal(R("conf_modal_label"),R("core__be_replace_video_label"),R("core__be_remove_video_label"),"videoCamera","trash","24","24",()=>{D.value.openModal(R("core__be_upload_video"),"cloudUpload",v=>{let H=re({video:v,_method:"put"});this.$inertia.post(route("video.replace",c),H)})},()=>{M.value.openModal(R("core__be_remove_label"),R("core__be_are_u_sure_remove_video"),R("core__be_btn_confirm"),R("core__be_btn_cancel"),()=>{this.$inertia.delete(route("image.destroy",c),{onBefore:()=>{u.value=!0},onSuccess:()=>{u.value=!1,y.value=!0,setTimeout(()=>{y.value=!1},2e3)},onError:()=>{u.value=!1}})},()=>{})},!e.validation.includes("video"))}function ye(c){c.mandatory===1&&G(c.name,b.product_relation[c.core_keys_id])}function ge(c){c.mandatory===1&&q(c.name,b.product_relation[c.core_keys_id],"The "+c.name.toLowerCase()+" field is required.","The "+c.name.toLowerCase()+" field only have number.")}const Y=()=>{let c=b.original_price;b.percent>0&&(c=c-c*(b.percent/100)),b.price=c};function t(){if(_t({credits:!1,server:{url:"",process:{url:"/admin/item/upload-multi",method:"POST",withCredentials:!1,headers:{"X-CSRF-TOKEN":fe().props.csrf},timeout:7e3,onload:null,onerror:null,ondata:null}}}),b.item_image){O.value=[];let c=b.item_image?b.item_image.split("|"):[];for(let v=0;v<c.length;v++)O.value.push({source:fe().props.uploadUrl+"/"+c[v],options:{type:"local",metadata:{poster:fe().props.uploadUrl+"/"+c[v]}}})}else O.value=[]}const l=(c,v)=>(m(v.serverId),v.serverId);function m(c){let v=b.item_image?b.item_image.split("|"):[];v.push(c),b.item_image=v.join("|")}function W(c){let v=b.item_image?b.item_image.split("|"):[];v.remove(c),b.item_image=v.join("|")}function te(c,v){let H=v.serverId.split("/").pop();W(H)}return{handleUnitPrice:Y,replaceVideoClicked:_e,validateLatitudeInput:ie,validateLongitudeInput:ee,handleCustomFieldNumberError:ge,handleCustomFieldError:ye,validateEmptyInput:G,validateNumberInput:q,validatePriceInput:X,onlyNumberWithCustom:x,handleSubmit:ue,replaceIconClicked:ce,success:y,loading:u,title:f,category_id:I,currency_id:w,location_city_id:S,location_township_id:B,price:P,percent:i,form:b,updateCoordinates:me,replaceImageClicked:pe,ps_action_modal:C,ps_image_icon_modal:k,ps_video_replace_modal:D,ps_danger_dialog:M,myFiles:O,handleFilePondInit:t,handleFilePondLoad:l,handleFilePondRemove:te,setCoordinates:de,PsConst:j}},created(){this.customizeHeaders.map((e,u)=>{this.item.item_relation.map(y=>{if(e.core_keys_id===y.core_keys_id){let f=y.value;this.form.product_relation[e.core_keys_id]=f==="1"?!0:f==="0"?!1:f}})})},computed:{breadcrumb(){return[{label:R("core__be_dashboard_label"),url:route("admin.index")},{label:R("item_module"),url:route("item.index")},{label:R("core__be_edit_item_lbl"),color:"text-primary-500"}]}},methods:{handleMultiSelect({data:e,id:u}){this.form.product_relation[u]=e.toString()},toLocationTownship(){this.$inertia.get(route("township.create"))},handleCancel(){this.$inertia.get(route("item.index"))},handlePromote(e){this.$inertia.get(route("item.promote",e))},removeImage(e){if(e!=null||e!=null){var u=this.form.images.indexOf(e);this.form.images.splice(u,1),Le.post(route("item.removeMulti"),{image:e,edit_mode:1,img_parent_id:this.item.id}).then(y=>{}).catch(y=>{})}},pushImage(e){this.form.images.push(e)},caption(e){let u=!1;this.form.extra_caption.forEach(y=>{if(y.name==e.name)return y.value=e.value,u=!0,!1}),u||this.form.extra_caption.push({name:e.name,value:e.value})}}});Array.prototype.remove=function(){for(var e,u=arguments,y=u.length,f;y&&this.length;)for(e=u[--y];(f=this.indexOf(e))!==-1;)this.splice(f,1);return this};const Gt={class:"rounded-xl dark:bg-backgroundDark"},Ft={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 rounded-t-xl"},Wt={key:0,class:"flex flex-col w-full mb-8 mt-2"},qt={class:"px-4 mb-4"},Yt={disabled:!0,class:"w-full cursor-pointer flex flex-row justify-between px-4 py-1.5 items-center rounded-md border border-secondary-200"},jt={key:0,class:"flex flex-row"},Xt={class:"w-6 h-6 rounded-full",width:"12px",height:"12px"},Zt={key:1,class:"flex flex-row"},Jt={class:"w-6 h-6 rounded-full",width:"12px",height:"12px"},Qt={class:"px-4 mt-0.5"},xt={class:"flex flex-row"},eo={class:"me-2 flex items-center"},to=p("input",{type:"checkbox",disabled:!0,class:"rounded border text-primary-500",value:"1"},null,-1),oo={class:"w-full px-4 mt-4 grid xxl:grid-cols-2 xl:grid-cols-2 lg:grid-cols-2 md:grid-cols-2 sm:grid-cols-1 gap-12"},ro={key:0,class:"text-red-800 font-medium ms-1"},ao={class:"px-4 pt-6 dark:bg-backgroundDark"},lo={class:"grid xxl:grid-cols-2 xl:grid-cols-2 lg:grid-cols-2 md:grid-cols-2 sm:grid-cols-1"},no={class:"grid gap-6"},so={key:0,class:"text-red-800 font-medium ms-1"},io={key:0},uo={key:0,class:"text-red-800 font-medium ms-1"},mo={key:0,class:"text-red-800 font-medium ms-1"},po={key:0,class:"text-red-800 font-medium ms-1"},co={class:"rounded-md shadow-xs w-full bg-background dark:bg-backgroundDark"},_o={class:"pt-2 z-30"},yo={key:0},go={key:1},fo=["onClick"],vo={key:1},bo={key:0,class:"text-red-800 font-medium ms-1"},ko={class:"rounded-md shadow-xs w-full bg-background dark:bg-backgroundDark"},ho={class:"pt-2 z-30"},Co=["onClick"],wo={class:"rounded-md shadow-xs w-full bg-background dark:bg-backgroundDark"},$o={class:"pt-2 z-30"},Eo={key:0},Io={key:1},Po=["onClick"],To={key:2},So=["onClick"],Do={key:0,class:"md:me-6 sm:me-0"},Ro={class:"text-red-800 font-medium ms-1"},Uo={key:0,class:"text-red-800 font-medium ms-1"},Oo={class:"rounded-md shadow-xs w-full bg-background dark:bg-backgroundDark"},Lo={class:"pt-2 z-20"},Ao={key:0},Mo={key:1},Bo=["onClick"],Vo={class:"rounded-md shadow-xs w-full bg-background dark:bg-backgroundDark"},zo={class:"pt-2 z-30"},Ko={key:0},Ho={key:1},No=["onClick"],Go={key:2},Fo=["onClick"],Wo={key:0,class:"text-red-800 font-medium ms-1"},qo={key:2},Yo={key:0,class:"text-red-800 font-medium ms-1"},jo={key:0,class:"md:me-6 sm:me-0"},Xo={class:"text-red-800 font-medium ms-1"},Zo={class:"rounded-md shadow-xs w-full bg-background dark:bg-backgroundDark"},Jo={class:"pt-2 z-30"},Qo={key:0},xo={key:1},er=["onClick"],tr={key:1,class:"md:me-6 sm:me-0"},or={class:"text-red-800 font-medium ms-1"},rr={key:2,class:"md:me-6 sm:me-0"},ar={class:"text-red-800 font-medium ms-1"},lr={class:"flex flex-row"},nr={key:3,class:"md:me-6 sm:me-0"},sr={class:"flex flex-row"},ir={class:"me-2 flex"},dr=["onUpdate:modelValue","onChange"],ur={key:4,class:"md:me-6 sm:me-0"},mr={class:"text-red-800 font-medium ms-1"},pr={key:5,class:"md:me-6 sm:me-0"},cr={class:"text-red-800 font-medium ms-1"},_r={key:6,class:"md:me-6 sm:me-0"},yr={class:"text-red-800 font-medium ms-1"},gr={key:7,class:"md:me-6 sm:me-0"},fr={class:"text-red-800 font-medium ms-1"},vr={class:"flex flex-row"},br={key:8,class:"md:me-6 sm:me-0"},kr={class:"text-red-800 font-medium ms-1"},hr={key:0,class:"flex items-end pt-4"},Cr=["alt"],wr={key:9,class:"md:me-6 sm:me-0"},$r={class:"text-red-800 font-medium ms-1"},Er=["onUpdate:modelValue"],Ir={key:10,class:"md:me-6 sm:me-0"},Pr={class:"text-red-800 font-medium ms-1"},Tr=p("span",{class:"text-red-800 font-medium ms-1"},"*",-1),Sr=p("div",null,null,-1),Dr={key:1,class:"flex items-end pt-4"},Rr={class:"w-96 h-48",controls:""},Ur=["src"],Or=["src"],Lr={key:1,class:"flex items-end pt-4"},Ar=["alt"],Mr={class:"w-full ms-4"},Br={class:"mb-6"},Vr={key:0,class:"text-red-800 font-medium ms-1"},zr={key:0,class:"md:me-6 sm:me-0"},Kr={class:"text-red-800 font-medium ms-1"},Hr={class:"rounded-md shadow-xs w-full bg-background dark:bg-backgroundDark"},Nr={class:"pt-2 z-30"},Gr={key:0},Fr={key:1},Wr=["onClick"],qr={key:1,class:"md:me-6 sm:me-0"},Yr={class:"text-red-800 font-medium ms-1"},jr={key:2,class:"md:me-6 sm:me-0"},Xr={class:"text-red-800 font-medium ms-1"},Zr={class:"flex flex-row"},Jr={key:3,class:"md:me-6 sm:me-0"},Qr={class:"flex flex-row"},xr={class:"me-2 flex"},ea=["onUpdate:modelValue","onChange"],ta={key:4,class:"md:me-6 sm:me-0"},oa={class:"text-red-800 font-medium ms-1"},ra={key:5,class:"md:me-6 sm:me-0"},aa={class:"text-red-800 font-medium ms-1"},la={key:6,class:"md:me-6 sm:me-0"},na={class:"text-red-800 font-medium ms-1"},sa={key:7,class:"md:me-6 sm:me-0"},ia={class:"text-red-800 font-medium ms-1"},da={class:"flex flex-row"},ua={key:8,class:"md:me-6 sm:me-0"},ma={class:"text-red-800 font-medium ms-1"},pa={key:0,class:"flex items-end pt-4"},ca=["alt"],_a={key:9,class:"md:me-6 sm:me-0"},ya={class:"text-red-800 font-medium ms-1"},ga=["onUpdate:modelValue"],fa={key:10,class:"md:me-6 sm:me-0"},va={class:"text-red-800 font-medium ms-1"},ba={key:0,class:"mb-6"},ka={key:1,class:"mb-6"},ha={key:0,class:"text-red-800 font-medium ms-1"},Ca={key:0,class:"text-red-800 font-medium ms-1"},wa={class:"flex flex-row justify-end mb-2.5"},$a={key:2,class:"transition-all duration-300"},Ea={key:3,class:""},Ia={class:""};function Pa(e,u,y,f,I,w){const S=h("Head"),B=h("ps-breadcrumb-2"),P=h("ps-label-header-6"),i=h("ps-label"),C=h("ps-icon"),k=h("ps-dropdown"),D=h("ps-dropdown-select"),M=h("ps-tooltip"),O=h("ps-input"),_=h("ps-label-caption"),L=h("ps-textarea"),b=h("ps-radio-value"),U=h("date-picker"),K=h("CheckBox"),N=h("ps-button"),G=h("ps-image-icon-modal"),q=h("ps-action-modal"),X=h("ps-danger-dialog"),x=h("ps-image-upload"),ie=h("ps-checkbox-value"),ee=h("ps-label-title-3"),de=h("Dropzone"),ue=h("ps-video-replace-modal"),me=h("ps-video-upload"),pe=h("google-map-pin-picker"),ce=h("open-street-map-pin-picker"),_e=h("ps-loading"),ye=h("ps-card"),ge=h("ps-layout"),Y=Me("lazy");return r(),s(E,null,[o(S,{title:e.$t("core__be_edit_item_lbl")},null,8,["title"]),o(ge,null,{default:a(()=>[o(B,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),o(ye,{class:"w-full h-auto"},{default:a(()=>[p("div",Gt,[p("div",Ft,[o(P,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:a(()=>[d(n(e.$t("core__be_edit_item_lbl")),1)]),_:1})]),e.vendorSetting&&e.vendor_list.length>0&&e.form.category_id!=""?(r(),s("div",Wt,[o(P,{class:"px-4 mt-4",textColor:"text-secondary-300 dark:text-secondary-100"},{default:a(()=>[d(n(e.$t("core_be__upload_as_vendor")),1)]),_:1}),p("div",qt,[o(k,{disabled:!0,align:"left",class:"lg:mt-2 mt-1 w-full"},{select:a(()=>{var t,l;return[p("button",Yt,[e.item.vendor&&((t=e.item.vendor)==null?void 0:t.id)!=""?(r(),s("div",jt,[$(p("img",Xt,null,512),[[Y,{src:e.$page.props.thumb1xUrl+"/"+((l=e.item.vendor.logo)==null?void 0:l.img_path),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_vendor_shop.png"}]]),o(i,{class:"text-sm ms-2",textColor:"text-secondary-300"},{default:a(()=>{var m;return[d(n((m=e.item.vendor)==null?void 0:m.name),1)]}),_:1})])):(r(),s("div",Zt,[$(p("img",Jt,null,512),[[Y,{src:e.$page.props.thumb1xUrl+"/"+e.authUser.user_cover_photo,loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]]),o(i,{class:"text-sm ms-2",textColor:"text-secondary-300 "},{default:a(()=>[d(n(e.authUser.name),1)]),_:1})])),o(C,{name:"downChervon"})])]}),_:1})]),p("div",Qt,[p("div",xt,[p("div",eo,[to,o(i,{class:"ms-2",textColor:"text-secondary-300"},{default:a(()=>[d(n(e.$t("core_be__always_choose_this_profile")),1)]),_:1})])])])])):g("",!0),o(P,{class:"px-4 mt-4",textColor:"text-secondary-800 dark:text-secondary-100"},{default:a(()=>[d(n(e.$t("category_selection_prioritize")),1)]),_:1}),p("div",oo,[(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="category_id"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"w-full",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),(t.mandatory=1)?(r(),s("span",ro,"*")):g("",!0)]),_:2},1024),o(M,{arrow:"middle",tooltiptext:"absolute z-50 bottom-full ms-36 md:ms-40 lg:ms-64 xl:ms-92 xxl:ms-110",tooltipWidth:"relative w-2/3"},{content:a(()=>[o(k,{class:"lg:mt-2 mt-1 w-full",disabled:!0},{select:a(()=>[o(D,{ref_for:!0,ref:"category",placeholder:e.$t(t.placeholder),disabled:!0,showCenter:!0,selectedValue:e.form.category_id==""?"":e.categories.filter(m=>m.id==e.form.category_id)[0].name},null,8,["placeholder","selectedValue"])]),_:2},1024)]),tooltips:a(()=>[d(n(e.$t("category_edit_alert_desc")),1)]),_:2},1024)]))),128))]),p("div",ao,[p("form",{onSubmit:u[20]||(u[20]=Ae(t=>e.handleSubmit(e.item.id),["prevent"]))},[p("div",lo,[p("div",no,[p("div",null,[o(P,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:a(()=>[d(n(e.$t("core__be_item_info_lbl")),1)]),_:1})]),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="title"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name))+" ",1),(t.mandatory=1)?(r(),s("span",so,"*")):g("",!0)]),_:2},1024),o(O,{ref_for:!0,ref:"title",type:"text",value:e.form.title,"onUpdate:value":u[0]||(u[0]=m=>e.form.title=m),placeholder:e.$t(t.placeholder),onKeyup:m=>t.mandatory==1?e.validateEmptyInput("title",e.form.title):"",onBlur:m=>t.mandatory==1?e.validateEmptyInput("title",e.form.title):""},null,8,["value","placeholder","onKeyup","onBlur"]),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.title),1)]),_:1})):g("",!0)]))),128)),e.selected_price_type==e.PsConst.NORMAL_PRICE?(r(),s("div",io,[(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="original_price"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),(t.mandatory=1)?(r(),s("span",uo,"*")):g("",!0)]),_:2},1024),o(O,{ref_for:!0,ref:"original_price",type:"text",value:e.form.original_price,"onUpdate:value":u[1]||(u[1]=m=>e.form.original_price=m),placeholder:e.$t(t.placeholder),onKeyup:m=>[t.mandatory=e.validatePriceInput("original_price",e.form.original_price),e.handleUnitPrice()],onBlur:m=>[t.mandatory=e.validatePriceInput("original_price",e.form.original_price),e.handleUnitPrice()],onKeypress:m=>[t.mandatory=e.onlyNumberWithCustom,e.handleUnitPrice()]},null,8,["value","placeholder","onKeyup","onBlur","onKeypress"]),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.original_price),1)]),_:1})):g("",!0)]))),128)),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="price"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),(t.mandatory=1)?(r(),s("span",mo,"*")):g("",!0)]),_:2},1024),o(O,{readonly:!0,ref_for:!0,ref:"price",type:"text",value:e.form.price,"onUpdate:value":u[2]||(u[2]=m=>e.form.price=m),placeholder:e.$t(t.placeholder),onKeyup:m=>t.mandatory=e.validatePriceInput("price",e.form.price),onBlur:m=>t.mandatory=e.validatePriceInput("price",e.form.price),onKeypress:m=>t.mandatory=e.onlyNumberWithCustom},null,8,["value","placeholder","onKeyup","onBlur","onKeypress"]),(t.mandatory=1)?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.price),1)]),_:1})):g("",!0)]))),128)),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="currency_id"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),(t.mandatory=1)?(r(),s("span",po,"*")):g("",!0)]),_:2},1024),o(k,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:a(()=>[o(D,{ref_for:!0,ref:"currency",placeholder:e.$t(t.placeholder),showCenter:!0,selectedValue:e.form.currency_id==""?"":e.currencies.filter(m=>m.id==e.form.currency_id)[0].currency_short_form,onChange:m=>t.mandatory=e.validateEmptyInput("currency_id",e.form.currency_id),onBlur:m=>t.mandatory=e.validateEmptyInput("currency_id",e.form.currency_id)},null,8,["placeholder","selectedValue","onChange","onBlur"])]),list:a(()=>[p("div",co,[p("div",_o,[e.currencies.length==null?(r(),s("div",yo,[o(i,{class:"p-2 flex",onClick:u[3]||(u[3]=m=>e.route("currency.index"))},{default:a(()=>[d(n(e.$t("core__be_add_new_currency")),1)]),_:1})])):(r(),s("div",go,[(r(!0),s(E,null,T(e.currencies,m=>(r(),s("div",{key:m.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:W=>[e.form.currency_id=m.id,t.mandatory=e.validateEmptyInput("currency_id",e.form.currency_id)]},[o(i,{class:F(["ms-2",m.id==e.form.currency_id?" font-bold":""])},{default:a(()=>[d(n(m.currency_short_form),1)]),_:2},1032,["class"])],8,fo))),128))]))])])]),_:2},1024),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.currency_id),1)]),_:1})):g("",!0)]))),128))])):g("",!0),e.selected_price_type==e.PsConst.PRICE_RANGE?(r(),s("div",vo,[(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="original_price"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),(t.mandatory=1)?(r(),s("span",bo,"*")):g("",!0)]),_:2},1024),o(k,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:a(()=>[o(D,{ref_for:!0,ref:"category",placeholder:e.$t(t.placeholder),showCenter:!0,selectedValue:e.form.original_price==""?"":e.item_price_range.item_price_range_selections.filter(m=>m.id==e.form.original_price)[0].value,onChange:m=>[t.mandatory=e.validateEmptyInput("original_price",e.form.original_price)],onBlur:m=>t.mandatory=e.validateEmptyInput("original_price",e.form.original_price)},null,8,["placeholder","selectedValue","onChange","onBlur"])]),list:a(()=>[p("div",ko,[p("div",ho,[(r(!0),s(E,null,T(e.item_price_range.item_price_range_selections,m=>(r(),s("div",{key:m.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:W=>[e.form.original_price=m.id,t.mandatory=e.validateEmptyInput("original_price",e.form.original_price)]},[o(i,{class:F(["ms-2",m.id==e.form.original_price?" font-bold":""])},{default:a(()=>[d(n(m.value),1)]),_:2},1032,["class"])],8,Co))),128))])])]),_:2},1024),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.original_price),1)]),_:1})):g("",!0)]))),128))])):g("",!0),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="subcategory_id"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1)]),_:2},1024),o(k,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:a(()=>[o(D,{ref_for:!0,ref:"category",placeholder:e.$t(t.placeholder),showCenter:!0,selectedValue:e.form.subcategory_id==""?"":e.subcategories.filter(m=>m.id==e.form.subcategory_id)[0].name,onChange:m=>[e.form.subcategory_id=e.subcategory.id,t.mandatory=e.validateEmptyInput("subcategory",e.form.subcategory_id)]},null,8,["placeholder","selectedValue","onChange"])]),list:a(()=>[p("div",wo,[p("div",$o,[e.subcategories.length===0?(r(),s("div",Eo,[o(i,{class:"p-2 flex cursor-pointer"},{default:a(()=>[d(n(e.$t("core__be_add_new_subcategory")),1)]),_:1})])):e.form.category_id?(r(),s("div",Io,[(r(!0),s(E,null,T(e.subcategories.filter(m=>m.category_id==e.form.category_id),m=>(r(),s("div",{key:m.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:W=>[e.form.subcategory_id=m.id,t.mandatory=e.validateEmptyInput("subcategory_id",e.form.subcategory_id)]},[o(i,{class:F(["ms-2",m.id==e.form.subcategory_id?" font-bold":""])},{default:a(()=>[d(n(m.name),1)]),_:2},1032,["class"])],8,Po))),128))])):(r(),s("div",To,[(r(!0),s(E,null,T(e.subcategories,m=>(r(),s("div",{key:m.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:W=>[e.form.subcategory_id=m.id,t.mandatory=e.validateEmptyInput("subcategory_id",e.form.subcategory_id)]},[o(i,{class:F(["ms-2",m.id==e.form.subcategory_id?" font-bold":""])},{default:a(()=>[d(n(m.name),1)]),_:2},1032,["class"])],8,So))),128))]))])])]),_:2},1024),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.subcategory_id),1)]),_:1})):g("",!0)]))),128)),(r(!0),s(E,null,T(e.customizeHeaders.filter(t=>t.core_keys_id=="ps-itm00010"),t=>(r(),s("div",{key:t.id},[t.ui_type_id==="uit00007"&&t.enable===1&&t.is_delete===0?(r(),s("div",Do,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",Ro,"*",512),[[V,t.mandatory===1]])]),_:2},1024),o(O,{type:"number",class:"w-full rounded",placeholder:e.$t(t.placeholder),value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.$page.props.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0)]))),128)),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="location_city_id"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),(t.mandatory=1)?(r(),s("span",Uo,"*")):g("",!0)]),_:2},1024),o(k,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:a(()=>[o(D,{ref_for:!0,ref:"location_city",placeholder:e.$t(t.placeholder),showCenter:!0,selectedValue:e.form.location_city_id==""?"":e.cities.filter(m=>m.id==e.form.location_city_id)[0].name,onChange:m=>[e.form.location_city_id=e.city.id,t.mandatory==1?e.validateEmptyInput("location_city_id",e.form.location_city_id):""]},null,8,["placeholder","selectedValue","onChange"])]),list:a(()=>[p("div",Oo,[p("div",Lo,[e.cities.length===0?(r(),s("div",Ao,[o(i,{class:"p-2 flex cursor-pointer"},{default:a(()=>[d(n(e.$t("core__be_add_new_city")),1)]),_:1})])):(r(),s("div",Mo,[(r(!0),s(E,null,T(e.cities,m=>(r(),s("div",{key:m.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:W=>[e.form.location_city_id=m.id,e.form.location_township_id=e.form.location_township_id&&e.townships.filter(te=>te.location_city_id==m.id).filter(te=>te.id==e.form.location_township_id)[0]?e.form.location_township_id:""]},[o(i,{class:F(["ms-2",m.id==e.form.location_city_id?" font-bold":""])},{default:a(()=>[d(n(m.name),1)]),_:2},1032,["class"])],8,Bo))),128))]))])])]),_:2},1024),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.category_id),1)]),_:1})):g("",!0)]))),128)),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="location_township_id"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1)]),_:2},1024),o(k,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:a(()=>[o(D,{ref_for:!0,ref:"category",placeholder:e.$t(t.placeholder),showCenter:!0,selectedValue:e.form.location_township_id==""?"":e.townships.filter(m=>m.id==e.form.location_township_id)[0].name,onChange:m=>[e.form.location_township_id=e.township.id,t.mandatory=e.validateEmptyInput("township",e.form.location_township_id)]},null,8,["placeholder","selectedValue","onChange"])]),list:a(()=>[p("div",Vo,[p("div",zo,[e.townships.length===0?(r(),s("div",Ko,[o(i,{class:"p-2 flex cursor-pointer"},{default:a(()=>[d(n(e.$t("core__be_add_new_township")),1)]),_:1})])):e.form.location_city_id?(r(),s("div",Ho,[(r(!0),s(E,null,T(e.townships.filter(m=>m.location_city_id==e.form.location_city_id),m=>(r(),s("div",{key:m.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:W=>[e.form.location_township_id=m.id,t.mandatory=e.validateEmptyInput("location_township_id",e.form.location_township_id)]},[o(i,{class:F(["ms-2",m.id==e.form.location_township_id?" font-bold":""])},{default:a(()=>[d(n(m.name),1)]),_:2},1032,["class"])],8,No))),128))])):(r(),s("div",Go,[(r(!0),s(E,null,T(e.townships,m=>(r(),s("div",{key:m.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:W=>[e.form.location_township_id=m.id,t.mandatory=e.validateEmptyInput("location_township_id",e.form.location_township_id)]},[o(i,{class:F(["ms-2",m.id==e.form.location_township_id?" font-bold":""])},{default:a(()=>[d(n(m.name),1)]),_:2},1032,["class"])],8,Fo))),128))]))])])]),_:2},1024),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.location_township_id),1)]),_:1})):g("",!0)]))),128)),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="description"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name))+" ",1),t.mandatory==1?(r(),s("span",Wo,"*")):g("",!0)]),_:2},1024),o(L,{rows:"4",value:e.form.description,"onUpdate:value":u[4]||(u[4]=m=>e.form.description=m),placeholder:e.$t(t.description)},null,8,["value","placeholder"]),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.description),1)]),_:1})):g("",!0)]))),128)),e.selected_price_type=="NORMAL_PRICE"?(r(),s("div",qo,[(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="percent"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),t.mandatory==1?(r(),s("span",Yo,"*")):g("",!0)]),_:2},1024),o(O,{ref_for:!0,ref:"percent",type:"text",value:e.form.percent,"onUpdate:value":u[5]||(u[5]=m=>e.form.percent=m),placeholder:e.$t(t.placeholder),onKeyup:m=>[t.mandatory=e.validatePriceInput("percent",e.form.percent),e.handleUnitPrice()],onBlur:m=>[t.mandatory=e.validatePriceInput("percent",e.form.percent),e.handleUnitPrice()],onKeypress:m=>[t.mandatory=e.onlyNumberWithCustom,e.handleUnitPrice()]},null,8,["value","placeholder","onKeyup","onBlur","onKeypress"]),(t.mandatory=1)?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.percent),1)]),_:1})):g("",!0)]))),128))])):g("",!0),(r(!0),s(E,null,T(e.customizeHeaders.filter(t=>t.core_keys_id!="ps-itm00009"&&t.core_keys_id!="ps-itm00010"),t=>(r(),s("div",{key:t.id},[t.ui_type_id==="uit00001"&&t.enable===1&&t.is_delete===0?(r(),s("div",jo,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",Xo,"*",512),[[V,t.mandatory==1]])]),_:2},1024),o(k,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:a(()=>[o(D,{ref_for:!0,ref:"detail",placeholder:e.$t(t.placeholder),showCenter:!0,selectedValue:e.customizeDetails.filter(l=>l.id==e.form.product_relation[t.core_keys_id]).length>0?e.customizeDetails.filter(l=>l.id==e.form.product_relation[t.core_keys_id])[0].name:"",onChange:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","selectedValue","onChange","onBlur"])]),list:a(()=>[p("div",Zo,[p("div",Jo,[e.customizeDetails.filter(l=>l.core_keys_id===t.core_keys_id).length===0?(r(),s("div",Qo,[o(i,{class:"p-2 flex",onClick:u[6]||(u[6]=l=>e.route("currency.index"))},{default:a(()=>[d(n(e.$t("core__be_create_new"))+" "+n(e.$t(t.name)),1)]),_:2},1024)])):(r(),s("div",xo,[(r(!0),s(E,null,T(e.customizeDetails.filter(l=>l.core_keys_id===t.core_keys_id),l=>(r(),s("div",{key:l.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:m=>[e.form.product_relation[t.core_keys_id]=l.id,e.validateEmptyInput("currency_id",e.form.product_relation[t.core_keys_id])]},[o(i,{class:F(["ms-2",l.id==e.form.product_relation[t.core_keys_id]?" font-bold":""])},{default:a(()=>[d(n(l.name),1)]),_:2},1032,["class"])],8,er))),128))]))])])]),_:2},1024),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00002"&&t.enable===1&&t.is_delete===0?(r(),s("div",tr,[o(i,null,{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",or,"*",512),[[V,t.mandatory===1]])]),_:2},1024),o(O,{type:"text",class:"w-full rounded",placeholder:e.$t(t.placeholder),value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00003"&&t.enable===1&&t.is_delete===0?(r(),s("div",rr,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",ar,"*",512),[[V,t.mandatory===1]])]),_:2},1024),p("div",lr,[(r(!0),s(E,null,T(e.customizeDetails.filter(l=>l.core_keys_id===t.core_keys_id),l=>(r(),s("div",{class:"me-2",key:l.id},[o(b,{color:"text-purple-600 border-purple-300",value:e.form.product_relation[t.core_keys_id],"onUpdate:value":m=>e.form.product_relation[t.core_keys_id]=m,title:l.id.toString(),title_label:l.name},null,8,["value","onUpdate:value","title","title_label"]),o(i,{for:l.id},{default:a(()=>[d(n(l.attribute),1)]),_:2},1032,["for"])]))),128))]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00004"&&t.enable===1&&t.is_delete===0?(r(),s("div",nr,[o(i,{class:"mb-1"},{default:a(()=>[d(n(e.$t(t.name)),1)]),_:2},1024),p("div",sr,[p("div",ir,[$(p("input",{type:"checkbox",class:"rounded border",value:"0","onUpdate:modelValue":l=>e.form.product_relation[t.core_keys_id]=l,onChange:l=>e.handleCustomFieldError(t)},null,40,dr),[[Ce,e.form.product_relation[t.core_keys_id]]]),o(i,{class:"ms-2"},{default:a(()=>[d(n(e.$t(t.placeholder)),1)]),_:2},1024)])]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00005"&&t.enable===1&&t.is_delete===0?(r(),s("div",ur,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",mr,"*",512),[[V,t.mandatory===1]])]),_:2},1024),p("div",null,[o(U,{value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t),enableTimePicker:!0,inline:!1,autoApply:!1},null,8,["value","onUpdate:value","onKeyup","onBlur"])]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00006"&&t.enable===1&&t.is_delete===0?(r(),s("div",pr,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",cr,"*",512),[[V,t.mandatory===1]])]),_:2},1024),o(L,{rows:"4",placeholder:e.$t(t.placeholder),value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00007"&&t.enable===1&&t.is_delete===0?(r(),s("div",_r,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",yr,"*",512),[[V,t.mandatory===1]])]),_:2},1024),o(O,{type:"number",class:"w-full rounded",placeholder:e.$t(t.placeholder),value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00008"&&t.enable===1&&t.is_delete===0?(r(),s("div",gr,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",fr,"*",512),[[V,t.mandatory===1]])]),_:2},1024),p("div",vr,[o(K,{oldData:e.form.product_relation[t.core_keys_id],onToParent:e.handleMultiSelect,customizeDetails:e.customizeDetails,customizeHeader:t},null,8,["oldData","onToParent","customizeDetails","customizeHeader"])]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00009"&&t.enable===1&&t.is_delete===0?(r(),s("div",br,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",kr,"*",512),[[V,t.mandatory===1]])]),_:2},1024),e.item.image?(r(),s("div",hr,[$(p("img",{class:"w-96 h-48",alt:e.$t(e.core__be_item_photo)},null,8,Cr),[[Y,{src:e.$page.props.uploadUrl+"/"+e.item.image.img_path,loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]]),o(N,{type:"button",onClick:u[7]||(u[7]=l=>e.replaceImageClicked(e.item.image.id)),rounded:"rounded-full",shadow:"drop-shadow-2xl",class:"-ms-10 mb-2",colors:"bg-white text-primary-500 dark:bg-secondaryDark-black",border:"border border-1 dark:border-secondary-700 border-secondary-300",padding:"p-1.5",hover:"",focus:""},{default:a(()=>[o(C,{name:"pencil-btn",w:"21",h:"21"})]),_:1}),o(G,{ref_for:!0,ref:"ps_image_icon_modal"},null,512),o(q,{ref_for:!0,ref:"ps_action_modal"},null,512),o(X,{ref_for:!0,ref:"ps_danger_dialog"},null,512)])):(r(),A(x,{key:1,uploadType:"image",imageFile:e.form.product_relation[t.core_keys_id],"onUpdate:imageFile":l=>e.form.product_relation[t.core_keys_id]=l},null,8,["imageFile","onUpdate:imageFile"])),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00010"&&t.enable===1&&t.is_delete===0?(r(),s("div",wr,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",$r,"*",512),[[V,t.mandatory===1]])]),_:2},1024),$(p("input",{type:"time",class:"w-full rounded","onUpdate:modelValue":l=>e.form.product_relation[t.core_keys_id]=l},null,8,Er),[[we,e.form.product_relation[t.core_keys_id]]]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00011"&&t.enable===1&&t.is_delete===0?(r(),s("div",Ir,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",Pr,"*",512),[[V,t.mandatory===1]])]),_:2},1024),p("div",null,[o(U,{value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t),inline:!1,autoApply:!1},null,8,["value","onUpdate:value","onKeyup","onBlur"])]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0)]))),128)),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="status"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"md:me-6 sm:me-0",key:l},[o(i,{class:"text-base mb-1"},{default:a(()=>[d(n(e.$t(t.label_name)),1)]),_:2},1024),o(ie,{value:e.form.status,"onUpdate:value":u[8]||(u[8]=m=>e.form.status=m),class:"font-normal",title:e.$t(t.placeholder)},null,8,["value","title"])]))),128)),p("div",null,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t("core__be_item_photo")),1),Tr]),_:1}),e.item.cover[0]?g("",!0):(r(),A(ee,{key:0},{default:a(()=>[d(n(e.$t("core__be_recommended_size_400_200")),1)]),_:1})),o(de,{dir:e.$page.props.dir,onClicked:e.pushImage,onRemoveImage:e.removeImage,onCaption:e.caption,images:e.form.item_image,edit_mode:1,item_id:e.item.id,max_image_upload:this.systemConfig.max_img_upload_of_item},null,8,["dir","onClicked","onRemoveImage","onCaption","images","item_id","max_image_upload"]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.images),1)]),_:1})]),Sr,p("div",null,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t("core__be_item_video")),1)]),_:1}),e.item.video[0]?g("",!0):(r(),A(ee,{key:0},{default:a(()=>[d(n(e.$t("core__be_recommended_size_400_200")),1)]),_:1})),e.item.video[0]?(r(),s("div",Dr,[p("video",Rr,[p("source",{src:e.$page.props.uploadUrl+"/"+e.item.video[0].img_path,type:"video/mp4"},null,8,Ur),p("source",{src:e.$page.props.uploadUrl+"/"+e.item.video[0].img_path,type:"video/ogg"},null,8,Or),d(" "+n(e.$t("core__be_item_video")),1)]),o(N,{type:"button",onClick:u[9]||(u[9]=t=>e.replaceVideoClicked(e.item.video[0].id)),rounded:"rounded-full",shadow:"drop-shadow-2xl",class:"-ms-10 mb-2",colors:"bg-white text-primary-500 dark:bg-secondaryDark-black",border:"border border-1 dark:border-secondary-700 border-secondary-300",padding:"p-1.5",hover:"",focus:""},{default:a(()=>[o(C,{name:"pencil-btn",w:"21",h:"21"})]),_:1}),o(ue,{ref:"ps_video_replace_modal"},null,512),o(q,{ref:"ps_action_modal"},null,512),o(X,{ref:"ps_danger_dialog"},null,512)])):(r(),A(me,{key:2,videoFile:e.form.video,"onUpdate:videoFile":u[10]||(u[10]=t=>e.form.video=t)},null,8,["videoFile"])),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.video),1)]),_:1})]),p("div",null,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t("core__be_item_icon")),1)]),_:1}),e.item.icon[0]?g("",!0):(r(),A(ee,{key:0},{default:a(()=>[d(n(e.$t("core__be_recommended_size_200_200")),1)]),_:1})),e.item.icon[0]?(r(),s("div",Lr,[$(p("img",{class:"w-72 h-48",alt:e.$t(e.core__be_item_icon)},null,8,Ar),[[Y,{src:e.$page.props.uploadUrl+"/"+e.item.icon[0].img_path,loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]]),o(N,{type:"button",onClick:u[11]||(u[11]=t=>e.replaceIconClicked(e.item.icon[0].id,"item")),rounded:"rounded-full",shadow:"drop-shadow-2xl",class:"-ms-10 mb-2",colors:"bg-white text-primary-500 dark:bg-secondaryDark-black",border:"border border-1 dark:border-secondary-700 border-secondary-300",padding:"p-1.5",hover:"",focus:""},{default:a(()=>[o(C,{name:"pencil-btn",w:"21",h:"21"})]),_:1}),o(G,{ref:"ps_image_icon_modal"},null,512),o(q,{ref:"ps_action_modal"},null,512),o(X,{ref:"ps_danger_dialog"},null,512)])):(r(),A(x,{key:2,class:"w-72",uploadType:"icon",imageFile:e.form.video_icon,"onUpdate:imageFile":u[12]||(u[12]=t=>e.form.video_icon=t)},null,8,["imageFile"])),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.video_icon),1)]),_:1})])]),p("div",Mr,[p("div",Br,[o(P,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:a(()=>[d(n(e.$t("core__be_item_location")),1)]),_:1})]),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="phone"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"mb-6",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),t.mandatory==1?(r(),s("span",Vr,"*")):g("",!0)]),_:2},1024),o(O,{ref_for:!0,ref:"phone",type:"text",value:e.form.phone,"onUpdate:value":u[13]||(u[13]=m=>e.form.phone=m),placeholder:e.$t(t.placeholder)},null,8,["value","placeholder"]),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.phone),1)]),_:1})):g("",!0)]))),128)),(r(!0),s(E,null,T(e.customizeHeaders.filter(t=>t.core_keys_id=="ps-itm00009"),t=>(r(),s("div",{class:"mb-6",key:t.id},[t.ui_type_id==="uit00001"&&t.enable===1&&t.is_delete===0?(r(),s("div",zr,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",Kr,"*",512),[[V,t.mandatory==1]])]),_:2},1024),o(k,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:a(()=>[o(D,{ref_for:!0,ref:"detail",placeholder:e.$t(t.placeholder),showCenter:!0,selectedValue:e.customizeDetails.filter(l=>l.id==e.form.product_relation[t.core_keys_id]).length>0?e.customizeDetails.filter(l=>l.id==e.form.product_relation[t.core_keys_id])[0].name:"",onChange:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","selectedValue","onChange","onBlur"])]),list:a(()=>[p("div",Hr,[p("div",Nr,[e.customizeDetails.filter(l=>l.core_keys_id===t.core_keys_id).length===0?(r(),s("div",Gr,[o(i,{class:"p-2 flex",onClick:u[14]||(u[14]=l=>e.route("currency.index"))},{default:a(()=>[d(n(e.$t("core__be_create_new"))+" "+n(e.$t(t.name)),1)]),_:2},1024)])):(r(),s("div",Fr,[(r(!0),s(E,null,T(e.customizeDetails.filter(l=>l.core_keys_id===t.core_keys_id),l=>(r(),s("div",{key:l.id,class:"w-96 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-secondary-700 cursor-pointer items-center",onClick:m=>[e.form.product_relation[t.core_keys_id]=l.id,e.validateEmptyInput("currency_id",e.form.product_relation[t.core_keys_id])]},[o(i,{class:F(["ms-2",l.id==e.form.product_relation[t.core_keys_id]?" font-bold":""])},{default:a(()=>[d(n(l.name),1)]),_:2},1032,["class"])],8,Wr))),128))]))])])]),_:2},1024),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00002"&&t.enable===1&&t.is_delete===0?(r(),s("div",qr,[o(i,null,{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",Yr,"*",512),[[V,t.mandatory===1]])]),_:2},1024),o(O,{type:"text",class:"w-full rounded",placeholder:e.$t(t.placeholder),value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00003"&&t.enable===1&&t.is_delete===0?(r(),s("div",jr,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",Xr,"*",512),[[V,t.mandatory===1]])]),_:2},1024),p("div",Zr,[(r(!0),s(E,null,T(e.customizeDetails.filter(l=>l.core_keys_id===t.core_keys_id),l=>(r(),s("div",{class:"me-2",key:l.id},[o(b,{color:"text-purple-600 border-purple-300",value:e.form.product_relation[t.core_keys_id],"onUpdate:value":m=>e.form.product_relation[t.core_keys_id]=m,title:l.id.toString(),title_label:l.name},null,8,["value","onUpdate:value","title","title_label"]),o(i,{for:l.id},{default:a(()=>[d(n(l.attribute),1)]),_:2},1032,["for"])]))),128))]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00004"&&t.enable===1&&t.is_delete===0?(r(),s("div",Jr,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1)]),_:2},1024),p("div",Qr,[p("div",xr,[$(p("input",{type:"checkbox",class:"rounded border mt-1.5",value:"0","onUpdate:modelValue":l=>e.form.product_relation[t.core_keys_id]=l,onChange:l=>e.handleCustomFieldError(t)},null,40,ea),[[Ce,e.form.product_relation[t.core_keys_id]]]),o(i,{class:"ms-2"},{default:a(()=>[d(n(e.$t(t.placeholder)),1)]),_:2},1024)])]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00005"&&t.enable===1&&t.is_delete===0?(r(),s("div",ta,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",oa,"*",512),[[V,t.mandatory===1]])]),_:2},1024),p("div",null,[o(U,{value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t),enableTimePicker:!0,inline:!1,autoApply:!1},null,8,["value","onUpdate:value","onKeyup","onBlur"])]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00006"&&t.enable===1&&t.is_delete===0?(r(),s("div",ra,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",aa,"*",512),[[V,t.mandatory===1]])]),_:2},1024),o(L,{rows:"4",placeholder:e.$t(t.placeholder),value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00007"&&t.enable===1&&t.is_delete===0?(r(),s("div",la,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",na,"*",512),[[V,t.mandatory===1]])]),_:2},1024),o(O,{type:"number",class:"w-full rounded",placeholder:e.$t(t.placeholder),value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t)},null,8,["placeholder","value","onUpdate:value","onKeyup","onBlur"]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00008"&&t.enable===1&&t.is_delete===0?(r(),s("div",sa,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",ia,"*",512),[[V,t.mandatory===1]])]),_:2},1024),p("div",da,[o(K,{oldData:e.form.product_relation[t.id],onToParent:e.handleMultiSelect,customizeDetails:e.customizeDetails,customizeHeader:t},null,8,["oldData","onToParent","customizeDetails","customizeHeader"])]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00009"&&t.enable===1&&t.is_delete===0?(r(),s("div",ua,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",ma,"*",512),[[V,t.mandatory===1]])]),_:2},1024),e.item.image?(r(),s("div",pa,[$(p("img",{class:"w-96 h-48",alt:e.$t(e.core__be_item_photo)},null,8,ca),[[Y,{src:e.$page.props.uploadUrl+"/"+e.item.image.img_path,loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]]),o(N,{type:"button",onClick:u[15]||(u[15]=l=>e.replaceImageClicked(e.item.image.id,"item")),rounded:"rounded-full",shadow:"drop-shadow-2xl",class:"-ms-10 mb-2",colors:"bg-white text-primary-500 dark:bg-secondaryDark-black",border:"border border-1 dark:border-secondary-700 border-secondary-300",padding:"p-1.5",hover:"",focus:""},{default:a(()=>[o(C,{name:"pencil-btn",w:"21",h:"21"})]),_:1}),o(G,{ref_for:!0,ref:"ps_image_icon_modal"},null,512),o(q,{ref_for:!0,ref:"ps_action_modal"},null,512),o(X,{ref_for:!0,ref:"ps_danger_dialog"},null,512)])):(r(),A(x,{key:1,uploadType:"image",imageFile:e.form.product_relation[t.core_keys_id],"onUpdate:imageFile":l=>e.form.product_relation[t.core_keys_id]=l},null,8,["imageFile","onUpdate:imageFile"])),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00010"&&t.enable===1&&t.is_delete===0?(r(),s("div",_a,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",ya,"*",512),[[V,t.mandatory===1]])]),_:2},1024),$(p("input",{type:"time",class:"w-full rounded","onUpdate:modelValue":l=>e.form.product_relation[t.core_keys_id]=l},null,8,ga),[[we,e.form.product_relation[t.core_keys_id]]]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0),t.ui_type_id==="uit00011"&&t.enable===1&&t.is_delete===0?(r(),s("div",fa,[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.name)),1),$(p("span",va,"*",512),[[V,t.mandatory===1]])]),_:2},1024),p("div",null,[o(U,{value:e.form.product_relation[t.core_keys_id],"onUpdate:value":l=>e.form.product_relation[t.core_keys_id]=l,onKeyup:l=>e.handleCustomFieldError(t),onBlur:l=>e.handleCustomFieldError(t),inline:!1,autoApply:!1},null,8,["value","onUpdate:value","onKeyup","onBlur"])]),o(_,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.product_relation_errors&&e.product_relation_errors[t.core_keys_id]),1)]),_:2},1024)])):g("",!0)]))),128)),e.backendSettings.is_google_map==1?(r(),s("div",ba,[o(pe,{mapKey:e.$page.props.mapKey,lat:parseFloat(e.form.lat),lng:parseFloat(e.form.lng),widthHeight:"width: 458px; height: 500px",onChange:e.updateCoordinates},null,8,["mapKey","lat","lng","onChange"])])):(r(),s("div",ka,[o(ce,{dir:e.$page.props.dir,onChange:e.setCoordinates,lat:parseFloat(e.form.lat),lng:parseFloat(e.form.lng),class:"h-[500px]"},null,8,["dir","onChange","lat","lng"])])),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="lat"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"mb-6",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),t.mandatory==1?(r(),s("span",ha,"*")):g("",!0)]),_:2},1024),o(O,{type:"text",value:e.form.lat,"onUpdate:value":u[16]||(u[16]=m=>e.form.lat=m),placeholder:e.$t(t.placeholder),onKeypress:e.onlyNumberWithCustom,onKeyup:m=>t.mandatory==1?e.validateLatitudeInput("lat",e.form.lat):"",onBlur:m=>t.mandatory==1?e.validateLatitudeInput("lat",e.form.lat):""},null,8,["value","placeholder","onKeypress","onKeyup","onBlur"]),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.lat),1)]),_:1})):g("",!0)]))),128)),(r(!0),s(E,null,T(e.coreFieldFilterSettings.filter(t=>t.original_field_name==="lng"&&t.enable===1&&t.is_delete===0),(t,l)=>(r(),s("div",{class:"mb-6",key:l},[o(i,{class:"text-base"},{default:a(()=>[d(n(e.$t(t.label_name)),1),t.mandatory==1?(r(),s("span",Ca,"*")):g("",!0)]),_:2},1024),o(O,{type:"text",value:e.form.lng,"onUpdate:value":u[17]||(u[17]=m=>e.form.lng=m),placeholder:e.$t(t.placeholder),onKeypress:e.onlyNumberWithCustom,onKeyup:m=>t.mandatory==1?e.validateLongitudeInput("lng",e.form.lng):"",onBlur:m=>t.mandatory==1?e.validateLongitudeInput("lng",e.form.lng):""},null,8,["value","placeholder","onKeypress","onKeyup","onBlur"]),t.mandatory==1?(r(),A(_,{key:0,textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[d(n(e.errors.lng),1)]),_:1})):g("",!0)]))),128))])]),p("div",wa,[o(N,{onClick:u[18]||(u[18]=t=>e.handleCancel()),textSize:"text-base",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:a(()=>[d(n(e.$t("core__be_btn_cancel")),1)]),_:1}),o(N,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:a(()=>[e.loading?(r(),A(_e,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):g("",!0),e.success?(r(),A(C,{key:1,name:"check",class:"me-1.5 transition-all duration-300"})):g("",!0),e.success?(r(),s("span",$a,n(e.$t("core__be_btn_saved")),1)):g("",!0),!e.loading&&!e.success?(r(),s("span",Ea,n(e.$t("core__be_btn_save")),1)):g("",!0)]),_:1}),e.paidItemProgressStatus!=e.item.paid_status?(r(),A(N,{key:0,type:"button",onClick:u[19]||(u[19]=t=>e.handlePromote(e.item.id)),class:"ms-3 transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:a(()=>[p("span",Ia,n(e.$t("core__be_btn_promote")),1)]),_:1})):g("",!0)])],32)])])]),_:1})]),_:1})],64)}var El=Se(Nt,[["render",Pa]]);export{El as default};
