import{a as P,P as l}from"./PsApiService.1464e9d5.js";import{P as h,a as w}from"./Package.5254ef20.js";import{P as k}from"./PsObject.a17ef38f.js";import{P as f,a as y}from"./PaymentInfo.5aa268a0.js";import{A as S}from"./ApiStatus.5720ba0b.js";import{bD as L,y as m,i as A}from"./app.d57d51e9.js";import{m as C}from"./PsSepetetedStore.9a31ac47.js";class g extends k{constructor(){super(...arguments),this.id="",this.paymentId="",this.coreKeysId="",this.shopId="",this.payment=new f,this.purchasedCount="",this.paymentInfo=new y,this.paymentAttributes=new h,this.addedDateStr=""}init(t,e,s,r,u,i,p,d,c){return this.id=t,this.paymentId=e,this.coreKeysId=s,this.shopId=r,this.payment=u,this.purchasedCount=i,this.paymentInfo=p,this.paymentAttributes=d,this.addedDateStr=c,this}getPrimaryKey(){return this.id}toMap(t){const e={};return e.id=t.id,e.payment_id=t.paymentId,e.coreKeys_id=t.coreKeysId,e.shop_id=t.shopId,e.payment=new f().toMap(t.payment),e.purchased_count=t.purchasedCount,e.payment_info=new y().toMap(t.paymentInfo),e.payment_attributes=new h().toMap(t.paymentAttributes),e.added_date_str=t.addedDateStr,e}toMapList(t){const e=[];for(let s=0;s<t.length;s++)t[s]!=null&&e.push(this.toMap(t[s]));return e}fromMap(t){return new g().init(t.id,t.payment_id,t.core_keys_id,t.shop_id,new f().fromMap(t.payment),t.purchased_count,new y().fromMap(t.payment_info),new h().fromMap(t.payment_attributes),t.added_date_str)}fromMapList(t){const e=[];for(const s in t)s!=null&&e.push(this.fromMap(s));return e}}const $=C(v=>L(`packageStore/${v}`,()=>{const t=m(new P),e=m(new P),s=m({value:!1});let r=A(30),u=0;const i=m({value:!1});function p(){return(t==null?void 0:t.data)!=null&&t.data.length>0}function d(a){var n,o;t!=null&&t.data!=null&&t.data.length>0&&u!=0?(a.data!=null&&a.data.length>0?(((n=a.data)==null?void 0:n.length)<r.value?i.value=!0:i.value=!1,t.data.push(...a.data)):i.value=!0,t.code=a.code,t.status=a.status,t.message=a.message):(((o=a.data)==null?void 0:o.length)<r.value||a.data==null?i.value=!0:i.value=!1,t.data=a.data,t.code=a.code,t.status=a.status,t.message=a.message),t!=null&&t.data!=null&&(u=t.data.length)}async function c(a){u=0,s.value=!0;const n=await l.getPackageList(new w,a);d(n),s.value=!1}async function _(a){s.value=!0;const n=await l.getPackageList(new w,a);d(n),s.value=!1}async function I(a){s.value=!0;const n=await l.getPackageListWithPurchasedCount(new g,a);return t.data=n.data,t.code=n.code,t.status=n.status,t.message=n.message,s.value=!1,t}async function M(a,n){s.value=!0;const o=await l.postPackageBought(new S,a,n.toMap());return s.value=!1,o}return{isNoMoreRecord:i,loading:s,limit:r,offset:u,packageList:t,limitItem:e,resetPackageList:c,loadPackageList:_,postPackageBought:M,packageListWithPurchasedCount:I,hasData:p}}));export{$ as u};
