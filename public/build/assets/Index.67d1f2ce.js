import{d as N,Z as S,i as w,y as z,B as m,o as p,c as u,b as t,w as l,a,q as n,t as i,f as j,g as V,F as I,s as T,m as v,u as F,O as x,H as M,r as d,E as O}from"./app.d57d51e9.js";import{P as R}from"./PsLayout.bc5965d6.js";import{P as q}from"./PsLabel.06b4363b.js";import{d as W,P as Z,a as G,c as J}from"./PsDangerDialog.1643aeb7.js";import{P as K}from"./PsButton.c9fc3d7e.js";import{P as Q}from"./PsAlert.0ab579ab.js";import{P as X}from"./PsBreadcrumb2.761286c6.js";import{P as Y}from"./PsWarningDialog.67ba6cb5.js";import{P as ee}from"./PsIcon.1e42bf4c.js";import{P as oe}from"./PsBannerIcon.0cb3925c.js";import{P as te}from"./PsActivity.0b215849.js";import{h as se}from"./moment.9709ab41.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDropdown.0c78da9b.js";import"./PsDropdownSelect.13d0e05f.js";import"./PsToggle.fddd5498.js";import"./toggle.6b621a64.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.66190284.js";import"./SidebarSubTab.148b6988.js";import"./PsErrorDialog.a25aef9e.js";import"./PsModal.f198af2b.js";import"./vue-neat-modal.d9ed1877.js";import"./PsInputWithRightIcon.8c9e6c80.js";import"./PsSuccessDialog.a19b3bb4.js";import"./PsLoading.1f212adc.js";import"./PsInput.b3485f1e.js";import"./PsLabelCaption.b0af0e56.js";import"./PsLoadingCircleDialog.c95deca1.js";import"./PsIcon1.c6e725b1.js";import"./Icons.ebbb778b.js";const le=N({name:"Index",components:{Head:S,PsLabel:q,PsButton:K,PsAlert:Q,PsBreadcrumb2:X,PsDangerDialog:W,PsIcon:ee,PsBannerIcon:oe,PsLabelHeader6:Z,PsActivity:te,PsWarningDialog:Y,PsLabelCaption3:G,PsTextButton:J},layout:R,data(){return{moment:se}},props:["can","contacts","checkPermission","defaultProfileImg"],setup(e){const r=w(),b=w(!1);let f=z([]);for(let s=0;s<e.contacts.length;s++)f[e.contacts[s].id]=!1;const k=w();let P=w(!1);function C(){for(let s=0;s<e.contacts.length;s++)P.value==!1?f[e.contacts[s].id]=!1:f[e.contacts[s].id]=!0}function $(){k.value.openModal(m("core__warning"),m("core__comfirm_to_mark_as_read"),m("core__be_btn_confirm"),m("core__be_btn_cancel"),()=>{x.put(route("contact.allasread"))},()=>{})}function D(s){x.get(route("contact.edit",s))}function h(){let s=[];for(let c=0;c<e.contacts.length;c++)f[e.contacts[c].id]==!0&&s.push(e.contacts[c].id);let y=M({ids:s});r.value.openModal(m("core__delete"),m("core__comfirm_to_delete_contact_multiple"),m("core__be_btn_confirm"),m("core__be_btn_cancel"),()=>{x.delete(route("contact.multiDelete",y)),b.value=!b.value},()=>{})}return{clickDelete:h,booleanContacts:f,toogleSelectAll:C,selectAll:P,showDelete:b,goToDetail:D,ps_danger_dialog:r,makeAllRead:$,ps_warning_dialog:k}},methods:{handleDetail(e){this.$inertia.get(route("contact.show",e))}},computed:{breadcrumb(){return[{label:m("core__be_dashboard_label"),url:route("admin.index")},{label:m("contact_us_message_module"),color:"text-primary-500"}]}}}),re={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 mb-6 rounded-t-xl"},ne={key:0},ie={class:"flex justify-end mb-4"},de={class:"flex"},me={class:"flex"},ce={class:"bg-red-400 text-white p-1 rounded-lg"},pe={class:"h-8 w-8 sm:w-12 sm:h-12"},_e={class:"w-full ms-4"},ue={class:"flex justify-between text-sm"},fe={key:1},ge={class:"flex justify-between mb-4"},be={class:"flex flex-row items-center"},he={class:"flex flex-row"},ye=["onUpdate:modelValue"],we={class:"h-8 w-8 sm:w-12 sm:h-12"},ve={class:"w-full ms-4"},ke={class:"flex justify-between text-sm"};function Pe(e,r,b,f,k,P){const C=d("Head"),$=d("ps-breadcrumb-2"),D=d("ps-label-header6"),h=d("ps-icon"),s=d("ps-label"),y=d("ps-text-button"),c=d("ps-label-caption-3"),A=d("ps-activity"),B=d("ps-button"),H=d("ps-danger-dialog"),L=d("ps-warning-dialog"),E=d("ps-layout"),U=O("lazy");return p(),u(I,null,[t(C,{title:e.$t("contact_us_message_module")},null,8,["title"]),t(E,null,{default:l(()=>[t($,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),a("div",re,[t(D,null,{default:l(()=>[n(i(e.$t("core__be_messages")),1)]),_:1})]),e.showDelete?(p(),u("div",fe,[a("div",ge,[a("div",be,[v(a("input",{"onUpdate:modelValue":r[2]||(r[2]=o=>e.selectAll=o),onChange:r[3]||(r[3]=o=>e.toogleSelectAll()),class:"me-2 border-1 border-primary-500 rounded-full",type:"checkbox"},null,544),[[F,e.selectAll]]),t(s,{class:"text-base font-light",textColor:"text-primary-500"},{default:l(()=>[n(i(e.$t("core__be_select_all")),1)]),_:1})]),a("div",he,[t(B,{onClick:r[4]||(r[4]=o=>e.showDelete=!e.showDelete),textSize:"text-sm",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:l(()=>[n(i(e.$t("core__be_btn_cancel")),1)]),_:1}),t(B,{onClick:e.clickDelete,class:"transition-all duration-300 min-w-3xs",colors:"bg-red-500 text-white",padding:"px-5 py-2",rounded:"rounded",hover:"",focus:""},{default:l(()=>[n(i(e.$t("btn_delete")),1)]),_:1},8,["onClick"])])]),(p(!0),u(I,null,T(e.contacts,o=>(p(),u("div",{key:o.id,class:"cursor-pointer flex flex-row items-center justify-center"},[t(A,{onClick:_=>e.booleanContacts[o.id]=!e.booleanContacts[o.id],theme:o.is_read==0?"bg-primary-50 dark:bg-primary-900":" bg-secondary-50 dark:bg-secondary-900",icon:!1,h:"h-26"},{content:l(()=>{var _;return[v(a("input",{"onUpdate:modelValue":g=>e.booleanContacts[o.id]=g,class:"me-2 border-1 border-secondary-200 rounded",type:"checkbox"},null,8,ye),[[F,e.booleanContacts[o.id]]]),a("div",we,[v(a("img",{width:"20",height:"20",class:"mx-2 inline-block h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 ring-white object-cover",alt:"Profile photo",onError:r[5]||(r[5]=(...g)=>e.defaultProfileImg&&e.defaultProfileImg(...g))},null,544),[[U,{src:e.$page.props.uploadUrl+"/"+((_=o.owner)==null?void 0:_.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),a("span",ve,[a("span",ke,[t(s,{class:"text-sm lg:text-base"},{default:l(()=>[n(i(o.contact_name),1)]),_:2},1024),t(c,null,{default:l(()=>[n(i(e.moment(o.added_date).format(e.$page.props.dateFormat)),1)]),_:2},1024)]),t(c,null,{default:l(()=>[n("by: "+i(o.contact_email),1)]),_:2},1024)])]}),_:2},1032,["onClick","theme"])]))),128))])):(p(),u("div",ne,[a("div",ie,[e.can.updateContact?(p(),j(y,{key:0,onClick:e.makeAllRead,padding:"p-1.5"},{default:l(()=>[a("div",de,[t(h,{name:"right",class:"mt-1.5",fillone:"#6366F1"}),t(s,{class:"ms-1 my-auto cursor-pointer",textColor:"text-primary-500"},{default:l(()=>[n(i(e.$t("core__be_mark_all_as_read")),1)]),_:1})])]),_:1},8,["onClick"])):V("",!0),e.can.deleteContact?(p(),j(y,{key:1,onClick:r[0]||(r[0]=o=>e.showDelete=!e.showDelete),padding:"p-1.5"},{default:l(()=>[a("div",me,[a("span",ce,[t(h,{name:"trash",w:"16",h:"16"})]),t(s,{class:"ms-1 my-auto",textColor:"text-primary-500"},{default:l(()=>[n(i(e.$t("btn_delete")),1)]),_:1})])]),_:1})):V("",!0)]),(p(!0),u(I,null,T(e.contacts,o=>(p(),u("div",{key:o.id,class:"cursor-pointer"},[t(A,{onClick:_=>e.goToDetail(o.id),theme:o.is_read==0?"bg-primary-50 dark:bg-primary-900":" bg-secondary-50 dark:bg-secondary-900",icon:!1,h:"h-26"},{content:l(()=>{var _;return[a("div",pe,[v(a("img",{width:"20",height:"20",class:"mx-2 inline-block h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 ring-white object-cover",alt:"Profile photo",onError:r[1]||(r[1]=(...g)=>e.defaultProfileImg&&e.defaultProfileImg(...g))},null,544),[[U,{src:e.$page.props.uploadUrl+"/"+((_=o.owner)==null?void 0:_.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),a("span",_e,[a("span",ue,[t(s,{class:"text-sm lg:text-base"},{default:l(()=>[n(i(o.contact_name),1)]),_:2},1024),t(c,null,{default:l(()=>[n(i(e.moment(o.added_date).format(e.$page.props.dateFormat)),1)]),_:2},1024)]),t(c,null,{default:l(()=>[n("by: "+i(o.contact_email),1)]),_:2},1024)])]}),_:2},1032,["onClick","theme"])]))),128))])),t(H,{ref:"ps_danger_dialog"},null,512),t(L,{ref:"ps_warning_dialog"},null,512)]),_:1})],64)}var to=ae(le,[["render",Pe]]);export{to as default};
