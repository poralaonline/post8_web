import{bD as ot,y as h,i as S,H as ct}from"./app.d57d51e9.js";import{P as dt}from"./ProductParameterHolder.e481cecf.js";import{a as k,P as d}from"./PsApiService.1464e9d5.js";import{P as y}from"./Product.8b62d5d3.js";import{P as lt}from"./PsObject.a17ef38f.js";import{D as C}from"./DefaultPhoto.cc755f93.js";import{A as L}from"./ApiStatus.5720ba0b.js";import{U as rt}from"./UserDeleteItemParameterHolder.5d816aba.js";import{m as ft}from"./PsSepetetedStore.9a31ac47.js";import{P as g}from"./ps_constants.115f3686.js";class _t{constructor(){this.urlParamsAndQuery={params:{},query:{}},this.keyword="",this.country_name="",this.country_code="",this.status="",this.is_default="",this.keyword="",this.country_name="",this.country_code="",this.status="",this.is_default=""}getUrlParamsAndQuery(){const s={},n={};return this.keyword!=""&&(s.keyword=this.keyword),this.country_name!=""&&(s.country_name=this.country_name),this.country_code!=""&&(s.country_code=this.country_code),this.status!=""&&(s.status=this.status),this.is_default!=""&&(s.is_default=this.is_default),this.urlParamsAndQuery.params=n,this.urlParamsAndQuery.query=s,this.urlParamsAndQuery}parseParamsAndQuery(s){var n,i,u,l,f,r,v,I,w,P;this.keyword=(i=(n=s.keyword)==null?void 0:n.toString())!=null?i:"",this.country_name=(l=(u=s.country_name)==null?void 0:u.toString())!=null?l:"",this.country_code=(r=(f=s.country_code)==null?void 0:f.toString())!=null?r:"",this.status=(I=(v=s.status)==null?void 0:v.toString())!=null?I:"",this.is_default=(P=(w=s.is_default)==null?void 0:w.toString())!=null?P:""}getRecentParameterHolder(){return this.keyword="",this.country_name="",this.country_code="",this.status="",this.is_default="",this}resetParameterHolder(){return this.keyword="",this.country_name="",this.country_code="",this.status="",this.is_default="",this}toMap(){const s={};return s.keyword=this.keyword,s.country_name=this.country_name,s.country_code=this.country_code,s.status=this.status,s.is_default=this.is_default,s}}class R extends lt{constructor(){super(...arguments),this.id="",this.country_name="",this.country_code="",this.status="",this.is_default=""}init(s,n="",i="",u="",l=""){return this.id=s,this.country_name=n,this.country_code=i,this.status=u,this.is_default=l,this}getPrimaryKey(){return this.id}toMap(s){const n={};return n.id=s.id,n.country_name=s.country_name,n.country_code=s.country_code,n.status=s.status,n.is_default=s.is_default,n}toMapList(s){const n=[];for(let i=0;i<s.length;i++)s[i]!=null&&n.push(this.toMap(s[i]));return n}fromMap(s){return new R().init(s.id,s.country_name,s.country_code,s.status,s.is_default)}fromMapList(s){const n=[];for(const i in s)i!=null&&n.push(this.fromMap(i));return n}}const Lt=ft(T=>ot(`productStore/${T}`,()=>{const s=h(new k),n=h(new k),i=h(new k),u=h({value:!1});let l=S(10),f=0;const r=h({value:!1});let v="",I=h(new dt().getRecentParameterHolder()),w=h(new _t().getRecentParameterHolder()),P=S(!1),p=S({id:"0",name:"Available"}),M=ct({product_relation:{}});const N=S(!1);function O(){return(s==null?void 0:s.data)!=null&&s.data.length>0}function U(t){var e,a;s!=null&&s.data!=null&&s.data.length>0&&f!=0?(t.data!=null&&t.data.length>0?(((e=t.data)==null?void 0:e.length)<l.value?r.value=!0:r.value=!1,s.data.push(...t.data)):r.value=!0,s.code=t.code,s.status=t.status,s.message=t.message):(((a=t.data)==null?void 0:a.length)<l.value||t.data==null?r.value=!0:r.value=!1,s.data=t.data,s.code=t.code,s.status=t.status,s.message=t.message),s!=null&&s.data!=null&&(f=s.data.length)}function b(t){var e,a;n!=null&&n.data!=null&&n.data.length>0&&f!=0?(t.data!=null&&t.data.length>0?(((e=t.data)==null?void 0:e.length)<l?r.value=!0:r.value=!1,n.data.push(...t.data)):r.value=!0,n.code=t.code,n.status=t.status,n.message=t.message):(((a=t.data)==null?void 0:a.length)<l||t.data==null?r.value=!0:r.value=!1,n.data=t.data,n.code=t.code,n.status=t.status,n.message=t.message),n!=null&&n.data!=null&&(f=n.data.length)}async function E(t,e){u.value=!0;const a=await d.getPhoneList(new R,t,l,f,e.toMap());b(a),u.value=!1}async function B(t,e){u.value=!0;const a=await d.getItemListByUserId(new y,l.value,f,t,e.toMap());U(a),u.value=!1}async function x(t,e){f=0,u.value=!0;const a=await d.getItemListByUserId(new y,l.value,f,t,e.toMap());console.log(a),U(a),u.value=!1}async function V(t,e){u.value=!0;const a=await d.getItemDetail(new y,t,e);return i.data=a.data,i.code=a.code,i.status=a.status,i.message=a.message,u.value=!1,i}async function D(t,e,a){u.value=!0;const o=await d.getRelatedProductList(new y,t,e,a,l.value,f);return s.data=o.data,s.code=o.code,s.status=o.status,s.message=o.message,u.value=!1,s}async function Q(t,e){u.value=!0;const a=await d.postItemEntry(new y,t.toMap(),e);return i.data=a.data,i.code=a.code,i.status=a.status,i.message=a.message,u.value=!1,a}async function F(t,e,a,o,c,_,m){u.value=!0;const nt=await d.postItemImageUpload(new C,e,a,o,c,_,m,t);return u.value=!1,nt}async function z(t,e){u.value=!0;const a=await d.ps_image_dropzone_upload_url(new C,t,e);return u.value=!1,a}async function K(t,e){u.value=!0;const a=await d.postReorderItemImage(new L,t,e);return u.value=!1,a}async function Z(t,e,a,o){u.value=!0;const c=await d.postItemVideoUpload(new C,t,e,a,o);return u.value=!1,c}async function $(t,e,a){u.value=!0;const o=await d.postItemVideoThumbUpload(new C,t,e,a);return u.value=!1,o}function G(t){let e="";if(e==""&&t.searchTerm!=""?e="?searchterm="+t.searchTerm:t.searchTerm!=""&&(e=e+"&searchterm="+t.searchTerm),e==""&&t.catId!=""?e="?cat_id="+t.catId:t.catId!=""&&(e=e+"&cat_id="+t.catId),e==""&&t.catName!=""?e="?cat_name="+t.catName:t.catName!=""&&(e=e+"&cat_name="+t.catName),e==""&&t.subCatId!=""?e="?sub_cat_id="+t.subCatId:t.subCatId!=""&&(e=e+"&sub_cat_id="+t.subCatId),e==""&&t.subCatName!=""?e="?sub_cat_name="+t.subCatName:t.subCatName!=""&&(e=e+"&sub_cat_name="+t.subCatName),e==""&&t.itemCurrencyId!=""?e="?item_currency_id="+t.itemCurrencyId:t.itemCurrencyId!=""&&(e=e+"&item_currency_id="+t.itemCurrencyId),e==""&&t.itemLocationId!=""?e="?item_location_id="+t.itemLocationId:t.itemLocationId!=""&&(e=e+"&item_location_id="+t.itemLocationId),e==""&&t.itemLocationTownship!=""?e="?item_location_township_id="+t.itemLocationTownship:t.itemLocationTownship!=""&&(e=e+"&item_location_township_id="+t.itemLocationTownship),e==""&&t.maxPrice!=""?e="?max_price="+t.maxPrice:t.maxPrice!=""&&(e=e+"&max_price="+t.maxPrice),e==""&&t.minPrice!=""?e="?min_price="+t.minPrice:t.minPrice!=""&&(e=e+"&min_price="+t.minPrice),e==""&&t.lat!=""?e="?lat="+t.lat:t.lat!=""&&(e=e+"&lat="+t.lat),e==""&&t.lng!=""?e="?lng="+t.lng:t.lng!=""&&(e=e+"&lng="+t.lng),e==""&&t.mile!=""?e="?mile="+t.mile:t.mile!=""&&(e=e+"&mile="+t.mile),e==""&&t.addedUserId!=""?e="?added_user_id="+t.addedUserId:t.addedUserId!=""&&(e=e+"&added_user_id="+t.addedUserId),e==""&&t.isPaid!=""?e="?ad_post_type="+t.isPaid:t.isPaid!=""&&(e=e+"&ad_post_type="+t.isPaid),e==""&&t.orderBy!=""?e="?order_by="+t.orderBy:t.orderBy!=""&&(e=e+"&order_by="+t.orderBy),e==""&&t.orderType!=""?e="?order_type="+t.orderType:t.orderType!=""&&(e=e+"&order_type="+t.orderType),e==""&&t.status!=""?e="?status="+t.status:t.status!=""&&(e=e+"&status="+t.status),e==""&&t.isSoldOut!=""?e="?is_sold_out="+t.isSoldOut:t.isSoldOut!=""&&(e=e+"&is_sold_out="+t.isSoldOut),e==""&&t.isDiscount!=""?e="?is_discount="+t.isDiscount:t.isDiscount!=""&&(e=e+"&is_discount="+t.isDiscount),e==""&&t.paidStatus!=""?e="?ad_post_type="+t.paidStatus:t.paidStatus!=""&&(e=e+"&ad_post_type="+t.paidStatus),e==""&&t.isPaid!=""?e="?is_paid="+t.isPaid:t.isPaid!=""&&(e=e+"&is_paid="+t.isPaid),e==""&&t.productRelation.length>0){e="?product_relation=";let a="",o="";t.productRelation.forEach((c,_)=>{c.core_keys_id!=""&&c.value!=""&&(_==0?(a=c.core_keys_id,o=c.value):(a=a+"___"+c.core_keys_id,o=o+"___"+c.value))}),e=e+a+"-----"+o}else if(t.productRelation.length>0){e=e+"&product_relation=";let a="",o="";t.productRelation.forEach((c,_)=>{c.core_keys_id!=""&&c.value!=""&&(_==0?(a=c.core_keys_id,o=c.value):(a=a+"___"+c.core_keys_id,o=o+"___"+c.value))}),e=e+a+"-----"+o}return e}async function J(t,e){const a=new rt;a.itemId=e,u.value=!0;const o=await d.deleteItem(new L,t,a.toMap());return u.value=!1,o}async function W(t,e){u.value=!0;const a=0,o=s.data.length,c=await d.getItemListByUserId(new y,o,a,t,e.toMap());s.data=c.data,s.code=c.code,s.status=c.status,s.message=c.message,u.value=!1}async function X(t){u.value=!0;const e=await d.postSellerCreditCard(new L,t);return u.value=!1,e}async function Y(t){u.value=!0;const e=await d.postCreditCardUpdate(new L,t);return u.value=!1,e}function A(){var t;return(i==null?void 0:i.data)&&(i==null?void 0:i.data.isOwner)==g.ONE&&(i==null?void 0:i.data.status)==g.ONE&&((i==null?void 0:i.data.paidStatus)==g.ADSNOTAVAILABLE||((t=i==null?void 0:i.data)==null?void 0:t.paidStatus)==g.ADSFINISHED)}function q(t,e){return A()&&t==!1&&!e}function j(t){var o,c;const e=[],a=(c=(o=i==null?void 0:i.data)==null?void 0:o.productRelation)==null?void 0:c.filter(_=>{var m;return t.includes(_.coreKeysId)&&((m=_.selectedValue[0])==null?void 0:m.value)!==""});return a&&e.push(...a),e}function H(){var t;return((t=i==null?void 0:i.data)==null?void 0:t.isFavourited)==g.ONE}function tt(){var t;return((t=i==null?void 0:i.data)==null?void 0:t.isDiscount)=="1"}function et(){var t,e;return((e=(t=i==null?void 0:i.data)==null?void 0:t.subCategory)==null?void 0:e.id)==""}function st(t){var e,a;return(i==null?void 0:i.data)&&i.data.isSoldOut==g.ZERO&&t==((a=(e=i==null?void 0:i.data)==null?void 0:e.user)==null?void 0:a.userId)}function it(t){var e,a,o;return((e=i==null?void 0:i.data)==null?void 0:e.user)&&((o=(a=i==null?void 0:i.data)==null?void 0:a.user)==null?void 0:o.userId)==t}function at(t){var e;return((e=i==null?void 0:i.data)==null?void 0:e.status)==t}function ut(){var t,e;return(e=(t=i==null?void 0:i.data)==null?void 0:t.vendor.id)!=null?e:""}return{updateCreditCard:Y,postCreditCard:X,itemList:s,item:i,loading:u,limit:l,offset:f,isNoMoreRecord:r,id:v,paramHolder:I,phoneparamHolder:w,phoneList:n,updateProductList:U,loadItemList:B,resetProductList:x,loadItem:V,submitItemEntry:Q,postItemImageUpload:F,postReorderItemImage:K,postItemVideoUpload:Z,postItemVideoThumbUpload:$,getURLforListByParam:G,userDeleteItem:J,refleshProductList:W,loadPhoneCountryCode:E,relatedItem:D,postItemImageUploadDropzone:z,promoteStatus:A,loadProductRelation:j,isFavourite:H,subCategoryIdIsEmpty:et,isSoldOut:st,isUserItem:it,productStatus:at,isItemDiscount:tt,isDiscount:P,showPromoteButton:q,hasData:O,currentstatus:p,form:M,showPopUpFilter:N,getVendorId:ut}}));export{_t as P,R as a,Lt as u};
