import{bD as Ft,y as Ut,Z as Vt,i as c,j as Ht,k as Rt,G as qt,o as U,c as wt,b as e,w as T,a as l,t as Tt,g as Ct,f as xt,F as Ot,B as Pt,O as Wt,r as d}from"./app.d57d51e9.js";import{P as N}from"./ps_constants.115f3686.js";import zt from"./PsIcon.9f1bf232.js";import Bt from"./PsContentContainer.07e1a234.js";import Gt from"./GalleryDetailHorizontalSwiper.c2fade71.js";import jt from"./GalleryVerticalSwiper.eab63f32.js";import Kt from"./PsLoadingDialog.eb65b887.js";import Yt from"./PsConfirmDialog.ca5a3fee.js";import Zt from"./PsErrorDialog.01320524.js";import Jt from"./PsFrontendLayout.296a569b.js";import Qt from"./PsBreadcrumb2.b82160b3.js";import Xt from"./UserListHorizontal.92b25072.js";import $t from"./VendorProfileCard.02830acd.js";import te from"./PsLearnMoreDialog.0e43e687.js";import ee from"./ItemDetailPriceInfoCard.312d5a7f.js";import oe from"./ItemDetailLearnMoreCard.246be253.js";import ae from"./ItemDetailLocationCard.928eda37.js";import re from"./ItemDetailInfoCard.be4b8590.js";import ie from"./ItemDetailStatisticCard.45fdd651.js";import le from"./ItemDetailRelatedItemHorizontalList.b2fded31.js";import de from"./ItemDetailShareAndReport.cbc70429.js";import ne from"./ItemDetailUserListHorizontal.ae486a9f.js";import{u as Nt}from"./ProductStore.8e90df71.js";import{P as me}from"./PsValueStore.97ab20f6.js";import{u as Mt}from"./GalleryStore.f5443d1d.js";import{u as se}from"./AboutUsStore.94eb9030.js";import{u as ce}from"./FavouriteItemStore.14479989.js";import{u as pe}from"./AppInfoStore.9a878473.js";import{a as _e,P as ue}from"./PsApiService.1464e9d5.js";import{A as fe}from"./ApiStatus.5720ba0b.js";import{m as ge}from"./PsSepetetedStore.9a31ac47.js";import{P as ve}from"./ProductParameterHolder.e481cecf.js";import{A as Ie}from"./AppInfoParameterHolder.e24d894d.js";import{T as ye}from"./TouchCountParameterHolder.9ce47d98.js";import{u as Et}from"./CustomFieldStore.14456d77.js";import{_ as he}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsImageModal.522362af.js";import"./vue-neat-modal.d9ed1877.js";import"./DefaultPhoto.cc755f93.js";import"./PsObject.a17ef38f.js";import"./PsUtils.eb7a8002.js";import"./vue-splide.esm.2e16fe25.js";/* empty css                   */import"./GalleryHorizontalItem.102b5b4d.js";import"./PsGalleryModal.d6a9e8a1.js";import"./PsModal.15d0cd4c.js";import"./PsLine.257bf9fc.js";import"./PsLabel.b794d5bb.js";import"./PsButton.38caef2b.js";import"./PsLabelTitle.6c83e503.js";import"./FooterView.a4d00124.js";import"./FooterLinkSection.df20daea.js";import"./PsLink.9f60ebb7.js";import"./PsRouteLink.0b0ba539.js";import"./PsLabelCaption.1fabc18a.js";import"./PsNavTabBar.51c56524.js";import"./PsDropdown.7e09801f.js";import"./PsDropdownSelect.a17b6ef7.js";import"./PsIconToggle.a1ed1abf.js";import"./PsInputWithLeftIcon.098c7e47.js";import"./LocationModal.bd35d2f7.js";import"./LocationParameterHolder.654c399d.js";import"./ItemLocationTownship.94979fe0.js";import"./ItemLocationTownshipStore.0ddf7240.js";import"./PsNavBar.7b51b9e1.js";import"./UserStore.cdfd4a60.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./UserUnReadMessageParameterHolder.7f49d04a.js";import"./PsNotificationBox.9d7f028f.js";import"./Product.8b62d5d3.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./Vendor.fb84ea36.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.d8e86611.js";import"./NotiUnRegisterHolder.eefb692e.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./PsCard.bad5d4b2.js";import"./RatingShow.e18d61ac.js";import"./UserListStore.2c153009.js";import"./UserFollowHolder.8b598f9e.js";import"./moment.9709ab41.js";import"./format.min.0ec31140.js";import"./ProductStatusChangeParameterHolder.1fcea3b1.js";import"./OfferStore.e2187776.js";import"./ItemHorizontalSwiper.a1c786fe.js";/* empty css                        */import"./ItemHorizontalItem.25da7a1e.js";import"./PsLabelTitle4.b5f977c0.js";import"./PsAdSense.3ddcfd76.js";import"./PsValueHolder.31da39a6.js";import"./FollowItemParameterHolder.9e957dbd.js";/* empty css                                                                       */import"./ItemHorizontalSkeletorItem.5e056ac2.js";import"./vue-skeletor.esm.fceae8e3.js";/* empty css                     */import"./ShareToSocialModal.9a1ed4f3.js";import"./PsSuccessDialog.c85d2ec4.js";import"./ReportedItemStore.85e41d49.js";import"./PsStore.6e6808bc.js";const Se=ge(m=>Ft(`touchCountStore/${m}`,()=>{const f=Ut(new _e),M=Ut({value:!1});let t=10,o=0,p="";async function y(g,V){M.value=!0,await ue.postTouchCount(new fe,g,V.toMap()),M.value=!1}return{touchcount:f,loading:M,limit:t,offset:o,id:p,postTouchCount:y}})),be={name:"ItemDetailView",components:{PsLearnMoreDialog:te,PsContentContainer:Bt,PsBreadcrumb2:Qt,PsConfirmDialog:Yt,PsLoadingDialog:Kt,PsErrorDialog:Zt,GalleryDetailHorizontalSwiper:Gt,UserListHorizontal:Xt,GalleryVerticalSwiper:jt,Head:Vt,ItemDetailPriceInfoCard:ee,ItemDetailLearnMoreCard:oe,ItemDetailLocationCard:ae,ItemDetailInfoCard:re,ItemDetailStatisticCard:ie,ItemDetailRelatedItemHorizontalList:le,ItemDetailShareAndReport:de,ItemDetailUserListHorizontal:ne,VendorProfileCard:$t,PsIcon:zt},layout:Jt,props:["query"],setup(m){const f=m.query.item_id,M="",t=Nt("related_item"),o=Nt("detail"),p=Mt("detail"),y=Mt("video"),g=se(),V=ce();t.paramHolder=new ve().getRelatedProductParameterHolder();const _=Se(),ft=Et("detail"),H=Et("owner"),R=c(!1),q=c(1);let O=c(0),W=c(""),z=c(!1);const v=me(),n=c(v.getLoginUserId()),L=c(),E=c(),At=c(),B=c(!1),w=c(),k=new ye,s=pe(),G=new Ie;G.userId=v.getLoginUserId();let gt=c(!1),j=c([]);Ht(async()=>{F(),k.typeId=f,k.userId=n.value,k.typeName="item",n.value!="nologinuser"&&_.postTouchCount(n.value,k),w.value||(w.value=s.isAllPaymentDisable())}),Rt(()=>{o.item.data=null,p.galleryList.data=null,y.galleryList.data=null}),ht();function vt(){var a,r;E.value.openModal("item_detail__safety_tips",(r=(a=g.aboutus)==null?void 0:a.data)==null?void 0:r.safetyTips)}function It(){var a,r;E.value.openModal("term_and_condition__term_and_condition",(r=(a=g.aboutus)==null?void 0:a.data)==null?void 0:r.termsAndConditions)}function yt(){var a,r;E.value.openModal("item_detail__faq",(r=(a=g.aboutus)==null?void 0:a.data)==null?void 0:r.faqPage)}async function F(){var a,r,u,h,S,b,C,x,P,A;await g.loadAboutUs(n.value),await o.loadItem(f,n.value),await H.loadUserCustomFieldList(n.value),j.value=o.loadProductRelation(["ps-itm00002","ps-itm00004","ps-itm00007"]);for(const i of(a=H.customField.data)==null?void 0:a.customList)if(i.coreKeysId==N.WHATSAPP_CORE_KEY_Id&&i.isVisible=="1"){const I=(h=(u=(r=o.item)==null?void 0:r.data)==null?void 0:u.user)==null?void 0:h.userRelation.filter(D=>D.coreKeysId==N.WHATSAPP_CORE_KEY_Id);I.length!=0&&((S=I[0])==null?void 0:S.value)!=null&&(W.value=(b=I[0])==null?void 0:b.value)}console.log(o),console.log((x=(C=o.item)==null?void 0:C.data)==null?void 0:x.vendor),z.value=((A=(P=o.item)==null?void 0:P.data)==null?void 0:A.vendor.expireStatus)==N.VendorExpiryExpiredStatus,await p.resetGalleryList(n.value,f,N.ITEM__RELATED_TYPE),t.paramHolder.catId=o.item.data.catId,await t.resetProductList(n.value,t.paramHolder),s.isShowItemVideo()?(y.galleryList.data=p.galleryList.data.filter(i=>i.imgType!="item-video-icon"),p.galleryList.data=p.galleryList.data.filter(i=>i.imgType!="item-video")):(y.galleryList.data=p.galleryList.data.filter(i=>i.imgType!="item-video-icon"&&i.imgType!="item-video"),p.galleryList.data=p.galleryList.data.filter(i=>i.imgType!="item-video"&&i.imgType!="item-video-icon")),o.promoteStatus()&&!w.value?B.value=!0:B.value=!1,await ft.loadCustomFieldList(n.value),R.value=!0}async function ht(){await s.loadAppInfo(G),s.isShowItemVideo()==N.ONE&&(gt.value=!0),parseInt(s.maxImgUploadOfItem())>=1&&(q.value=parseInt(s.maxImgUploadOfItem()),O.value=q.value+1)}async function St(){n.value&&n.value!=N.NO_LOGIN_USER?(L.value.openModal(),o.isFavourite()?L.value.message=Pt("item_detail__removing_item_from_favourite"):L.value.message=Pt("item_detail__adding_item_to_favourite"),await V.postFavourite(f,n.value),await F(),L.value.closeModal()):Wt.get(route("login"))}const bt=qt(()=>{var a,r,u,h,S,b,C,x,P,A,i,I,D,K,Y,Z,J,Q,X,$,tt,et,ot,at,rt,it,lt,dt,nt,mt,st,ct,pt,_t,ut,kt,Dt;return(s==null?void 0:s.isShowSubCategory())||o.subCategoryIdIsEmpty()?[{label:Pt("ps_nav_bar__home"),url:route("dashboard")},{label:(u=(r=(a=o.item)==null?void 0:a.data)==null?void 0:r.category)==null?void 0:u.catName,url:route("fe_item_list",{cat_id:(b=(S=(h=o.item)==null?void 0:h.data)==null?void 0:S.category)==null?void 0:b.catId,cat_name:(P=(x=(C=o.item)==null?void 0:C.data)==null?void 0:x.category)==null?void 0:P.catName,status:1})},{label:(i=(A=o.item)==null?void 0:A.data)==null?void 0:i.title,color:"text-fePrimary-500"}]:[{label:Pt("ps_nav_bar__home"),url:route("dashboard")},{label:(K=(D=(I=o.item)==null?void 0:I.data)==null?void 0:D.category)==null?void 0:K.catName,url:route("fe_item_list",{cat_id:(J=(Z=(Y=o.item)==null?void 0:Y.data)==null?void 0:Z.category)==null?void 0:J.catId,cat_name:($=(X=(Q=o.item)==null?void 0:Q.data)==null?void 0:X.category)==null?void 0:$.catName,status:1})},{label:(ot=(et=(tt=o.item)==null?void 0:tt.data)==null?void 0:et.subCategory)==null?void 0:ot.name,url:route("fe_item_list",{cat_id:(it=(rt=(at=o.item)==null?void 0:at.data)==null?void 0:rt.category)==null?void 0:it.catId,cat_name:(nt=(dt=(lt=o.item)==null?void 0:lt.data)==null?void 0:dt.category)==null?void 0:nt.catName,sub_cat_id:(ct=(st=(mt=o.item)==null?void 0:mt.data)==null?void 0:st.subCategory)==null?void 0:ct.id,sub_cat_name:(ut=(_t=(pt=o.item)==null?void 0:pt.data)==null?void 0:_t.subCategory)==null?void 0:ut.name,status:1})},{label:(Dt=(kt=o.item)==null?void 0:kt.data)==null?void 0:Dt.title,color:"text-fePrimary-500"}]});return{loadDataForItemDetail:F,dataReady:R,appInfoProvider:s,loginUserId:n,itemId:f,itemName:M,productStore:o,galleryProvider:p,videoStore:y,aboutUsProvider:g,favouriteClicked:St,ps_loading_dialog:L,ps_learn_more_dialog:E,gallery_detail:At,isPromote:B,PsConst:N,safetyTip:vt,termsAndConditions:It,faq:yt,totalCount:O,imageCount:q,itemCustomFieldStore:ft,relatedItemStore:t,productRelation:j,isAllPaymentDisable:w,whatsAppNo:W,breadcrumb:bt,relatedItem:()=>{var r;let a=[];return a.push(f),(r=t.itemList)==null?void 0:r.data.filter(u=>a.indexOf(u.id)==-1)},isVendorExpired:z}}},Ce={class:"mt-32 mb-10"},xe={class:"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-24"},Pe={key:0,class:"mt-10 mb-10 w-full h-20 bg-feWarning-100 rounded-lg mx-auto border border-md border-feWarning-500 py-5 px-10 mb-4 dark:bg-feWarning-800 dark:border-none flex justify-start items-center"},Ae={class:"me-5"},Le={class:"text-feAchromatic-800 dark:text-feAchromatic-100"},we={key:1,class:"mt-10 mb-10 w-full h-20 bg-feWarning-100 rounded-lg mx-auto border border-md border-feWarning-500 py-5 px-10 mb-4 dark:bg-feWarning-800 dark:border-none flex justify-start items-center"},ke={class:"me-5"},De={class:"text-feAchromatic-800 dark:text-feAchromatic-100"},Ue={class:"grid grid-cols-1 sm:grid-cols-12 gap-4"},Te={class:"col-span-1 sm:col-span-7 md:col-span-8"},Ne={class:"mt-6 sm:hidden"},Me={class:"sm:hidden block border-2 border-feSecondary-200 rounded-md mt-4"},Ee={class:"col-span-1 sm:col-span-5 md:col-span-4 hidden sm:block"},Fe={class:"border-2 border-feSecondary-200 rounded-md mt-4"};function Ve(m,f,M,t,o,p){const y=d("Head"),g=d("ps-breadcrumb-2"),V=d("item-detail-share-and-report"),_=d("ps-icon"),ft=d("gallery-vertical-swiper"),H=d("item-detail-price-info-card"),R=d("item-detail-statistic-card"),q=d("item-detail-info-card"),O=d("vendor-profile-card"),W=d("item-detail-user-list-horizontal"),z=d("item-detail-location-card"),v=d("item-detail-learn-more-card"),n=d("item-detail-related-item-horizontal-list"),L=d("ps-content-container"),E=d("ps-loading-dialog"),At=d("gallery-detail-horizontal-swiper"),B=d("ps-learn-more-dialog");return U(),wt(Ot,null,[e(y,{title:m.$t("item__detail")},null,8,["title"]),e(L,null,{content:T(()=>{var w,k,s,G,gt,j,vt,It,yt,F,ht,St,bt,Lt,a,r,u,h,S,b,C,x,P,A,i,I,D,K,Y,Z,J,Q,X,$,tt,et,ot,at,rt,it,lt,dt,nt,mt,st,ct,pt,_t,ut;return[l("div",Ce,[l("div",xe,[e(g,{items:t.breadcrumb},null,8,["items"]),e(V,{loginUserId:t.loginUserId,itemId:t.itemId,itemName:t.itemName},null,8,["loginUserId","itemId","itemName"])]),((k=(w=t.productStore.item)==null?void 0:w.data)==null?void 0:k.vendor.expireStatus)==t.PsConst.VendorExpiryExpiredStatus?(U(),wt("div",Pe,[l("div",Ae,[e(_,{textColor:"text-feWarning-500",class:"pt-1",w:"30",h:"30",name:"warning-triangle"})]),l("div",Le,Tt(m.$t("subscription_expired_text")),1)])):Ct("",!0),((gt=(G=(s=t.productStore.item)==null?void 0:s.data)==null?void 0:G.user)==null?void 0:gt.userId)==t.loginUserId?(U(),wt("div",we,[l("div",ke,[e(_,{textColor:"text-feWarning-500",class:"pt-1",w:"30",h:"30",name:"warning-triangle"})]),l("div",De,Tt(m.$t("please_update_the_quantity_of_this_item")),1)])):Ct("",!0),l("div",Ue,[l("div",Te,[e(ft,{galleryList:(j=t.galleryProvider.galleryList)==null?void 0:j.data,video:(vt=t.videoStore.galleryList)==null?void 0:vt.data,isLoading:!(t.galleryProvider.galleryList.data==null&&t.dataReady)},null,8,["galleryList","video","isLoading"]),e(H,{class:"mt-6 sm:hidden",favouriteClicked:t.favouriteClicked,isAllpaymentDisable:t.isAllPaymentDisable,loginUserId:t.loginUserId,itemId:t.itemId,selectedChatType:(yt=(It=t.appInfoProvider.appInfo.data)==null?void 0:It.psAppSetting)==null?void 0:yt.SelectedChatType,loadDataForItemDetail:t.loadDataForItemDetail,whatsAppNo:t.whatsAppNo},null,8,["favouriteClicked","isAllpaymentDisable","loginUserId","itemId","selectedChatType","loadDataForItemDetail","whatsAppNo"]),e(R,{class:"mt-6 sm:hidden",loginUserId:t.loginUserId,productStore:t.productStore},null,8,["loginUserId","productStore"]),e(q,{productRelation:t.productRelation},null,8,["productRelation"]),l("div",Ne,[((F=t.appInfoProvider)==null?void 0:F.isVendorSettingOn())&&((St=(ht=t.productStore.item)==null?void 0:ht.data)==null?void 0:St.vendor)&&((Lt=(bt=t.productStore.item)==null?void 0:bt.data)==null?void 0:Lt.vendor.id)!=""&&((r=(a=t.productStore.item)==null?void 0:a.data)==null?void 0:r.user)&&((S=(h=(u=t.productStore.item)==null?void 0:u.data)==null?void 0:h.user)==null?void 0:S.userId)!=t.loginUserId?(U(),xt(O,{key:0,vendor:(C=(b=t.productStore.item)==null?void 0:b.data)==null?void 0:C.vendor,itemId:t.itemId},null,8,["vendor","itemId"])):((P=(x=t.productStore.item)==null?void 0:x.data)==null?void 0:P.user)&&((I=(i=(A=t.productStore.item)==null?void 0:A.data)==null?void 0:i.user)==null?void 0:I.userId)!=t.loginUserId?(U(),xt(W,{key:1,user:(K=(D=t.productStore.item)==null?void 0:D.data)==null?void 0:K.user,storeName:t.itemId},null,8,["user","storeName"])):Ct("",!0),e(z,{appInfoProvider:t.appInfoProvider,productStore:t.productStore},null,8,["appInfoProvider","productStore"])]),l("div",Me,[e(v,{text:m.$t("item_detail__safety_tips"),clickLeranMore:t.safetyTip},{icon:T(()=>[l("div",null,[e(_,{textColor:"text-feAchromatic-900 dark:text-feAchromatic-100",class:"pt-1",w:"25",h:"24",name:"safetyTip"})])]),_:1},8,["text","clickLeranMore"]),e(v,{text:m.$t("term_and_condition__term_and_condition"),clickLeranMore:t.termsAndConditions},{icon:T(()=>[l("div",null,[e(_,{textColor:"text-feAchromatic-900 dark:text-feAchromatic-100",name:"termsAndCondition"})])]),_:1},8,["text","clickLeranMore"]),e(v,{text:m.$t("item_detail__faq"),clickLeranMore:t.faq},{icon:T(()=>[l("div",null,[e(_,{textColor:"text-feAchromatic-900 dark:text-feAchromatic-100",name:"faq"})])]),_:1},8,["text","clickLeranMore"])])]),l("div",Ee,[e(H,{favouriteClicked:t.favouriteClicked,loginUserId:t.loginUserId,isAllpaymentDisable:t.isAllPaymentDisable,itemId:t.itemId,selectedChatType:(Z=(Y=t.appInfoProvider.appInfo.data)==null?void 0:Y.psAppSetting)==null?void 0:Z.SelectedChatType,loadDataForItemDetail:t.loadDataForItemDetail,whatsAppNo:t.whatsAppNo,isVendorExpired:t.isVendorExpired},null,8,["favouriteClicked","loginUserId","isAllpaymentDisable","itemId","selectedChatType","loadDataForItemDetail","whatsAppNo","isVendorExpired"]),((J=t.appInfoProvider)==null?void 0:J.isVendorSettingOn())&&((X=(Q=t.productStore.item)==null?void 0:Q.data)==null?void 0:X.vendor)&&((tt=($=t.productStore.item)==null?void 0:$.data)==null?void 0:tt.vendor.id)!=""&&((ot=(et=t.productStore.item)==null?void 0:et.data)==null?void 0:ot.user)&&((it=(rt=(at=t.productStore.item)==null?void 0:at.data)==null?void 0:rt.user)==null?void 0:it.userId)!=t.loginUserId?(U(),xt(O,{key:0,vendor:(dt=(lt=t.productStore.item)==null?void 0:lt.data)==null?void 0:dt.vendor,itemId:t.itemId},null,8,["vendor","itemId"])):((mt=(nt=t.productStore.item)==null?void 0:nt.data)==null?void 0:mt.user)&&((pt=(ct=(st=t.productStore.item)==null?void 0:st.data)==null?void 0:ct.user)==null?void 0:pt.userId)!=t.loginUserId?(U(),xt(W,{key:1,user:(ut=(_t=t.productStore.item)==null?void 0:_t.data)==null?void 0:ut.user,storeName:t.itemId},null,8,["user","storeName"])):Ct("",!0),e(R,{loginUserId:t.loginUserId,productStore:t.productStore},null,8,["loginUserId","productStore"]),e(z,{appInfoProvider:t.appInfoProvider,productStore:t.productStore,mapContainer:"mapContainer2"},null,8,["appInfoProvider","productStore"]),l("div",Fe,[e(v,{text:m.$t("item_detail__safety_tips"),clickLeranMore:t.safetyTip},{icon:T(()=>[l("div",null,[e(_,{textColor:"text-feAchromatic-900 dark:text-feAchromatic-100",class:"pt-1",w:"25",h:"24",name:"safetyTip"})])]),_:1},8,["text","clickLeranMore"]),e(v,{text:m.$t("term_and_condition__term_and_condition"),clickLeranMore:t.termsAndConditions},{icon:T(()=>[l("div",null,[e(_,{textColor:"text-feAchromatic-900 dark:text-feAchromatic-100",name:"termsAndCondition"})])]),_:1},8,["text","clickLeranMore"]),e(v,{text:m.$t("item_detail__faq"),clickLeranMore:t.faq},{icon:T(()=>[l("div",null,[e(_,{textColor:"text-feAchromatic-900 dark:text-feAchromatic-100",name:"faq"})])]),_:1},8,["text","clickLeranMore"])])])]),e(n)])]}),_:1}),e(E,{ref:"ps_loading_dialog"},null,512),e(At,{ref:"gallery_detail"},null,512),e(B,{ref:"ps_learn_more_dialog"},null,512)],64)}var Va=he(be,[["render",Ve]]);export{Va as default};
