import S from"./PsLabel.b794d5bb.js";import P from"./PsButton.38caef2b.js";import k from"./PsRouteLink.0b0ba539.js";import w from"./PsIcon.9f1bf232.js";import I from"./SearchForLargeScreen.4707245f.js";import{P as L}from"./PsValueStore.97ab20f6.js";import{u as N}from"./CategoryStore.47c20fdf.js";import{u as T}from"./TouchCountStore.3fd83f28.js";import{T as j}from"./TouchCountParameterHolder.9ce47d98.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import{i as A,y as B,j as H,o as c,c as n,a as r,m as D,g as x,b as l,w as p,q as m,t as d,F as z,s as U,r as u,E as F,R as $,S as q}from"./app.d57d51e9.js";import"./PsLabelCaption.1fabc18a.js";import"./PsInputWithLeftIcon.098c7e47.js";import"./PsDropdown.7e09801f.js";import"./PsInputWithRightIcon.a3f5430d.js";import"./PsLoadingDialog.eb65b887.js";import"./PsModal.15d0cd4c.js";import"./vue-neat-modal.d9ed1877.js";import"./PsLine.257bf9fc.js";import"./PsLabelTitle.6c83e503.js";import"./LocationParameterHolder.654c399d.js";import"./PsApiService.1464e9d5.js";import"./ItemLocationTownship.94979fe0.js";import"./PsObject.a17ef38f.js";import"./PsSepetetedStore.9a31ac47.js";import"./ps_constants.115f3686.js";import"./ProductStore.8e90df71.js";import"./ProductParameterHolder.e481cecf.js";import"./Product.8b62d5d3.js";import"./DefaultPhoto.cc755f93.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.fb84ea36.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./AppInfoParameterHolder.e24d894d.js";import"./AppInfoStore.9a878473.js";import"./PsStore.6e6808bc.js";const E={name:"DashboardSearchAndPopularCategoryListCard",components:{PsLabel:S,PsButton:P,PsRouteLink:k,PsIcon:w,SearchForLargeScreem:I},props:{bannerImgPath:{type:String,default:""},limit:{type:Number,default:12},showSubCat:{type:Boolean,default:!0}},setup(e){const s=L().getLoginUserId(),t=A(!0),h=B({lifecycle:{loading:()=>{t.value=!0},error:()=>{t.value=!1},loaded:()=>{t.value=!1}}}),y=T(),a=new j;a.typeName="category",a.userId=s;const o=N("dashboard_popular_cat");o.limit=e.limit,o.paramHolder.keyword="",o.paramHolder.orderType="desc",o.paramHolder.orderBy="category_touch_count";function _(f){a.typeId=f,y.postTouchCount(s,a)}return H(()=>{o.resetCategoryList(s,o.paramHolder)}),{lazyOptions:h,is_banner_loading:t,popularCategoryStore:o,updateCategoryTouchCount:_}}},b=e=>($("data-v-d966de1e"),e=e(),q(),e),O={class:"mt-24 w-full"},R={class:"bg-feAchromatic-900 relative"},M={class:"w-full h-[530px] sm:h-[485px] object-cover relative flex justify-center items-center"},G={alt:"Placeholder",class:"w-full opacity-60 h-[530px] sm:h-[485px] object-cover"},J={key:0,class:"opacity-60 w-full h-full flex flex-col justify-center items-center gap-10 absolute bg-gray-300"},K=b(()=>r("span",{class:"loader"},null,-1)),Q=b(()=>r("span",{class:"text-3xl text-gray-500 font-semibold"},"Loading",-1)),W=[K,Q],X={class:"absolute top-0 w-full h-full flex flex-col justify-center gap-5 sm:gap-8"},Y={class:"text-center"},Z={class:"bg-feAchromatic-50 dark:bg-feSecondary-800 rounded-lg px-4 py-4 sm:py-2 mx-auto"},ee={class:""},te={key:0,class:"flex justify-center flex-wrap gap-x-2 sm:gap-x-4 gap-y-4"};function oe(e,v,s,t,h,y){var g;const a=u("ps-label"),o=u("search-for-large-screem"),_=u("ps-button"),f=u("ps-route-link"),C=F("lazy");return c(),n("div",O,[r("div",R,[r("div",M,[D(r("img",G,null,512),[[C,{src:e.$page.props.uploadUrl+"/"+s.bannerImgPath,error:e.$page.props.sysImageUrl+"/default_photo.png",lifecycle:t.lazyOptions.lifecycle}]]),t.is_banner_loading?(c(),n("div",J,W)):x("",!0)]),r("div",X,[r("div",Y,[l(a,{class:"text-xl font-semibold mb-4 sm:text-4xl xl:text-5xl",textColor:"text-fePrimary-50"},{default:p(()=>[m(d(e.$t("home__banner_header")),1)]),_:1}),l(a,{class:"text-base font-normal px-10",textColor:"text-fePrimary-50"},{default:p(()=>[m(d(e.$t("home__banner_desc")),1)]),_:1})]),r("div",Z,[l(o)]),r("div",ee,[l(a,{class:"text-center text-sm font-normal mb-4",textColor:"text-fePrimary-50"},{default:p(()=>[m(d(e.$t("home__popular_categories")),1)]),_:1}),((g=t.popularCategoryStore.itemList)==null?void 0:g.data)!=null?(c(),n("div",te,[(c(!0),n(z,null,U(t.popularCategoryStore.itemList.data.slice(0,6),i=>(c(),n("div",{key:i.catId,class:""},[l(f,{to:{name:s.showSubCat?"fe_sub_category":"fe_item_list",query:{cat_id:i.catId,cat_name:i.catName,status:1}},onClick:re=>t.updateCategoryTouchCount(i.catId)},{default:p(()=>[l(_,{class:"flex flex-row",rounded:"rounded",colors:"bg-feAchromatic-50 dark:bg-feSecondary-800 text-feSecondary-800 dark:text-feSecondary-100 hover:text-fePrimary-500 hover:dark:text-fePrimary-500",hover:"",focus:""},{default:p(()=>[m(d(i.catName),1)]),_:2},1024)]),_:2},1032,["to","onClick"])]))),128))])):x("",!0)])])])])}var Ge=V(E,[["render",oe],["__scopeId","data-v-d966de1e"]]);export{Ge as default};
