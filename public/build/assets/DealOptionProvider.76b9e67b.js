import{a as d,P as l}from"./PsApiService.1464e9d5.js";import{P as n}from"./PsObject.a17ef38f.js";import{y as e}from"./app.d57d51e9.js";class a extends n{constructor(){super(...arguments),this.id="",this.name="",this.status="",this.addedDate=""}init(t,i,s,o){return this.id=t,this.name=i,this.status=s,this.addedDate=o,this}getPrimaryKey(){return this.id}fromMap(t){return new a().init(t.id,t.name,t.status,t.added_date)}fromMapList(t){const i=[];for(const s in t)s!=null&&i.push(this.fromMap(s));return i}toMap(t){const i={};return i.id=t.id,i.name=t.name,i.status=t.status,i.added_date=t.addedDate,i}toMapList(t){const i=[];for(let s=0;s<t.length;s++)t[s]!=null&&i.push(this.toMap(t[s]));return i}}class h{constructor(){this.isNoMoreRecord=e({value:!1}),this.dealOptionList=e(new d),this.loading=e({value:!1}),this.limit=10,this.offset=0}updateDealOptionList(t){var i,s;this.dealOptionList!=null&&this.dealOptionList.data!=null&&this.dealOptionList.data.length>0&&this.offset!=0?(t.data!=null&&t.data.length>0?(((i=t.data)==null?void 0:i.length)<this.limit?this.isNoMoreRecord.value=!0:this.isNoMoreRecord.value=!1,this.dealOptionList.data.push(...t.data)):this.isNoMoreRecord.value=!0,this.dealOptionList.code=t.code,this.dealOptionList.status=t.status,this.dealOptionList.message=t.message):(((s=t.data)==null?void 0:s.length)<this.limit||t.data==null?this.isNoMoreRecord.value=!0:this.isNoMoreRecord.value=!1,this.dealOptionList=t),this.dealOptionList!=null&&this.dealOptionList.data!=null&&(this.offset=this.dealOptionList.data.length)}async loadDealOptionList(){this.loading.value=!0;const t=await l.getDealOptionList(new a,this.limit,this.offset);this.updateDealOptionList(t),this.loading.value=!1}async resetDealOptionList(){this.offset=0,this.loading.value=!0;const t=await l.getDealOptionList(new a,this.limit,this.offset);this.updateDealOptionList(t),this.loading.value=!1}}const m=()=>e(new h);export{a as D,m as c};
