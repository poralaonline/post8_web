import{d as M,Z as N,i as u,y as j,H as J,B as f,o as d,c as m,b as t,w as s,a as o,q as l,t as i,h as O,g as b,F as R,s as T,n as V,f as x,r as a}from"./app.d57d51e9.js";import{P as U}from"./PsLayout.bc5965d6.js";import{u as K}from"./Validators.cb85894a.js";import{P as Z}from"./PsInput.b3485f1e.js";import{P as A}from"./PsLabel.06b4363b.js";import{P as G}from"./PsButton.c9fc3d7e.js";import{P as Q}from"./PsTextarea.2d2fbd18.js";import{P as W}from"./PsLabelHeader4.ad69cbcb.js";import{P as X}from"./PsLabelCaption.b0af0e56.js";import{P as Y}from"./PsCheckbox.f0ec21c6.js";import{P as ee}from"./PsCheckboxValue.373287f4.js";import{P as te}from"./PsBreadcrumb2.761286c6.js";import{P as oe}from"./PsDropdown.0c78da9b.js";import{P as se}from"./PsDropdownSelect.13d0e05f.js";import{P as re}from"./PsIcon.1e42bf4c.js";import{P as ne}from"./PsLoading.1f212adc.js";import{P as ae}from"./PsTooltip.2ee6eee2.js";import{P as le}from"./PsTooltips.1a2d8bd5.js";import{P as ie}from"./PsLoadingCircleDialog.c95deca1.js";import{P as de}from"./PsSuccessDialog.a19b3bb4.js";import{_ as ce}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDangerDialog.1643aeb7.js";import"./PsModal.f198af2b.js";import"./vue-neat-modal.d9ed1877.js";import"./PsToggle.fddd5498.js";import"./toggle.6b621a64.js";import"./PsWarningDialog.67ba6cb5.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.66190284.js";import"./SidebarSubTab.148b6988.js";import"./PsErrorDialog.a25aef9e.js";import"./PsInputWithRightIcon.8c9e6c80.js";import"./PsBannerIcon.0cb3925c.js";import"./PsIcon1.c6e725b1.js";import"./Icons.ebbb778b.js";const _e=M({name:"Edit",components:{PsIcon:re,PsLoading:ne,Head:N,PsInput:Z,PsLabel:A,PsButton:G,PsTextarea:Q,PsLabelHeader4:W,PsLabelCaption:X,PsCheckbox:Y,PsCheckboxValue:ee,PsBreadcrumb2:te,PsDropdown:oe,PsDropdownSelect:se,PsTooltips:le,PsTooltip:ae,PsLoadingCircleDialog:ie,PsSuccessDialog:de},layout:U,props:["errors","status","backend_setting","vendor_subscription"],setup(e){const n=u(!1),k=u(!1),P=u(),S=u();u(e.frontendColors);const D=u(),{isEmpty:B,isNum:E}=K(),q=(_,y)=>{e.errors[_]=y?E(_,y):B(_,y),_=="notic_days"&&(D.value.isError=e.errors.notic_days!="")},p=[{label:"core__be_vendor_feature_on_off",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-175202/4fc3a8c00ffc0ba"},{label:"core__lang_refresh_setting",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-175242/5c613e184364a09"},{label:"core__be_subscriptions_setting",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-179742/8be0d3082e8aac6"}],v=u(p[0].label),C=u(p[0].docu);function c(_){v.value=_.label,C.value=_.docu}let g=JSON.parse(e.vendor_subscription.ref_selection),h=JSON.parse(e.vendor_subscription.setting);const w=j(J({vendor_setting:e.backend_setting.vendor_setting==1,vendor_subscription:h.subscription_plan[0].id,notic_days:h.notic_days,_method:"put"}));console.log(g),console.log(h);function L(_){this.$inertia.post(route("vendor_setting.update",_),w,{forceFormData:!0,onBefore:()=>{n.value=!0},onSuccess:()=>{n.value=!1,k.value=!0,setTimeout(()=>{k.value=!1},1e3)},onError:()=>{n.value=!1}})}function F(){this.$inertia.get(route("vendor_setting.languageRefresh"),{key:"refresh"},{onBefore:()=>{P.value.openModal(f("core__be_updating_title"),f("core__be_lang_refreshing_desc"))},onSuccess:()=>{},onError:()=>{P.value.closeModal()}})}function $(){S.value.openModal(f("core__be_awesome_title"),f("core__be_lang_refresh_success_desc"),f("core__be_btn_back"),()=>{},!0)}return{handleSubmit:L,validateEmptyInput:q,form:w,title:v,settingColumn:p,changeSection:c,loading:n,success:k,docu:C,handleFeLangRefresh:F,ps_loading_circle_dialog:P,langRefreshSuccessDialog:$,ps_success_dialog:S,ref_subscriptions:g,notic_days:D}},computed:{breadcrumb(){return[{label:f("core__be_dashboard_label"),url:route("admin.index")},{label:f("vendor_setting_module"),color:"text-primary-500"}]}},mounted(){this.status.flag=="langSuccess"&&this.langRefreshSuccessDialog()}}),pe={class:"bg-background dark:bg-secondaryDark-black rounded-lg"},ue={class:"bg-primary-50 dark:bg-primary-900"},me={class:"bg-primary-50 flex items-center dark:bg-primary-900 py-2.5 ps-4 rounded-t-lg"},fe={class:"h-8 flex items-center"},be=l(" For more details: "),ge=["href"],he={class:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-4"},ve={key:0},ye={class:"px-4 pt-3"},ke={class:"flex items-center"},Pe=l(" For more details: "),Ce=o("a",{target:"_blank",href:"https://doc.clickup.com/24312566/p/h/q5yqp-175222/be600340120429c",class:"underline"},"Refer to this doc",-1),we={class:"px-4 pb-3"},$e={key:1},xe={class:"rounded-xl"},Se={class:"mt-6"},De={class:""},Be={class:"border border-1 rounded p-4"},Ee={class:"h-auto"},qe={class:"flex flex-row justify-start mt-6"},Le={key:2},Fe={class:"px-4 py-3"},Re={class:"flex items-center"},ze={class:"rounded-md shadow-xs"},Te={class:"pt-2 z-30"},Ve=["onClick"],He={class:"px-4 py-3"},Ie={class:"flex flex-row justify-end mt-6 mb-2.5"},Me={class:"px-4"},Ne=["onClick"];function je(e,n,k,P,S,D){const B=a("Head"),E=a("ps-breadcrumb-2"),q=a("ps-label-header-6"),p=a("ps-icon"),v=a("ps-tooltip"),C=a("ps-checkbox-value"),c=a("ps-label"),g=a("ps-button"),h=a("ps-card"),w=a("ps-dropdown-select"),L=a("ps-dropdown"),F=a("ps-input"),$=a("ps-label-caption"),_=a("ps-loading"),y=a("ps-loading-circle-dialog"),H=a("ps-success-dialog"),I=a("ps-layout");return d(),m(R,null,[t(B,{title:e.$t("vendor_setting_module")},null,8,["title"]),t(I,null,{default:s(()=>[t(E,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),t(h,{class:"w-full h-auto"},{default:s(()=>[o("div",pe,[o("div",ue,[o("div",me,[t(q,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:s(()=>[l(i(e.$t(e.title)),1)]),_:1}),t(v,{tooltiptext:"absolute z-50 bottom-full ms-0.5"},{content:s(()=>[o("div",fe,[t(p,{name:"info",w:"20",h:"20",class:"ms-2.5 transition-all duration-300 text-primary-500"})])]),tooltips:s(()=>[be,o("a",{target:"_blank",href:e.docu,class:"underline"},"Refer to this doc",8,ge)]),_:1})])]),o("form",{onSubmit:n[6]||(n[6]=O(r=>e.handleSubmit(this.backend_setting.id),["prevent"]))},[o("div",he,[o("div",null,[e.title==e.settingColumn[0].label?(d(),m("div",ve,[o("div",ye,[o("div",ke,[t(C,{value:e.form.vendor_setting,"onUpdate:value":n[0]||(n[0]=r=>e.form.vendor_setting=r),class:"font-normal",title:e.$t("core__be_is_vendor_feature_on")},null,8,["value","title"]),t(v,{tooltiptext:"absolute z-50 bottom-full mb-2 -ms-2.5"},{content:s(()=>[t(p,{name:"info",w:"20",h:"20",class:"-ms-1 transition-all duration-300 text-primary-500"})]),tooltips:s(()=>[Pe,Ce]),_:1})])]),o("div",we,[t(c,{class:"ms-2 text-xs",textColor:"text-secondary-400"},{default:s(()=>[l(i(e.$t("core__be_vendor_feature_on_off_desc")),1)]),_:1})])])):b("",!0),e.title==e.settingColumn[1].label?(d(),m("div",$e,[t(h,{class:"w-full h-auto"},{default:s(()=>[o("div",xe,[o("div",Se,[o("div",De,[o("div",Be,[o("div",Ee,[o("div",null,[t(c,{class:"dark:text-white text-secondary-800 font-normal"},{default:s(()=>[l(i(e.$t("fe_lang_refresh_desc")),1)]),_:1})]),o("div",qe,[t(g,{type:"button",onClick:n[1]||(n[1]=r=>e.handleFeLangRefresh()),rounded:"rounded",class:"flex flex-wrap items-center"},{default:s(()=>[t(p,{name:"refresh",class:"me-2 font-semibold"}),t(c,{textColor:"text-white dark:text-secondary-800"},{default:s(()=>[l(i(e.$t("core__be_lang_refresh")),1)]),_:1})]),_:1})])])])])])])]),_:1})])):b("",!0),e.title==e.settingColumn[2].label?(d(),m("div",Le,[o("div",Fe,[o("div",Re,[t(c,{class:"text-base"},{default:s(()=>[l(i(e.$t("core__be_subscription_setting")),1)]),_:1})]),t(L,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:s(()=>[t(w,{placeholder:e.$t("core__be_select_subscription_plan"),selectedValue:e.form.vendor_subscription==""?"":e.ref_subscriptions.subscription_plans.filter(r=>r.id==e.form.vendor_subscription)[0].value},null,8,["placeholder","selectedValue"])]),list:s(()=>[o("div",ze,[o("div",Te,[(d(!0),m(R,null,T(e.ref_subscriptions.subscription_plans,(r,z)=>(d(),m("div",{key:z,class:"flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:Je=>[e.form.vendor_subscription=r.id]},[t(c,{class:V(["ms-2",r.id==e.form.vendor_subscription?" font-bold":""])},{default:s(()=>[l(i(r.value),1)]),_:2},1032,["class"])],8,Ve))),128))])])]),_:1})]),o("div",He,[t(c,{class:"text-base mb-1"},{default:s(()=>[l(i(e.$t("core_be__notic_days")),1)]),_:1}),t(F,{type:"text",ref:"notic_days",value:e.form.notic_days,"onUpdate:value":n[2]||(n[2]=r=>e.form.notic_days=r),placeholder:"core_be__notic_days",onKeyup:n[3]||(n[3]=r=>e.validateEmptyInput("notic_days",e.form.notic_days)),onBlur:n[4]||(n[4]=r=>e.validateEmptyInput("notic_days",e.form.notic_days))},null,8,["value"]),t($,{textColor:"text-red-500 ",class:"mt-2 block"},{default:s(()=>[l(i(e.errors.notic_days),1)]),_:1}),t($,{textColor:"text-secondary-400 mt-1"},{default:s(()=>[l(i(e.$t("core_be__notic_days_note")),1)]),_:1})])])):b("",!0),o("div",Ie,[t(g,{onClick:n[5]||(n[5]=r=>e.handleCancel()),textSize:"text-base",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:s(()=>[l(i(e.$t("core__be_btn_cancel")),1)]),_:1}),t(g,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:s(()=>[e.loading?(d(),x(_,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):b("",!0),e.success?(d(),x(p,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):b("",!0),e.success?(d(),x(c,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:s(()=>[l(i(e.$t("core__be_btn_saved")),1)]),_:1})):b("",!0),!e.loading&&!e.success?(d(),x(c,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:s(()=>[l(i(e.$t("core__be_btn_save")),1)]),_:1})):b("",!0)]),_:1})])]),o("div",Me,[(d(!0),m(R,null,T(e.settingColumn,r=>(d(),m("div",{key:r.id},[o("div",{onClick:z=>e.changeSection(r),class:V([e.title==r.label?"border-l border-s-primary-500":"border-l border-s-secondary-300","px-2 py-3 cursor-pointer"])},[t(c,{textColor:e.title==r.label?"text-primary-500 dark:text-primary-500":"text-secondary-800 dark:text-white"},{default:s(()=>[l(i(e.$t(r.label)),1)]),_:2},1032,["textColor"])],10,Ne)]))),128))])])],32)])]),_:1}),t(y,{ref:"ps_loading_circle_dialog"},null,512),t(H,{ref:"ps_success_dialog"},null,512)]),_:1})],64)}var xt=ce(_e,[["render",je]]);export{xt as default};
