import{i as w,j as q,k as j,B as p,o as n,f as a,w as O,a as i,b as o,g as m,c as z,T as K,r}from"./app.d57d51e9.js";import Q from"./PsContentContainer.07e1a234.js";import W from"./PsLoadingDialog.eb65b887.js";import J from"./PsAdSense.3ddcfd76.js";import X from"./PsFrontendLayout.296a569b.js";import Y from"./PsBreadcrumb2.b82160b3.js";import Z from"./ItemFilterCategoryDropdown.a3206bc3.js";import $ from"./ItemFilterSubCategoryDropdown.305d45a5.js";import oo from"./ItemFilterDiscountSection.54118f7c.js";import to from"./ItemFilterStockSection.b13b2c99.js";import eo from"./ItemFilterPriceRangeInput.283bb74a.js";import ro from"./ItemFilterCustomFieldSection.ec8d6053.js";import io from"./ItemFilterCityDropdown.fcd2638c.js";import no from"./ItemFilterTownshipDropdown.5285be78.js";import ao from"./ItemFilterPickLocationButton.2c8f5f0c.js";import mo from"./ItemFilterItemVerticalList.da44d0d7.js";import so from"./ItemFilterSortAndTypeSection.639b1656.js";import po from"./ItemFilterTitle.24f2d71a.js";import lo from"./ItemFilterKeywordInput.6cb7c7d6.js";import co from"./ItemFilterMobileFilterButton.ac0a8d60.js";import _o from"./ItemFilterClearButton.e6a43537.js";import uo from"./PsLabel.b794d5bb.js";import{u as fo}from"./ProductStore.8e90df71.js";import{P as ho}from"./PsValueStore.97ab20f6.js";import{u as yo}from"./AppInfoStore.9a878473.js";import{P as g}from"./ps_constants.115f3686.js";import{P as go}from"./ProductParameterHolder.e481cecf.js";import{A as bo}from"./AppInfoParameterHolder.e24d894d.js";import{P as wo}from"./PsUtils.eb7a8002.js";import{_ as Po}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.15d0cd4c.js";import"./vue-neat-modal.d9ed1877.js";import"./PsLine.257bf9fc.js";import"./PsLabelTitle.6c83e503.js";import"./PsApiService.1464e9d5.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./FooterView.a4d00124.js";import"./FooterLinkSection.df20daea.js";import"./PsLink.9f60ebb7.js";import"./PsRouteLink.0b0ba539.js";import"./PsLabelCaption.1fabc18a.js";import"./PsIcon.9f1bf232.js";import"./PsNavTabBar.51c56524.js";import"./PsDropdown.7e09801f.js";import"./PsDropdownSelect.a17b6ef7.js";import"./PsIconToggle.a1ed1abf.js";import"./PsInputWithLeftIcon.098c7e47.js";import"./LocationModal.bd35d2f7.js";import"./PsButton.38caef2b.js";import"./LocationParameterHolder.654c399d.js";import"./ItemLocationTownship.94979fe0.js";import"./PsSepetetedStore.9a31ac47.js";import"./ItemLocationTownshipStore.0ddf7240.js";import"./PsNavBar.7b51b9e1.js";import"./UserStore.cdfd4a60.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./UserUnReadMessageParameterHolder.7f49d04a.js";import"./PsConfirmDialog.ca5a3fee.js";import"./PsNotificationBox.9d7f028f.js";import"./Product.8b62d5d3.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./Vendor.fb84ea36.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.d8e86611.js";import"./NotiUnRegisterHolder.eefb692e.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./CategoryStore.47c20fdf.js";import"./PsStore.6e6808bc.js";import"./SubCategoryStore.a76ee423.js";import"./PsIcon.1e42bf4c.js";import"./Icons.ebbb778b.js";import"./PsRadio.1fdf431d.js";import"./PsInput.a60e3eb2.js";import"./PsErrorDialog.01320524.js";import"./CustomFieldStore.14456d77.js";import"./CustomizeUiStore.9bde893f.js";import"./PsSecondaryButton.f117596e.js";import"./MapWithMakersModal.e5f2f212.js";import"./MapWithMakers.008c277a.js";import"./Control.Geocoder.bdf28440.js";import"./GoogleMapWithMakers.4efe6db7.js";import"./index.0d7f04f4.js";import"./PsInputWithRightIcon.a3f5430d.js";const So={name:"ItemListView",components:{PsBreadcrumb2:Y,PsContentContainer:Q,PsLoadingDialog:W,PsAdSense:J,CategoryDropDown:Z,SubCategoryDropDown:$,DiscountSection:oo,StockSection:to,PriceRangeInput:eo,CustomFieldSection:ro,CityDropdown:io,TownshipDropdown:no,PickLocationButton:ao,ItemVerticalList:mo,SortAndTypeSection:so,ItemFilterTitle:po,KeywordInput:lo,MobileFilterButton:co,ClearButton:_o,PsLabel:uo},layout:X,props:["query"],setup(P){const t=fo("list"),b=yo(),e=ho(),l=w(),s=w(!0),d=new bo;t.paramHolder.parseParamsAndQuery(P.query),q(async()=>{d.userId=e.getLoginUserId(),b.loadAppInfo(d),setTimeout(async()=>{window.popStateDetected?(s.value=!1,window.popStateDetected=!1):(s.value==!0&&t.itemList.data==null&&l.value.openModal(),(t.paramHolder.orderBy!=g.FILTERING_TRENDING||t.paramHolder.orderType!=g.FILTERING__DESC)&&(t.paramHolder.sortingName=="Recent",t.paramHolder.orderBy==g.FILTERING__ADDED_DATE,t.paramHolder.orderType==g.FILTERING__DESC),await _())},1e3)}),j(()=>{t.paramHolder=new go().getRecentParameterHolder()});async function _(){l.value.openModal(),(t.paramHolder.mile=="0"||t.paramHolder.mile.toString()=="")&&(t.paramHolder.lat="",t.paramHolder.lng=""),wo.addParamToCurrentUrl(t.getURLforListByParam(t.paramHolder)),await t.resetProductList(e.getLoginUserId(),t.paramHolder),l.value.closeModal(),s.value=!1,console.log(t.itemList.data.length)}const c=w("downArrow");function u(h,y){c.value="upArrow"}function f(h,y){c.value="downArrow"}return{ps_loading_dialog:l,itemProvider:t,appInfoStore:b,enter:u,leave:f,initial:s}},computed:{breadcrumb(){return this.itemProvider.paramHolder.catName&&this.itemProvider.paramHolder.subCatName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,url:route("fe_sub_category",{cat_id:this.query.cat_id,cat_name:this.query.cat_name})},{label:this.itemProvider.paramHolder.subCatName,color:"text-fePrimary-500"}]:this.itemProvider.paramHolder.catName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,color:"text-fePrimary-500"}]:[{label:p("item_detail__home"),url:route("dashboard")},{label:p("fe__search_result"),color:"text-fePrimary-500"}]}}},vo={class:"sm:mt-32 lg:mt-36 mt-28"},Io={class:"flex flex-col sm:flex-row"},xo={class:"flex flex-row sm:mt-0 mt-6"},ko={class:"relative mt-4 sm:mt-10 flex flex-row"},Lo={class:"w-64 me-7 hidden sm:flex flex-col shadow-md dark:bg-feSecondary-800 h-full p-4 rounded-lg"},No={class:"w-full"},Ho={class:"flex flex-row justify-end"},Do={class:"flex flex-row"},Co={class:"sm:block hidden"},To={class:"sm:hidden block"},Ao={key:0,class:"flex justify-between sm:hidden flex-col absolute top-10 right-[40px]"},Bo={class:"flex flex-col w-68 p-8 h-auto bg-feAchromatic-50 dark:bg-feSecondary-800 shadow-xl rounded-lg"},Eo={class:"mx-auto"};function Fo(P,t,b,e,l,s){const d=r("ps-breadcrumb-2"),_=r("clear-button"),c=r("category-drop-down"),u=r("discount-section"),f=r("stock-section"),h=r("price-range-input"),y=r("custom-field-section"),S=r("city-dropdown"),v=r("township-dropdown"),I=r("pick-location-button"),x=r("keyword-input"),k=r("sort-and-type-section"),R=r("mobile-filter-button"),U=r("item-vertical-list"),V=r("ps-ad-sense"),G=r("ps-loading-dialog"),M=r("ps-content-container");return n(),a(M,null,{content:O(()=>{var L,N,H,D,C,T;return[i("div",vo,[i("div",Io,[i("div",xo,[o(d,{items:s.breadcrumb},null,8,["items"])])]),i("div",ko,[i("div",Lo,[o(_),o(c),(L=e.appInfoStore)!=null&&L.isShowDiscount()?(n(),a(u,{key:0})):m("",!0),o(f),(N=e.appInfoStore)!=null&&N.isNoPriceSettingOn()?m("",!0):(n(),a(h,{key:1})),o(y),o(S),(H=e.appInfoStore)!=null&&H.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(D=e.appInfoStore)!=null&&D.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)]),i("div",No,[i("div",Ho,[i("div",Do,[o(x,{class:"sm:block hidden mx-3"}),i("div",Co,[o(k,{isNoPriceSettingOn:(C=e.appInfoStore)==null?void 0:C.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(R)])]),o(x,{class:"sm:hidden mb-4 mt-3 sm:mb-0"}),i("div",To,[o(k,{isNoPriceSettingOn:(T=e.appInfoStore)==null?void 0:T.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(U,{initial:e.initial},null,8,["initial"])]),e.itemProvider.showPopUpFilter?(n(),z("div",Ao,[o(K,{onEnter:e.enter,onLeave:e.leave},{default:O(()=>{var A,B,E,F;return[i("div",Bo,[o(_),o(c,{class:"mb-12"}),(A=e.appInfoStore)!=null&&A.isShowDiscount()?(n(),a(u,{key:0})):m("",!0),o(f,{spaceWrap:!1}),(B=e.appInfoStore)!=null&&B.isNoPriceSettingOn()?m("",!0):(n(),a(h,{key:1})),o(y),o(S),(E=e.appInfoStore)!=null&&E.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(F=e.appInfoStore)!=null&&F.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)])]}),_:1},8,["onEnter","onLeave"])])):m("",!0)])]),i("div",Eo,[o(V,{adFormat:"horizontal"})]),o(G,{ref:"ps_loading_dialog",class:"z-40"},null,512)]}),_:1})}var Pe=Po(So,[["render",Fo],["__scopeId","data-v-291138ee"]]);export{Pe as default};
