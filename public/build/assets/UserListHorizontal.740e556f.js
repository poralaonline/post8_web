import{i as I,o as d,c as v,a as s,b as r,w as l,m as C,g as x,q as c,t as n,f as y,F as P,B as k,O as N,r as _,E as L}from"./app.d57d51e9.js";import F from"./PsCard.bad5d4b2.js";import B from"./PsLabel.b794d5bb.js";import H from"./PsButton.38caef2b.js";import V from"./PsIcon.9f1bf232.js";import E from"./RatingShow.e18d61ac.js";import z from"./PsLabelCaption.1fabc18a.js";import D from"./PsRouteLink.0b0ba539.js";import O from"./PsLoadingDialog.eb65b887.js";import{U as R}from"./User.0c3ba1a8.js";import{u as j}from"./UserListStore.2c153009.js";import{U,u as q}from"./UserStore.cdfd4a60.js";import{P as M}from"./PsValueStore.97ab20f6.js";import{U as T}from"./UserFollowHolder.8b598f9e.js";import{P as G}from"./ps_constants.115f3686.js";import{u as W}from"./ProductStore.8e90df71.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.15d0cd4c.js";import"./vue-neat-modal.d9ed1877.js";import"./PsLine.257bf9fc.js";import"./PsLabelTitle.6c83e503.js";import"./PsObject.a17ef38f.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./PsApiService.1464e9d5.js";import"./UserListParameterHolder.d110b747.js";import"./PsSepetetedStore.9a31ac47.js";import"./DefaultPhoto.cc755f93.js";import"./ApiStatus.5720ba0b.js";import"./ProductParameterHolder.e481cecf.js";import"./Product.8b62d5d3.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemLocationTownship.94979fe0.js";import"./Vendor.fb84ea36.js";import"./UserDeleteItemParameterHolder.5d816aba.js";const J={name:"UserListHorizontal",components:{PsCard:F,PsLabel:B,PsButton:H,PsIcon:V,Rating:E,PsLabelCaption:z,PsRouteLink:D,PsLoadingDialog:O},props:{user:{type:R},onClick:Function,storeName:{type:String,default:""}},setup(o){const m=W("detail"),t=M().getLoginUserId(),f=I(),p=new T,a=new U().getFollowerUsers(),u=new U().getFollowingUsers();a.loginUserId=t,u.loginUserId=t;const i=j(o.storeName),g=q(o.storeName);async function h(w){t&&t!=G.NO_LOGIN_USER?(f.value.openModal(),w.isFollowed=="1"?f.value.message=k("other_profile__removing_user_from_follower_list"):f.value.message=k("other_profile__adding_user_to_follower_list"),p.userId=t,p.followedUserId=w.userId,await g.postUserFollow(p),S(),f.value.closeModal()):N.get(route("login"))}async function S(){o.storeName=="profile-follower"?await i.refleshUserFollowerFollowingList(t,a):o.storeName=="profile-following"?await i.refleshUserFollowerFollowingList(t,u):o.storeName=="top_rated_seller"?await i.refleshTopRatedSellerList(t):o.storeName=="userSearch"?await g.refleshUserSearchList(t,g.userparamHolder):await m.loadItem(o.storeName,t)}return{userListStore:i,followClick:h,LoginUserId:t,psloading:f}}},K={class:"shadow-sm relative bg-feSecondary-50 dark:bg-feSecondary-800 rounded-lg flex flex-col gap-4 p-4 mt-4"},Q={class:"flex gap-4"},X={class:"w-20 h-20 relative cursor-pointer"},Y={alt:"Placeholder",width:"15px",height:"10px",class:"w-full h-full rounded-full object-cover"},Z={key:0,class:"w-8 h-8 bg-feInfo-500 rounded-full p-1 absolute bottom-0 right-0"},$={class:"grow flex flex-col gap-2 justify-center truncate"},ee={class:"flex gap-4 h-6"},oe={key:0,class:"cursor-pointer"},te=["href"],re={key:1,class:"cursor-pointer"},se=["href"],le=s("div",{class:"self-center hidden"},null,-1),ae={class:"grid grid-cols-2"},ie={class:"flex items-center gap-1 col-span-1 md:col-span-2 lg:col-span-1"},ne={class:"flex items-center gap-1"},de={class:"h-9"};function me(o,m,e,t,f,p){const a=_("ps-icon"),u=_("ps-route-link"),i=_("ps-label"),g=_("rating"),h=_("ps-button"),S=_("ps-loading-dialog"),w=L("lazy");return d(),v(P,null,[s("div",K,[s("div",Q,[r(u,{to:{name:"fe_other_profile",params:{userId:e.user.userId}}},{default:l(()=>[s("div",X,[C(s("img",Y,null,512),[[w,{src:o.$page.props.thumb1xUrl+"/"+e.user.userCoverPhoto,loading:o.$page.props.sysImageUrl+"/loading_gif.gif",error:o.$page.props.sysImageUrl+"/default_profile.png"}]]),e.user.isVerifybluemark=="1"?(d(),v("div",Z,[r(a,{name:"bluemark",textColor:"text-feSecondary-50",w:"24",h:"24"})])):x("",!0)])]),_:1},8,["to"]),s("div",$,[r(u,{to:{name:"fe_other_profile",params:{userId:e.user.userId}},class:"cursor-pointer"},{default:l(()=>[r(i,{textColor:"text-lg font-semibold text-feSecondary-800 dark:text-feSecondary-50"},{default:l(()=>[c(n(e.user.userName.length>17?e.user.userName.slice(0,17)+"...":e.user.userName),1)]),_:1})]),_:1},8,["to"]),r(u,{to:{name:"fe_review_list",query:{user_id:e.user.userId}}},{default:l(()=>[r(g,{rating:e.user?Number(e.user.overallRating):0,maxStars:5,iconColor:"text-feWarning-500",size:"1x"},null,8,["rating"])]),_:1},8,["to"]),s("div",ee,[e.user.isShowPhone=="1"&&e.user.userPhone?(d(),v("div",oe,[s("a",{href:"tel:"+e.user.userPhone},[r(a,{name:"phone",w:"24",h:"24"})],8,te)])):x("",!0),e.user.isShowEmail=="1"&&e.user.userEmail?(d(),v("div",re,[s("a",{href:"mailto:"+e.user.userEmail},[r(a,{name:"email",w:"24",h:"24"})],8,se)])):x("",!0)])]),le]),s("div",ae,[s("div",ie,[r(a,{class:"text-feSecondary-800 dark:text-feSecondary-50",name:"user-group-fill",w:"24",h:"24",viewBox:"0 0 24 24"}),r(i,{textColor:"text-sm font-medium text-feSecondary-800 dark:text-feSecondary-50"},{default:l(()=>[c(n(e.user?e.user.followerCount:"0")+" "+n(o.$t("profile__followers")),1)]),_:1})]),s("div",ne,[r(a,{class:"text-feSecondary-800 dark:text-feSecondary-50",name:"shoppingCart-fill",w:"24",h:"24",viewBox:"0 0 24 24"}),r(i,{textColor:"text-sm font-medium text-feSecondary-800 dark:text-feSecondary-50"},{default:l(()=>[c(n(e.user?e.user.activeItemCount:"0")+" "+n(o.$t("user__item")),1)]),_:1})])]),s("div",de,[e.user.userId==t.LoginUserId?(d(),y(h,{key:0,class:"absolute bottom-4 right-4 left-4",disabled:""},{default:l(()=>[c(n(o.$t("other_profile__follow")),1)]),_:1})):e.user.isFollowed=="0"?(d(),y(h,{key:1,class:"absolute bottom-4 right-4 left-4",onClick:m[0]||(m[0]=b=>t.LoginUserId==e.user.userId?"":t.followClick(e.user))},{default:l(()=>[c(n(o.$t("other_profile__follow")),1)]),_:1})):(d(),y(h,{key:2,class:"absolute bottom-4 right-4 left-4",onClick:m[1]||(m[1]=b=>t.followClick(e.user))},{default:l(()=>[c(n(o.$t("other_profile__following")),1)]),_:1}))])]),r(S,{ref:"psloading",isClickOut:!1},null,512)],64)}var Ke=A(J,[["render",me]]);export{Ke as default};
