import f from"./PsIcon.9f1bf232.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import{i as a,o as c,c as v,a as m,F as S,s as I,q as x,t as y,n as h,x as p,b as w,f as u,r as C}from"./app.d57d51e9.js";const A={name:"RatingSelected",components:{PsIcon:f},props:{increment:{type:Number,default:0},maxStars:{type:Number,default:0},iconColor:{type:String,default:"text-fePrimary-500 dark:text-feAccent-500"},ratingIcon:{type:String,default:"star"},rateAble:{type:Boolean,default:!0}},data(){return{stars:0}},setup(){const t=a(!1),i=a(-1),n=a(-1),r=a(),l=a(),e=a(),o=a(),s=a(),d=a(!1),g=a(!0);return{ratingContainer:r,isHover:t,activeIcon:i,hoverActiveIcon:n,activeState:l,isActiveRating:e,isRatingEqualToIndex:s,isRatingWithPrecision:o,showRatingWithPrecision:d,showEmptyIcon:g}},methods:{calculateRate(t){var o;const{width:i,left:n}=this.ratingContainer.getBoundingClientRect(),l=(t.clientX-n)/i*this.maxStars,e=Math.round((l+this.increment/2)/this.increment)*this.increment;return Number(e.toFixed(((o=this.increment.toString().split(".")[1])==null?void 0:o.length)||0))},getRating(){return this.stars},hoverMove(t){this.isHover=!0,this.hoverActiveIcon=this.calculateRate(t)},hoverLeave(t){this.isHover=!1,this.hoverActiveIcon=-1},rate(t){this.isHover=!1,this.activeIcon=this.calculateRate(t),this.stars=this.activeIcon},conditions(t){this.activeState=this.isHover?this.hoverActiveIcon:this.activeIcon,this.showEmptyIcon=this.activeState===-1||this.activeState<t,this.isActiveRating=this.activeState!==1,this.isRatingWithPrecision=this.activeState%1!==0,this.isRatingEqualToIndex=Math.ceil(this.activeState)===t,this.showRatingWithPrecision=this.isActiveRating&&this.isRatingWithPrecision&&this.isRatingEqualToIndex}}},b={class:"flex relative"};function k(t,i,n,r,l,e){const o=C("ps-icon");return c(),v("div",b,[m("div",{class:"flex cursor-pointer",ref:"ratingContainer",onMousemove:i[0]||(i[0]=(...s)=>e.hoverMove&&e.hoverMove(...s)),onClick:i[1]||(i[1]=(...s)=>e.rate&&e.rate(...s)),onMouseleave:i[2]||(i[2]=(...s)=>e.hoverLeave&&e.hoverLeave(...s))},[(c(!0),v(S,null,I(n.maxStars,s=>(c(),v("div",{key:s,class:"relative star me-1"},[x(y(e.conditions(s))+" ",1),m("div",{class:h("absolute overflow-hidden "),style:p(`width: ${r.showRatingWithPrecision?`${r.activeState%1*100}%`:"0%"}`)},[w(o,{name:"starFill",class:h(n.iconColor),w:"28",h:"28"},null,8,["class"])],4),r.showEmptyIcon?(c(),u(o,{key:0,name:"starOutline",class:h(n.iconColor),w:"28",h:"28"},null,8,["class"])):(c(),u(o,{key:1,name:"starFill",class:h(n.iconColor),w:"28",h:"28"},null,8,["class"]))]))),128))],544)])}var M=R(A,[["render",k]]);export{M as default};
