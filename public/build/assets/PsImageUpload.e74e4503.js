import{P as I}from"./PsButton.c9fc3d7e.js";import{P as B}from"./PsLabel.06b4363b.js";import{P as F}from"./PsLabelTitle3.78de00b9.js";import{P as N}from"./PsIcon.1e42bf4c.js";import{P as S}from"./PsIcon1.c6e725b1.js";import{P as z}from"./PsDraggable.aca5d6c1.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";import{y as j,i as w,o as d,c as C,b as p,w as l,f as u,q as i,t as s,a as g,n as V,g as D,r as c}from"./app.d57d51e9.js";const L={name:"PsImageUpload",props:{imageFile:{type:Object},disabled:{type:Boolean,default:!1}},components:{PsButton:I,PsLabel:B,PsLabelTitle3:F,PsIcon:N,PsDraggable:z,PsIcon1:S},setup(n,{emit:a}){const t=j({data:[]}),e=w();let m;function v(){e.value.click()}function b(){return t.data[0]}let r=w(),_=w();function y(h){const o=h.target.files;console.log(o),t.data=[];for(let f=0;f<o.length;f++){const P=new FileReader;P.onload=k=>{t.data.push(k.target&&k.target.result?k.target.result.toString():"")},P.readAsDataURL(o[f]),m=o[f],r.value=m.name,_.value=m.size*(1/8)*(1/1e3),a("update:imageFile",m)}}function x(){t.data=[]}return{imageClick:v,image:e,onImageSelected:y,previewImage:t,getImageUrl:b,imageName:r,imageSize:_,cancel:x}}},E={class:"w-full"},R={key:0,class:"flex flex-row items-center bg-primary-50 h-16 dark:bg-indigo-900 dark:rounded-b-lg"},T={class:"w-20"},q=["src"],A={class:"w-full flex justify-between mx-4"},O={class:"mt-2 flex-rows"};function G(n,a,t,e,m,v){const b=c("ps-icon"),r=c("ps-label"),_=c("ps-button"),y=c("ps-draggable"),x=c("ps-label-title-3"),h=c("ps-icon-1");return d(),C("div",E,[p(y,{disabled:t.disabled,class:V(["mt-4 px-2.5 h-52 rounded-lg",e.previewImage.data[0]?"border-b-0":""])},{default:l(()=>[p(b,{name:"small-cloud",theme:t.disabled?"text-secondary-300 dark:text-secondary-700":"text-secondary-500"},null,8,["theme"]),e.previewImage.data!=""?(d(),u(r,{key:0,textColor:t.disabled?"text-secondary-300 dark:text-secondary-700 mb-2":"text-secondary-500  mb-2"},{default:l(()=>[i(s(e.previewImage.data.length)+" "+s(n.$t("ps_image_upload_file_is_chosen_text")),1)]),_:1},8,["textColor"])):(d(),u(r,{key:1,textColor:t.disabled?"text-secondary-300 dark:text-secondary-700 mb-2":"text-secondary-500  mb-2"},{default:l(()=>[i(s(n.$t("ps_image_upload_no_file_is_chosen_text")),1)]),_:1},8,["textColor"])),g("input",{type:"file",accept:"image/*",ref:"image",style:{display:"none"},onChange:a[0]||(a[0]=o=>e.onImageSelected(o))},null,544),t.disabled==!1?(d(),u(_,{key:2,type:"button",onClick:a[1]||(a[1]=o=>e.imageClick()),class:"w-26 py-1 px-2 mt-2",rounded:"rounded"},{default:l(()=>[i(s(n.$t("ps_image_upload__choose_files")),1)]),_:1})):(d(),u(_,{key:3,type:"button",disabled:!0,colors:"bg-secondary-600 text-white",class:"w-26 py-1 px-2 mt-2",rounded:"rounded"},{default:l(()=>[i(s(n.$t("ps_image_upload__choose_files")),1)]),_:1}))]),_:1},8,["disabled","class"]),e.previewImage.data!=""?(d(),C("div",R,[g("div",T,[g("img",{alt:"Placeholder",class:"bg-transparent w-32 h-16 flex items-center justify-center object-cover dark:rounded",width:"68px",height:"62px",src:e.getImageUrl()},null,8,q)]),g("div",A,[g("p",O,[p(r,{class:"font-bold"},{default:l(()=>[i(s(e.imageName),1)]),_:1}),p(x,{class:"dark:text-gray-500"},{default:l(()=>[i(s(n.$t("ps_image_upload__image_size"))+" "+s(e.imageSize),1)]),_:1})]),p(h,{onClick:a[2]||(a[2]=o=>e.cancel()),w:"16",h:"16",name:"cross",theme:"#EF4444"})])])):D("",!0)])}var Z=U(L,[["render",G]]);export{Z as P};
