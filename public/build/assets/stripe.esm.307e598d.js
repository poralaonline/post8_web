import{d as y,i as f,j as v,ac as h,J as E,N as b}from"./app.d57d51e9.js";var g=Object.assign;const j={base:{color:"#32325d",fontFamily:"Helvetica Neue, Roboto",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}};function _({key:o,elements:e=[],constructorOptions:t,elementsOptions:n}){const r=f(null),a=f(null),c=e.map(()=>f(null)),l=()=>typeof window=="undefined"||!window.Stripe?!1:(r.value=window.Stripe(o,t),a.value=r.value.elements(n),e.forEach(({type:i,options:s},d)=>{c[d].value=a.value.create(i,g({style:j},s))}),!0),S=i=>{if(i)try{i.unmount(),i.destroy()}catch{}};return v(()=>{if(!l()){let i=0;const s=setInterval(()=>{i++;const d=l();(d||i>10)&&(clearInterval(s),d||console.error("Stripe library is not loaded"))},500)}}),b(()=>{c.forEach(i=>S(i.value))}),{stripe:r,stripeElements:a,elements:c}}const p=["change","focus","blur","click","ready"];var C=y({name:"StripeElement",props:{element:{type:Object,default:null}},emits:p,setup(o,{emit:e}){const t=f(null),n=r=>{const[a,...c]=p;for(const l of c)r.on(l,()=>e(l));o.element.on(a,l=>e(a,l))};return v(()=>{h(()=>{!o.element||(n(o.element),o.element.mount(t.value))})}),{domRef:t}},render(){return E("div",{ref:"domRef"})}}),w="https://js.stripe.com/v3",R=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,m="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",x=function(){for(var e=document.querySelectorAll('script[src^="'.concat(w,'"]')),t=0;t<e.length;t++){var n=e[t];if(!!R.test(n.src))return n}return null},P=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(w).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},u=null,I=function(e){return u!==null||(u=new Promise(function(t,n){if(typeof window=="undefined"||typeof document=="undefined"){t(null);return}if(window.Stripe&&e&&console.warn(m),window.Stripe){t(window.Stripe);return}try{var r=x();r&&e?console.warn(m):r||(r=P(e)),r.addEventListener("load",function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}),r.addEventListener("error",function(){n(new Error("Failed to load Stripe.js"))})}catch(a){n(a);return}})),u},L=Promise.resolve().then(function(){return I(null)});L.catch(function(o){console.warn(o)});export{C as g,_ as w};
