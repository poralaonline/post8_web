import{d as D,Z as E,i as h,H as T,B as k,o as u,c as H,b as t,w as a,a as n,q as s,t as l,h as U,f,g as b,F as z,r}from"./app.d57d51e9.js";import{P as N}from"./PsLayout.bc5965d6.js";import{P as V}from"./PsBreadcrumb2.761286c6.js";import{u as j}from"./Validators.cb85894a.js";import{P as q}from"./PsInput.b3485f1e.js";import{P as K}from"./PsLabel.06b4363b.js";import{P as M}from"./PsButton.c9fc3d7e.js";import{P as O}from"./PsDangerDialog.1643aeb7.js";import{P as Z}from"./PsCard.e47b5f14.js";import{P as A}from"./PsLoading.1f212adc.js";import{P as G}from"./PsIcon.1e42bf4c.js";import{P as J}from"./PsCheckboxValue.373287f4.js";import{P as Q}from"./PsLabelCaption.b0af0e56.js";import{P as R}from"./PsLabelTitle3.78de00b9.js";import{P as W}from"./PsImageUpload.e74e4503.js";import{_ as X}from"./Dropzone.7608012d.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDropdown.0c78da9b.js";import"./PsDropdownSelect.13d0e05f.js";import"./PsToggle.fddd5498.js";import"./toggle.6b621a64.js";import"./PsWarningDialog.67ba6cb5.js";import"./PsModal.f198af2b.js";import"./vue-neat-modal.d9ed1877.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.66190284.js";import"./SidebarSubTab.148b6988.js";import"./PsErrorDialog.a25aef9e.js";import"./PsInputWithRightIcon.8c9e6c80.js";import"./PsSuccessDialog.a19b3bb4.js";import"./PsBannerIcon.0cb3925c.js";import"./PsIcon1.c6e725b1.js";import"./Icons.ebbb778b.js";import"./PsLoadingCircleDialog.c95deca1.js";import"./PsDraggable.aca5d6c1.js";import"./dropzone.0e7a43e0.js";const ee=D({name:"Create",components:{Head:E,PsBreadcrumb2:V,PsInput:q,PsLabel:K,PsButton:M,PsLabelHeader6:O,PsCard:Z,PsLoading:A,PsIcon:G,PsCheckboxValue:J,PsLabelCaption:Q,PsLabelTitle3:R,PsImageUpload:W,Dropzone:X},layout:N,props:["errors","images"],setup(e){const o=h(!1),p=h(!1),c=h(),{isEmpty:P,minLength:$}=j(),g=(i,d)=>{e.errors[i]=d?$(i,d,3):P(i,d),i=="name"&&(c.value.isError=e.errors.name!="")};let _=T({name:"",cover:"",icon:"",status:!1,extra_caption:[],images:[]});function v(){this.$inertia.post(route("category.store"),_,{forceFormData:!0,onBefore:()=>{o.value=!0},onSuccess:()=>{o.value=!1,p.value=!0,setTimeout(()=>{p.value=!1},2e3)},onError:()=>{c.value.isError=e.errors.name!="",o.value=!1}})}return{validateNameInput:g,handleSubmit:v,form:_,loading:o,success:p,name:c}},computed:{breadcrumb(){return[{label:k("core__be_dashboard_label"),url:route("admin.index")},{label:k("category_module"),url:route("category.index")},{label:k("core__add_category"),color:"text-primary-500"}]}},methods:{handleCancel(){this.$inertia.get(route("category.index"))},removeImage(e){var o=this.form.images.indexOf(e);this.form.images.splice(o,1)},pushImage(e){this.form.images.push(e)},caption(e){let o=!1;this.form.extra_caption.forEach(p=>{if(p.name==e.name)return p.value=e.value,o=!0,!1}),o||this.form.extra_caption.push({name:e.name,value:e.value}),console.log(this.form.extra_caption)}}}),oe={class:"rounded-xl"},te={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 rounded-t-xl"},ae={class:"px-4 pt-6 dark:bg-backgroundDark"},re={class:"grid w-full sm:w-1/2 gap-6"},se=n("span",{class:"text-red-500 ms-1"},"*",-1),le=n("span",{class:"text-red-500 ms-1"},"*",-1),ne=n("span",{class:"text-red-500 ms-1"},"*",-1),me={class:"flex flex-row justify-end mb-2.5"};function ie(e,o,p,c,P,$){const g=r("Head"),_=r("ps-breadcrumb-2"),v=r("ps-label-header-6"),i=r("ps-label"),d=r("ps-input"),y=r("ps-label-caption"),C=r("ps-label-title-3"),w=r("ps-image-upload"),B=r("ps-checkbox-value"),x=r("ps-button"),F=r("ps-loading"),I=r("ps-icon"),L=r("ps-card"),S=r("ps-layout");return u(),H(z,null,[t(g,{title:e.$t("core__add_category")},null,8,["title"]),t(S,null,{default:a(()=>[t(_,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),t(L,{class:"w-full h-auto"},{default:a(()=>[n("div",oe,[n("div",te,[t(v,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:a(()=>[s(l(e.$t("core__be_category_info")),1)]),_:1})]),n("div",ae,[n("div",re,[n("form",{onSubmit:o[7]||(o[7]=U((...m)=>e.handleSubmit&&e.handleSubmit(...m),["prevent"]))},[n("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[s(l(e.$t("core__category_label")),1),se]),_:1}),t(d,{ref:"name",type:"text",value:e.form.name,"onUpdate:value":o[0]||(o[0]=m=>e.form.name=m),placeholder:e.$t("core__category_placeholder"),onKeyup:o[1]||(o[1]=m=>e.validateNameInput("name",e.form.name)),onBlur:o[2]||(o[2]=m=>e.validateNameInput("name",e.form.name))},null,8,["value","placeholder"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[s(l(e.errors.name),1)]),_:1})]),n("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[s(l(e.$t("core__category_photo_label")),1),le]),_:1}),t(C,null,{default:a(()=>[s(l(e.$t("core__be_recommended_size_400_200")),1)]),_:1}),t(w,{uploadType:"image",imageFile:e.form.cover,"onUpdate:imageFile":o[3]||(o[3]=m=>e.form.cover=m)},null,8,["imageFile"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[s(l(e.errors.cover),1)]),_:1})]),n("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[s(l(e.$t("core__category_icon_label")),1),ne]),_:1}),t(C,null,{default:a(()=>[s(l(e.$t("core__be_recommended_size_200_200")),1)]),_:1}),t(w,{class:"w-72",uploadType:"icon",imageFile:e.form.icon,"onUpdate:imageFile":o[4]||(o[4]=m=>e.form.icon=m)},null,8,["imageFile"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[s(l(e.errors.icon),1)]),_:1})]),n("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[s(l(e.$t("core__status_label")),1)]),_:1}),t(B,{value:e.form.status,"onUpdate:value":o[5]||(o[5]=m=>e.form.status=m),class:"font-normal",title:e.$t("core__publish_label")},null,8,["value","title"])]),n("div",me,[t(x,{onClick:o[6]||(o[6]=m=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",hover:""},{default:a(()=>[s(l(e.$t("core__be_btn_cancel")),1)]),_:1}),t(x,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:a(()=>[e.loading?(u(),f(F,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):b("",!0),e.success?(u(),f(I,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):b("",!0),e.success?(u(),f(i,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[s(l(e.$t("core__be_btn_saved")),1)]),_:1})):b("",!0),!e.loading&&!e.success?(u(),f(i,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[s(l(e.$t("core__be_btn_save")),1)]),_:1})):b("",!0)]),_:1})])],32)])])])]),_:1})]),_:1})],64)}var Ge=Y(ee,[["render",ie]]);export{Ge as default};
