import{d as V,i as h,I as U,o as r,c as a,F as y,s as k,b as n,w as i,q as f,t as v,a as w,n as D,g as O,r as b}from"./app.d57d51e9.js";import{P as j}from"./PsLabel.06b4363b.js";import{P as z}from"./PsInput.b3485f1e.js";import{P as I}from"./PsDropdown.0c78da9b.js";import{P as L}from"./PsDropdownSelect.13d0e05f.js";import{P as N}from"./PsTextarea.2d2fbd18.js";import{D as M}from"./DatePicker.2eba1133.js";import A from"./CheckBox.f4553fc0.js";import{P as E}from"./PsImageUpload.e74e4503.js";import{P as F}from"./PsRadioValue.d4f130b1.js";import{P as R}from"./PsLabelCaption.b0af0e56.js";import{k as T}from"./psApiService.cef39261.js";import{P as q}from"./PsInputWithRightIcon.8c9e6c80.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsIcon.1e42bf4c.js";import"./Icons.ebbb778b.js";import"./main.f21f1fe5.js";import"./index.edd1d404.js";import"./PsButton.c9fc3d7e.js";import"./PsLabelTitle3.78de00b9.js";import"./PsIcon1.c6e725b1.js";import"./PsDraggable.aca5d6c1.js";const K=V({name:"VendorDetailStoreBranches",components:{PsLabel:j,PsInput:z,PsDropdown:I,PsDropdownSelect:L,PsTextarea:N,DatePicker:M,CheckBox:A,PsImageUpload:E,PsRadioValue:F,PsLabelCaption:R,PsInputWithRightIcon:q},props:{storeBranches:Object,coreFieldFilterSettings:Object,customizeHeaders:Object,customizeDetails:Object,authUser:Object},setup(e){const t=h(""),p=h(""),P=h(""),c=h("+1"),C=h(!1),d=h(!1);let m=h([]);if(e.storeBranches.phone!=null&&e.storeBranches.phone!=""){const s=e.storeBranches.phone.split("-");s.length>1?(c.value=s[0],t.value=s[1]):t.value=s[0]}p.value=c.value+"-"+t.value;function g(s){d.value=!0,T(s,P.value,e.authUser.id).then(o=>{o.data.length>0?(o.data.forEach(u=>{m.value.push(u)}),C.value=!0):C.value=!1,d.value=!1})}U(P,_.debounce((s,o)=>{let u=0;m.value=[],g(u)},500));function $(s=null){let o=m.value?m.value.length:0;(o==0||s==!0)&&g(o)}function B(s){c.value=s.country_code,t.value==""?p.value="":p.value=c.value+"-"+t.value,e.storeBranches.phone=p.value}function S(s){const o=String.fromCharCode(s.keyCode);if(t.value==""?p.value="":p.value=c.value+"-"+t.value,e.storeBranches.phone=p.value,/^[0-9]+$/.test(o))return!0;s.preventDefault()}return{checkPhone:S,loadPhone:g,loadMore:$,phoneFilterClicked:B,phoneSearch:P,countryCode:c,phone_loadmore_visible:C,is_loading:d,phoneList:m,tempPhone:t}}}),W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"flex flex-row"},J={class:"rounded-md shadow-xs w-56"},Q={class:"pt-2 z-30"},X={key:0},Y={key:1},Z=["onClick"],x={class:"w-56"};function ee(e,t,p,P,c,C){const d=b("ps-label"),m=b("ps-input"),g=b("ps-dropdown-select"),$=b("ps-icon"),B=b("ps-input-with-right-icon"),S=b("ps-dropdown"),s=b("ps-textarea");return r(),a("div",W,[(r(!0),a(y,null,k(e.coreFieldFilterSettings.filter(o=>o.original_field_name==="name"&&o.enable===1&&o.is_delete===0),(o,u)=>(r(),a("div",{class:"mt-4",key:u},[n(d,{class:"text-base font-medium mb-2"},{default:i(()=>[f(v(e.$t(o.label_name)),1)]),_:2},1024),n(m,{type:"text",ref_for:!0,ref:"symbol",value:e.storeBranches.name,"onUpdate:value":t[0]||(t[0]=l=>e.storeBranches.name=l),placeholder:e.$t(o.placeholder)},null,8,["value","placeholder"])]))),128)),(r(!0),a(y,null,k(e.coreFieldFilterSettings.filter(o=>o.original_field_name==="phone"&&o.enable===1&&o.is_delete===0),(o,u)=>(r(),a("div",{class:"mt-4",key:u},[n(d,{class:"text-base font-medium mb-2"},{default:i(()=>[f(v(e.$t(o.label_name)),1)]),_:2},1024),w("div",G,[n(S,{onOnClick:e.loadMore,horizontalAlign:"left",class:"me-0"},{select:i(()=>[n(g,{h:"h-10",rounded:"rounded-s",showCenter:!0,selectedValue:e.countryCode},null,8,["selectedValue"])]),list:i(()=>[w("div",J,[w("div",Q,[e.is_loading?(r(),a("div",X,[n(d,{class:"p-2 flex"},{default:i(()=>[f(v(e.$t("item_entry__loading")),1)]),_:1})])):(r(),a("div",Y,[(r(!0),a(y,null,k(e.phoneList,l=>(r(),a("div",{key:l.id,class:"w-56 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:oe=>e.phoneFilterClicked(l)},[n(d,{class:D(["ms-2",l.country_code==e.countryCode?" font-bold":""])},{default:i(()=>[f(v(l.country_code),1)]),_:2},1032,["class"])],8,Z))),128))]))])])]),loadmore:i(()=>[e.phone_loadmore_visible?(r(),a("div",{key:0,class:"mb-2 w-56",onClick:t[1]||(t[1]=l=>e.loadMore(!0))},[n(d,{class:"flex mt-4 ms-4 mb-2 underline font-bold cursor-pointer"},{default:i(()=>[f(v(e.is_loading?e.$t("core__be_loading"):e.$t("core__be_load_more")),1)]),_:1})])):O("",!0)]),filter:i(()=>[w("div",x,[n(B,{class:"rounded-xl flex-1",value:e.phoneSearch,"onUpdate:value":t[2]||(t[2]=l=>e.phoneSearch=l),placeholder:e.$t("phone_code_by_country")},{icon:i(()=>[n($,{textColor:"text-secondary-400 dark:text-secondaryDark-grey",name:"search",class:"cursor-pointer"})]),_:1},8,["value","placeholder"])])]),_:1},8,["onOnClick"]),n(m,{onKeypress:t[3]||(t[3]=l=>e.checkPhone(l)),class:"flex-grow",rounded:"rounded-e",ref_for:!0,ref:"phone",type:"text",value:e.tempPhone,"onUpdate:value":t[4]||(t[4]=l=>e.tempPhone=l),placeholder:e.$t(o.placeholder)},null,8,["value","placeholder"])])]))),128)),(r(!0),a(y,null,k(e.coreFieldFilterSettings.filter(o=>o.original_field_name==="address"&&o.enable===1&&o.is_delete===0),(o,u)=>(r(),a("div",{class:"mt-4",key:u},[n(d,{class:"text-base font-medium mb-2"},{default:i(()=>[f(v(e.$t(o.label_name)),1)]),_:2},1024),n(s,{rows:"4",value:e.storeBranches.address,"onUpdate:value":t[5]||(t[5]=l=>e.storeBranches.address=l),placeholder:e.$t(o.placeholder)},null,8,["value","placeholder"])]))),128)),(r(!0),a(y,null,k(e.coreFieldFilterSettings.filter(o=>o.original_field_name==="description"&&o.enable===1&&o.is_delete===0),(o,u)=>(r(),a("div",{class:"mt-4",key:u},[n(d,{class:"text-base font-medium mb-2"},{default:i(()=>[f(v(e.$t(o.label_name)),1)]),_:2},1024),n(s,{rows:"4",value:e.storeBranches.description,"onUpdate:value":t[6]||(t[6]=l=>e.storeBranches.description=l),placeholder:e.$t(o.placeholder)},null,8,["value","placeholder"])]))),128))])}var we=H(K,[["render",ee]]);export{we as default};
