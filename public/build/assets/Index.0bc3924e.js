import{i as s,r as n,o as m,f as y,w as a,a as F,b as o,q as p,t as g,c as j,g as v,h as L,d as T,p as A,Z as V,I as z,B as b,O as M,F as E,H as I}from"./app.d57d51e9.js";import{P as R}from"./PsLayout.bc5965d6.js";import{P as H}from"./PsLabel.06b4363b.js";import{P as D}from"./PsButton.c9fc3d7e.js";import{P as U}from"./PsTable2.1a00358d.js";import{P as J}from"./PsAlert.0ab579ab.js";import{P as q}from"./PsBreadcrumb2.761286c6.js";import{d as W}from"./PsDangerDialog.1643aeb7.js";import{P as Y}from"./PsToggle.fddd5498.js";import{P as N}from"./PsIcon.1e42bf4c.js";import{P as G}from"./PsBannerIcon.0cb3925c.js";import{D as Q}from"./PsTableSearch.3fb07b86.js";import{P as X}from"./PsIconButton.4f6354e0.js";import{P as Z}from"./PsModal.f198af2b.js";import{P as K}from"./PsLabelHeader4.ad69cbcb.js";import{P as ee}from"./PsLink1.496ff966.js";import{P as te}from"./PsDraggable.aca5d6c1.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDropdown.0c78da9b.js";import"./PsDropdownSelect.13d0e05f.js";import"./PsWarningDialog.67ba6cb5.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.66190284.js";import"./SidebarSubTab.148b6988.js";import"./PsErrorDialog.a25aef9e.js";import"./PsInputWithRightIcon.8c9e6c80.js";import"./PsSuccessDialog.a19b3bb4.js";import"./PsLoading.1f212adc.js";import"./PsInput.b3485f1e.js";import"./PsLabelCaption.b0af0e56.js";import"./PsLoadingCircleDialog.c95deca1.js";import"./moment.9709ab41.js";import"./PsIcon1.c6e725b1.js";import"./Icons.ebbb778b.js";import"./toggle.6b621a64.js";import"./vue-neat-modal.d9ed1877.js";const oe={name:"PsJsonModal",components:{PsLabelHeader4:K,PsLabel:H,PsLink1:ee,PsButton:D,PsModal:Z,PsIcon:N,PsDraggable:te},props:{url:{type:String,default:"https://bit.ly/3G4MvHj"}},setup(e){const t=s(),S=s();let r,P,k;function h(){t.value.toggle(!1)}function $(l,_){t.value.toggle(!0),r=l,P=_}function C(){S.value.click()}let i=s("");const u=l=>{i.value=l.dataTransfer.files[0]};let c=s();function f(l){k=l.target.files[0],c.value=k.name}function w(l){r(k),t.value.toggle(!1)}async function x(){t.value.toggle(!1)}return{psmodal:t,openModal:$,clicked:x,cancel:h,okClicked:r,cancelClicked:P,defaultClick:C,image:S,dropzoneFile:i,drop:u,onCsvSelected:f,actionClicked:w,fileName:c}}},ae={class:"hidden sm:flex justify-end"},le={class:"mx-2.5"},ne={key:2,class:"file-info"};function re(e,t,S,r,P,k){const h=n("ps-icon"),$=n("ps-label-header-4"),C=n("ps-label"),i=n("ps-button"),u=n("ps-draggable"),c=n("ps-modal");return m(),y(c,{ref:"psmodal",line:"hidden",maxWidth:"480px",bodyHeight:"574px",isClickOut:!1,theme:"px-4 pt-4 pb-8 shadow-xl rounded-lg bg-white dark:bg-secondaryDark-black"},{title:a(()=>[F("div",ae,[o(h,{onClick:t[0]||(t[0]=f=>r.cancel()),name:"cross",theme:"text-secondary-400"})]),o(h,{class:"mx-auto",name:"cloud",w:"79",h:"75",theme:"text-secondary-300 dark:text-secondary-600"}),o($,{class:"text-center font-normal text-2xl mt-6 mb-4"},{default:a(()=>[p(g(e.$t("ps_json_modal__title")),1)]),_:1})]),body:a(()=>[F("div",le,[o(u,{class:"mt-4 px-2.5 py-8",onDrop:L(r.drop,["prevent"])},{default:a(()=>[r.fileName?(m(),y(C,{key:0,textColor:"mb-2"},{default:a(()=>[p("1 "+g(e.$t("image_upload__file_is_choosen")),1)]),_:1})):(m(),y(C,{key:1,textColor:"mb-2"},{default:a(()=>[p(g(e.$t("ps_image_upload__no_file_is_choosen")),1)]),_:1})),F("input",{type:"file",accept:".json",ref:"image",style:{display:"none"},onChange:t[1]||(t[1]=f=>r.onCsvSelected(f))},null,544),o(i,{onClick:t[2]||(t[2]=f=>r.defaultClick()),class:"w-26 h-7 py-1 px-2 mt-2"},{default:a(()=>[p(g(e.$t("ps_csv_modal__choose_files")),1)]),_:1}),r.fileName?(m(),j("span",ne,g(e.$t("ps_csv_modal__file_name"))+": "+g(r.fileName),1)):v("",!0)]),_:1},8,["onDrop"])])]),footer:a(()=>[o(i,{class:"mx-auto mt-2",onClick:t[3]||(t[3]=f=>r.actionClicked())},{default:a(()=>[p(g(e.$t("ps_csv_modal__confirm_button")),1)]),_:1})]),_:1},512)}var se=B(oe,[["render",re]]);const ie=T({name:"Index",components:{Link:A,Head:V,PsLabel:H,PsButton:D,PsTable2:U,PsAlert:J,PsBreadcrumb2:q,PsDangerDialog:W,PsToggle:Y,PsIcon:N,PsBannerIcon:G,Dropdown:Q,PsIconButton:X,PsJsonModal:se},layout:R,props:{status:Object,can:Object,mobile_language:Object,mobile_language_strings:Object,hideShowFieldForFilterArr:Object,showCoreAndCustomFieldArr:Object,sort_field:{type:String,default:""},sort_order:{type:String,default:"desc"},search:String},setup(e){let t=s(!1),S=e.search?s(e.search):s(""),r=e.sort_field?s(e.sort_field):s(""),P=e.sort_order?s(e.sort_order):s("desc");const k=s(),h=s(),$=s(),C=s();z(()=>e.status,()=>{t.value=!0,setTimeout(()=>{t.value=!1},3e3)});function i(l){k.value.openModal(b("core__delete"),b("core__comfirm_to_delete_language_string"),b("core__be_btn_confirm"),b("core__be_btn_cancel"),()=>{this.$inertia.delete(route("mobile_language_string.destroy",[e.mobile_language,l]),{onSuccess:()=>{t.value=!0,setTimeout(()=>{t.value=!1},3e3)},onError:()=>{t.value=!0,setTimeout(()=>{t.value=!1},3e3)}})},()=>{})}function u(l){r.value=l.field,P.value=l.sort_order,w()}function c(l){S.value=l,w(1)}function f(l){w(1,l)}function w(l=null,_=null){M.get(route("mobile_language_string.index",e.mobile_language.id),{mobile_language:e.mobile_language.id,sort_field:r.value,sort_order:P.value,page:l!=null?l:e.mobile_language_strings.meta.current_page,row:_!=null?_:e.mobile_language_strings.meta.per_page,search:S.value},{preserveScroll:!0,preserveState:!0})}function x(){h.value.openModal(l=>{let _=I({csvFile:l,_method:"put"});M.post(route("mobile_language_string.import.csv",e.mobile_language.id),_)})}return{ps_json_modal:h,csvUploadClicked:x,handleRow:f,handleSearchingSorting:w,handleSearching:c,handleSorting:u,visible:t,columns:C,ps_danger_dialog:k,confirmDeleteClicked:i,colFilterOptions:$}},computed:{breadcrumb(){return[{label:b("core__be_dashboard_label"),url:route("admin.index")},{label:b("mobile_language_module"),url:route("mobile_language.index")},{label:b("mobile_language_string_module"),color:"text-primary-500"}]}},methods:{handleCreate(){this.$inertia.get(route("mobile_language_string.create",this.mobile_language.id))},handleEdit(e){this.$inertia.get(route("mobile_language_string.edit",[this.mobile_language,e]))},handlePublish(e,t){t&&this.$inertia.put(route("mobile_language_string.statusChange",e))},FilterOptionshandle(e){M.put(route("mobile_language_string.screenDisplayUiSetting.store"),{value:e,sort_field:this.sort_field,sort_order:this.sort_order,row:this.mobile_language_strings.per_page,search:this.search.value,current_page:this.mobile_language_strings.current_page},{preserveScroll:!0,preserveState:!0})}},created(){this.columns=this.showCoreAndCustomFieldArr.map(e=>({action:e.action,field:e.field,label:b(e.label),sort:e.sort,type:e.type})),this.colFilterOptions=this.hideShowFieldForFilterArr.map(e=>({hidden:e.hidden,id:e.id,key:b(e.key),key_id:e.key_id,label:b(e.label),module_name:e.module_name}))}}),de={class:"flex items-end justify-end"},me=["href"],ue=p("Export Json"),ce=["href"],_e=p("Export CSV"),ge={key:0,class:"flex flex-row"},pe={key:0,class:"flex flex-row"};function fe(e,t,S,r,P,k){const h=n("Head"),$=n("ps-breadcrumb-2"),C=n("ps-banner-icon"),i=n("ps-icon"),u=n("ps-button"),c=n("ps-label"),f=n("ps-json-modal"),w=n("ps-toggle"),x=n("ps-danger-dialog"),l=n("ps-table2"),_=n("ps-layout");return m(),j(E,null,[o(h,{title:e.$t("mobile_language_module")},null,8,["title"]),o(_,null,{default:a(()=>[o($,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),e.visible?(m(),y(C,{key:0,visible:e.visible,theme:e.status.flag=="danger"?"bg-red-500":e.status.flag=="warning"?"bg-yellow-500":"bg-green-500",iconName:e.status.flag=="danger"?"close-circle":e.status.flag=="warning"?"alert-triangle":"rightalert",class:"text-white mb-5 sm:mb-6 lg:mb-8",iconColor:"white"},{default:a(()=>[p(g(e.status.msg.msg),1)]),_:1},8,["visible","theme","iconName"])):v("",!0),F("div",de,[e.can.createMobileLanguageString?(m(),y(u,{key:0,onClick:t[0]||(t[0]=d=>e.handleCreate()),rounded:"rounded-lg",type:"button",class:"flex flex-wrap items-center"},{default:a(()=>[o(i,{name:"plus",class:"me-2 font-semibold"}),p(g(e.$t("core__be_add_mobile_language_string")),1)]),_:1})):v("",!0)]),o(l,{row:e.row,search:e.search,object:this.mobile_language_strings,colFilterOptions:e.colFilterOptions,columns:e.columns,sort_field:e.sort_field,sort_order:e.sort_order,onFilterOptionshandle:e.FilterOptionshandle,onHandleSort:e.handleSorting,onHandleSearch:e.handleSearching,onHandleRow:e.handleRow,searchable:e.showFilter},{searchLeft:a(()=>[e.can.createMobileLanguageString?(m(),y(u,{key:0,rounded:"rounded",onClick:e.csvUploadClicked,class:"ms-3 flex flex-wrap items-center"},{default:a(()=>[o(i,{name:"plus",class:"me-2 font-semibold"}),o(c,{textColor:"text-white dark:text-secondary-800"},{default:a(()=>[p(g(e.$t("import_data")),1)]),_:1})]),_:1},8,["onClick"])):v("",!0),F("a",{href:e.route("mobile_language_string.export.json",e.mobile_language.id)},[e.can.createMobileLanguageString?(m(),y(u,{key:0,rounded:"rounded",colors:"text-primary-500",border:"border border-primary-500",class:"ms-4 flex flex-wrap items-center"},{default:a(()=>[o(i,{name:"fileUpload",class:"me-2 font-semibold"}),o(c,{textColor:"text-primary-500"},{default:a(()=>[ue]),_:1})]),_:1})):v("",!0)],8,me),F("a",{href:e.route("mobile_language_string.export.csv",e.mobile_language.id)},[e.can.createMobileLanguageString?(m(),y(u,{key:0,rounded:"rounded",colors:"text-primary-500",border:"border border-primary-500",class:"ms-4 flex flex-wrap items-center"},{default:a(()=>[o(i,{name:"fileUpload",class:"me-2 font-semibold"}),o(c,{textColor:"text-primary-500"},{default:a(()=>[_e]),_:1})]),_:1})):v("",!0)],8,ce),o(f,{ref:"ps_json_modal",url:"https://drive.google.com/file/d/1wu_YeXwQzcrnYNwBhlM_qFMalaWMmvTp/view?usp=sharing"},null,512)]),tableRow:a(d=>[d.field=="mobile_language_id@@name"?(m(),j("div",ge,[o(c,null,{default:a(()=>[p(g(e.mobile_language.name),1)]),_:1})])):v("",!0),d.field=="status"?(m(),y(w,{key:1,disabled:!d.row.authorization.update,selectedValue:d.row.status==1,onClick:O=>e.handlePublish(d.row.id,d.row.authorization.update),toggleOnTheme:"bg-primary-500 border-primary-500 "},null,8,["disabled","selectedValue","onClick"])):v("",!0)]),tableActionRow:a(d=>[d.field=="action"?(m(),j("div",pe,[o(u,{disabled:!d.row.authorization.update,onClick:O=>e.handleEdit(d.row.id),class:"me-4",colors:"bg-green-400 text-white",padding:"p-1.5",hover:"hover:outline-none hover:ring hover:ring-green-100",focus:"focus:outline-none focus:ring focus:ring-green-200"},{default:a(()=>[o(i,{name:"editPencil",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"]),o(u,{disabled:!d.row.authorization.delete,onClick:O=>e.confirmDeleteClicked(d.row.id),colors:"bg-red-400 text-white",padding:"p-1.5",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-200"},{default:a(()=>[o(i,{theme:"text-white dark:text-primary-900",name:"trash",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"]),o(x,{ref:"ps_danger_dialog"},null,512)])):v("",!0)]),_:1},8,["row","search","object","colFilterOptions","columns","sort_field","sort_order","onFilterOptionshandle","onHandleSort","onHandleSearch","onHandleRow","searchable"])]),_:1})],64)}var et=B(ie,[["render",fe]]);export{et as default};
