import M from"./PsLabel.b794d5bb.js";import q from"./PaidAdItemPaidStatus.da47e5ba.js";import W from"./PsCard.bad5d4b2.js";import J from"./PsIcon.9f1bf232.js";import K from"./PsRouteLink.0b0ba539.js";import Q from"./PsLoadingDialog.eb65b887.js";import{i as T,o as x,c as z,a,b as n,w as m,m as R,n as X,q as p,t as o,f as E,g as j,F as Y,B as O,O as Z,r as P,E as $}from"./app.d57d51e9.js";import{f as ee}from"./format.min.0ec31140.js";import{P as B}from"./ps_constants.115f3686.js";import{P as te,u as ae}from"./PaidAdItemStore.cb4eddbd.js";import{P as G}from"./PsValueStore.97ab20f6.js";import{u as ie}from"./PsValueHolder.31da39a6.js";import{u as oe}from"./AppInfoStore.9a878473.js";import{u as re}from"./FavouriteItemStore.14479989.js";import{A as se}from"./AppInfoParameterHolder.e24d894d.js";import{h as ne}from"./moment.9709ab41.js";import{_ as me}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsLabelCaption.1fabc18a.js";import"./PsModal.15d0cd4c.js";import"./vue-neat-modal.d9ed1877.js";import"./PsLine.257bf9fc.js";import"./PsLabelTitle.6c83e503.js";import"./PsApiService.1464e9d5.js";import"./PsObject.a17ef38f.js";import"./Product.8b62d5d3.js";import"./DefaultPhoto.cc755f93.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemLocationTownship.94979fe0.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.fb84ea36.js";import"./PsSepetetedStore.9a31ac47.js";const de={name:"PaidAdItemHorizontalItem",components:{PsLabel:M,PsCard:W,PsRouteLink:K,PsIcon:J,PaidAdItemPaidStatus:q,PsLoadingDialog:Q},props:{paiditem:{type:te},onClick:Function},setup(){var U,h,y;G.psValueStore=ie();const t=ae(),b=G(),e=re(),i=b.getLoginUserId(),H=new se;H.userId=i;const s=oe(),V=T(!1);((y=(h=(U=s==null?void 0:s.appInfo)==null?void 0:U.data)==null?void 0:h.mobileSetting)==null?void 0:y.is_show_owner_info)=="1"&&(V.value=!0);const r=T();function D(d){var S,I,k,C,A,l,c,u,f,g,F;if(d.toString()=="0")return O("item_price__free");if(((I=(S=s.appInfo.data)==null?void 0:S.psAppSetting)==null?void 0:I.SelectedPriceType)==B.PRICE_RANGE){const v=parseFloat(d),_=parseInt(v);return _>5?"$".repeat(5):_<1?"$".repeat(1):"$".repeat(_)}else{if(((A=(C=(k=s==null?void 0:s.appInfo)==null?void 0:k.data)==null?void 0:C.mobileSetting)==null?void 0:A.price_format)==="###,###")return new Intl.NumberFormat("en-FR",{style:"decimal",useGrouping:!0,minimumFractionDigits:0}).format(d).replace(","," ");if(((u=(c=(l=s==null?void 0:s.appInfo)==null?void 0:l.data)==null?void 0:c.mobileSetting)==null?void 0:u.price_format)==="##,####"){let _=parseFloat(d).toFixed(4).split("."),N=_.pop();return N=_[0],N.replace(/(\d)(?=(\d{4})+$)/g,"$1,")}else return ee((F=(g=(f=s==null?void 0:s.appInfo)==null?void 0:f.data)==null?void 0:g.mobileSetting)==null?void 0:F.price_format,d)}}async function w(d){i&&i!=B.NO_LOGIN_USER?(r.value.openModal(),d.isFavourited=="1"?r.value.message=O("item_detail__removing_item_from_favourite"):r.value.message=O("item_detail__adding_item_to_favourite"),await e.postFavourite(d.id,i),await L(),r.value.closeModal()):Z.get(route("login"))}async function L(){await t.refleshPaidAdItemList(i)}return{itempaidProvider:t,formatPrice:D,psValueStore:b,PsConst:B,appInfoStore:s,favouriteClicked:w,ps_loading_dialog:r,showProfile:V,moment:ne}}},le={class:"relative"},ce={class:"overflow-hidden lg:h-56 h-36 w-full"},fe={alt:"Placeholder",class:"overflow-hidden transform transition duration-500 hover:scale-110 block object-cover w-screen lg:h-56 h-36",width:"640px",height:"360px"},pe={class:"flex items-center gap-2"},_e={class:"grow ms-1"},ue={class:"float-end"},ge={class:"grow ms-3"},xe={class:"float-end"},he={class:"grow ms-1"},ye={key:0,class:"pt-1 pb-2 flex items-center justify-between leading-none px-2 rounded-b-xl lg:rounded-b-2xl"},ve={class:"flex flex-row relative items-center no-underline text-feAchromatic-900"},Pe={alt:"Placeholder",class:"rounded-full bg-transparent lg:w-8 lg:h-8 w-6 h-6 flex items-center justify-center object-cover",width:"50px",height:"50px"},be={class:"ms-2 mt-1 text-sm flex-grow"},we={class:"flex flex-row w-full"},Se={key:0,class:"pt-1 pb-2 flex flex-row items-center no-underline justify-between text-feAchromatic-900 leading-none px-2 rounded-b-xl lg:rounded-b-2xl"},Ie={class:"relative"},ke={alt:"Placeholder",class:"rounded-full bg-transparent lg:w-8 lg:h-8 w-6 h-6 flex items-center justify-center object-cover",width:"50px",height:"50px"},Ce={key:0,class:"w-3 h-3 bg-feInfo-500 rounded-full flex justify-center items-center absolute bottom-0 right-0"},Ae={class:"flex truncate text-xs text-feSecondary-800 dark:text-feSecondary-300"},Fe={class:"font-light text-xs text-feSecondary-500 dark:text-feSecondary-500"};function Ne(t,b,e,i,H,s){const V=P("paid-ad-item-paid-status"),r=P("ps-label"),D=P("ps-icon"),w=P("ps-route-link"),L=P("ps-card"),U=P("ps-loading-dialog"),h=$("lazy");return x(),z(Y,null,[a("div",{class:"cursor-pointer sm:w-full md:w-full",onClick:b[0]||(b[0]=y=>e.onClick!=null?e.onClick(e.paiditem):null)},[n(L,{class:"lg:rounded-lg rounded-lg shadow-sm relative z-0",enabledHover:!0},{default:m(()=>{var y,d,S,I,k,C,A;return[n(w,{to:{name:"fe_item_detail",query:{item_id:e.paiditem.item.id}}},{default:m(()=>{var l,c;return[a("div",le,[a("div",ce,[R(a("img",fe,null,512),[[h,{src:t.$page.props.thumb2xUrl+"/"+e.paiditem.item.defaultPhoto.imgPath,loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_photo.png"}]])]),n(V,{status:e.paiditem?e.paiditem.paidStatus:""},null,8,["status"])]),a("div",{class:X([i.showProfile?"pb-0":"pb-2","pt-2 px-2 flex flex-col gap-2"])},[n(r,{textColor:"text-feSecondary-600 dark:text-feSecondary-200 text-sm"},{default:m(()=>[p(o(e.paiditem.item.title),1)]),_:1}),((c=(l=i.appInfoStore.appInfo.data)==null?void 0:l.psAppSetting)==null?void 0:c.SelectedPriceType)!=i.PsConst.NO_PRICE?(x(),E(r,{key:0,textColor:"font-semibold text-fePrimary-500 text-base"},{default:m(()=>{var u,f;return[p(o(e.paiditem&&((f=(u=i.appInfoStore.appInfo.data)==null?void 0:u.psAppSetting)==null?void 0:f.SelectedPriceType)=="NORMAL_PRICE"?e.paiditem.item.itemCurrency.currencySymbol:"")+" "+o(i.formatPrice(e.paiditem?e.paiditem.item.price:"")),1)]}),_:1})):j("",!0),a("div",pe,[n(D,{name:"location",w:"14",h:"14",viewBox:"0 0 14 14"}),n(r,{textColor:"text-feSecondary-600 dark:text-feSecondary-200 text-sm"},{default:m(()=>[p(o(e.paiditem.item.itemLocation.name),1)]),_:1})]),n(r,{textColor:"flex items-center text-feSecondary-600 dark:text-feSecondary-200 text-sm sm:text-xs md:text-sm"},{default:m(()=>[p(o(t.$t("paid_item_horizontal_item__start"))+" ",1),a("span",_e,[p(": "+o(e.paiditem?i.moment(e.paiditem.startDate.split(" ")[0]).format(t.$page.props.dateFormat):"")+" ",1),a("span",ue,o(e.paiditem?e.paiditem.startDate.split(" ")[1]:""),1)])]),_:1}),n(r,{textColor:"flex items-center text-feSecondary-600 dark:text-feSecondary-200 text-sm sm:text-xs md:text-sm"},{default:m(()=>[p(o(t.$t("paid_item_horizontal_item__end"))+" ",1),a("span",ge,[p(": "+o(e.paiditem?i.moment(e.paiditem.endDate.split(" ")[0]).format(t.$page.props.dateFormat):"")+" ",1),a("span",xe,o(e.paiditem?e.paiditem.endDate.split(" ")[1]:""),1)])]),_:1}),n(r,{textColor:"flex items-center text-feSecondary-600 dark:text-feSecondary-200 text-sm sm:text-xs md:text-sm"},{default:m(()=>[p(o(t.$t("paid_item_horizontal_item__total_spending"))+" ",1),a("span",he,": "+o(e.paiditem?e.paiditem.item.itemCurrency.currencySymbol:"")+" "+o(e.paiditem?e.paiditem.amount:""),1)]),_:1})],2)]}),_:1},8,["to"]),((y=i.appInfoStore)==null?void 0:y.isVendorSettingOn())&&((S=(d=e.paiditem.item)==null?void 0:d.vendor)==null?void 0:S.id)!=""?(x(),E(w,{key:0,to:{name:"fe_vendor_info",params:{vendorId:(k=(I=e.paiditem.item)==null?void 0:I.vendor)==null?void 0:k.id}}},{default:m(()=>{var l,c,u;return[i.showProfile?(x(),z("div",ye,[a("div",ve,[R(a("img",Pe,null,512),[[h,{src:t.$page.props.thumb1xUrl+"/"+((u=(c=(l=e.paiditem.item)==null?void 0:l.vendor)==null?void 0:c.logo)==null?void 0:u.imgPath),loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_vendor_shop.png"}]])]),a("p",be,[a("div",we,[n(r,{class:"text-xs",textColor:"text-feSecondary-800 dark:text-feSecondary-300"},{default:m(()=>{var f,g,F,v,_,N;return[p(o(((g=(f=e.paiditem.item)==null?void 0:f.vendor)==null?void 0:g.name.length)>24?((v=(F=e.paiditem.item)==null?void 0:F.vendor)==null?void 0:v.name.slice(0,24))+" ...":(N=(_=e.paiditem.item)==null?void 0:_.vendor)==null?void 0:N.name),1)]}),_:1}),n(r,{class:"p-1 ms-2 text-xxs rounded-sm bg-feWarning-500",textColor:"text-feAchromatic-50"},{default:m(()=>[p(o(t.$t("core_fe__vendor_indicator")),1)]),_:1})]),n(r,{class:"font-light text-xs",textColor:"text-feSecondary-500 dark:text-feSecondary-500"},{default:m(()=>{var f,g;return[p(o((f=e.paiditem.item)!=null&&f.vendor?i.moment((g=e.paiditem.item)==null?void 0:g.vendor.addedDate).format(t.$page.props.dateFormat):""),1)]}),_:1})])])):j("",!0)]}),_:1},8,["to"])):(x(),E(w,{key:1,to:{name:"fe_other_profile",params:{userId:(A=(C=e.paiditem.item)==null?void 0:C.user)==null?void 0:A.userId}}},{default:m(()=>{var l,c;return[i.showProfile?(x(),z("div",Se,[a("div",Ie,[R(a("img",ke,null,512),[[h,{src:t.$page.props.thumb1xUrl+"/"+((c=(l=e.paiditem.item)==null?void 0:l.user)==null?void 0:c.userCoverPhoto),loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_photo.png"}]]),e.paiditem.item.user.isVerifybluemark=="1"?(x(),z("div",Ce,[n(D,{name:"bluemark",textColor:"text-feSecondary-50",w:"8",h:"8"})])):j("",!0)]),n(r,{class:"ms-2 mt-1 text-sm flex-grow"},{default:m(()=>[a("span",Ae,o(e.paiditem.item.user.userName.length>12?e.paiditem.item.user.userName.slice(0,12)+" ...":e.paiditem.item.user.userName),1),a("span",Fe,o(e.paiditem.item?i.moment(e.paiditem.item.addedDate).format(t.$page.props.dateFormat):""),1)]),_:1})])):j("",!0)]}),_:1},8,["to"]))]}),_:1})]),n(U,{ref:"ps_loading_dialog"},null,512)],64)}var ft=me(de,[["render",Ne]]);export{ft as default};
