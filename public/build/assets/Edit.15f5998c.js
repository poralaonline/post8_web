import{d as T,p as A,Z as H,i as V,B as f,H as F,o as m,c as g,b as t,w as r,q as n,t as s,a,F as $,s as z,n as I,f as k,g as w,h as M,m as U,r as p,E as Z}from"./app.d57d51e9.js";import G from"./PsVendorLayout.91533ecb.js";import{P as J}from"./PsLabel.06b4363b.js";import{P as K}from"./PsButton.c9fc3d7e.js";import{P as Q}from"./PsTable2.1a00358d.js";import{P as R}from"./PsAlert.0ab579ab.js";import{P as W}from"./PsBreadcrumb2.761286c6.js";import{d as X}from"./PsDangerDialog.1643aeb7.js";import{P as Y}from"./PsToggle.fddd5498.js";import{P as ee}from"./PsLoading.1f212adc.js";import{P as oe}from"./PsIcon.1e42bf4c.js";import{P as te}from"./PsBannerIcon.0cb3925c.js";import{P as re}from"./PsIconButton.4f6354e0.js";import{P as se}from"./PsBadge.03793e3e.js";import{P as le}from"./PsDropdown.0c78da9b.js";import{P as ne}from"./PsDropdownSelect.13d0e05f.js";import{_ as de}from"./plugin-vue_export-helper.21dcd24c.js";import"./TitleBar.ce0e8418.js";import"./PsWarningDialog.67ba6cb5.js";import"./PsModal.f198af2b.js";import"./vue-neat-modal.d9ed1877.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./Icons.ebbb778b.js";import"./toggle.6b621a64.js";import"./SidebarMenu.51fb1869.js";import"./SidebarMenuItem.66190284.js";import"./SidebarSubTab.148b6988.js";import"./PsErrorDialog.a25aef9e.js";import"./PsInputWithRightIcon.8c9e6c80.js";import"./PsTableSearch.3fb07b86.js";import"./moment.9709ab41.js";import"./PsIcon1.c6e725b1.js";const ae=T({name:"Edit",components:{Link:A,Head:H,PsLabel:J,PsButton:K,PsTable2:Q,PsAlert:R,PsBreadcrumb2:W,PsDangerDialog:X,PsToggle:Y,PsLoading:ee,PsIcon:oe,PsBannerIcon:te,PsIconButton:re,PsBadge:se,PsDropdown:le,PsDropdownSelect:ne},layout:G,props:{order:Object,paymentStatuses:Object,orderStatuses:Object},setup(e){console.log(e);const b=V(),h=V(!1),C=V(!1),j=[{label:f("core_vendor__product_info"),field:"order_code",type:"String"},{label:f("core_vendor__quantity"),field:"quantity",type:"String"},{label:f("core_vendor__unit_price"),field:"sale_price",type:"String"},{label:f("core_vendor__discount"),field:"discount_price",type:"String"},{label:f("core_vendor__total_price"),field:"order_code",type:"String"}];let P=F({order_status_id:e.order.order_status_id,payment_status_id:e.order.vendor_payment_status_id,_method:"put"});function S(l){this.$inertia.post(route("vendor_order_list.update",l),P,{forceFormData:!0,onBefore:()=>{h.value=!0},onSuccess:()=>{h.value=!1,C.value=!0,setTimeout(()=>{C.value=!1},2e3)},onError:()=>{name.value.isError="name"in e.errors,h.value=!1}})}function x(){this.$inertia.get(route("vendor_order_list.index"))}return{loading:h,success:C,columns:j,orderItems:b,form:P,handleSubmit:S,handleCancel:x}},computed:{breadcrumb(){return[{label:f("core__vendor_my_store_module"),url:route("vendor_info.index")},{label:f("core__vendor_order_list_module"),url:route("vendor_order_list.index")},{label:f("core_vendor__edit_order"),color:"text-primary-500"}]}}}),ie={class:"flex gap-6"},_e={class:"w-full"},ce={class:"rounded-md shadow-xs w-56"},ue={class:"pt-2 z-30"},me=["onClick"],pe={class:"w-full"},be={class:"rounded-md shadow-xs w-56"},fe={class:"pt-2 z-30"},ge=["onClick"],he={class:"flex flex-row justify-end mt-6"},ve={class:"border rounded-b border-t-0 p-4 mb-4"},ye={class:"grid grid-cols-4 gap-1"},Ce={class:""},$e=a("span",{class:"float-end"},":",-1),ke=a("span",{class:"float-end"},":",-1),we=a("span",{class:"float-end"},":",-1),Pe=a("span",{class:"float-end"},":",-1),Se=a("span",{class:"float-end"},":",-1),xe={class:""},Be={class:""},Ve=a("span",{class:"float-end"},":",-1),ze=a("span",{class:"float-end"},":",-1),je=a("span",{class:"float-end"},":",-1),Oe={class:""},Ee={class:"border rounded-b border-t-0 mb-4"},Ie={class:"w-full"},qe={class:"border-b-2"},De={class:"text-start ps-4"},Le=n("#"),Ne={class:"text-start"},Te={class:"text-start"},Ae={class:"text-start"},He={class:"text-start"},Fe={class:"text-start"},Me={class:"border-b-2"},Ue={class:"h-11 ps-4 items-center justify-center"},Ze={class:"py-4"},Ge={class:"flex items-center gap-2"},Je={class:"w-20 h-20 rounded object-cover",width:"24px",height:"24px"},Ke={class:""},Qe={class:""},Re={class:""},We={class:""},Xe={class:"flex justify-end p-4"},Ye={class:"w-96 grid grid-cols-2"},eo=a("span",{class:"col-span-2 border-b-2"},null,-1);function oo(e,b,h,C,j,P){const S=p("Head"),x=p("ps-breadcrumb-2"),l=p("ps-label"),O=p("ps-dropdown-select"),E=p("ps-dropdown"),B=p("ps-button"),q=p("ps-loading"),D=p("ps-icon"),L=p("ps-layout"),N=Z("lazy");return m(),g($,null,[t(S,{title:e.$t("core_vendor__edit_order")},null,8,["title"]),t(L,null,{default:r(()=>[t(x,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),t(l,{class:"text-xl font-semibold mb-4"},{default:r(()=>[n(s(e.$t("core_vendor__order_information")),1)]),_:1}),t(l,{class:"lg:text-lg lg:font-medium bg-primary-50 px-4 py-2 rounded-t"},{default:r(()=>[n(s(e.$t("core_vendor__status_overview")),1)]),_:1}),a("form",{onSubmit:b[1]||(b[1]=M(o=>e.handleSubmit(e.order.id),["prevent"])),class:"border rounded-b border-t-0 p-4 mb-4"},[a("div",ie,[a("div",_e,[t(l,{class:"lg:text-base mb-2 lg:font-medium"},{default:r(()=>[n(s(e.$t("core_vendor__order_status")),1)]),_:1}),t(E,{onOnClick:e.loadMore,horizontalAlign:"left",class:"me-0 w-full"},{select:r(()=>[t(O,{h:"h-10",rounded:"rounded-s",showCenter:!0,selectedValue:e.orderStatuses.filter(o=>o.id==e.form.order_status_id)[0].name},null,8,["selectedValue"])]),list:r(()=>[a("div",ce,[a("div",ue,[a("div",null,[(m(!0),g($,null,z(e.orderStatuses,o=>(m(),g("div",{key:o.id,class:"w-56 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:d=>e.form.order_status_id=o.id},[t(l,{class:I(["ms-2",o.id==e.order.order_status_id?" font-bold":""])},{default:r(()=>[n(s(o.name),1)]),_:2},1032,["class"])],8,me))),128))])])])]),_:1},8,["onOnClick"])]),a("div",pe,[t(l,{class:"lg:text-base mb-2 lg:font-medium"},{default:r(()=>[n(s(e.$t("core_vendor__payment_status")),1)]),_:1}),t(E,{onOnClick:e.loadMore,horizontalAlign:"left",class:"me-0 w-full"},{select:r(()=>[t(O,{h:"h-10",rounded:"rounded-s",showCenter:!0,selectedValue:e.paymentStatuses.filter(o=>o.id==e.form.payment_status_id)[0].name},null,8,["selectedValue"])]),list:r(()=>[a("div",be,[a("div",fe,[a("div",null,[(m(!0),g($,null,z(e.paymentStatuses,o=>(m(),g("div",{key:o.id,class:"w-56 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:d=>e.form.payment_status_id=o.id},[t(l,{class:I(["ms-2",o.id==e.order.vendor_payment_status_id?" font-bold":""])},{default:r(()=>[n(s(o.name),1)]),_:2},1032,["class"])],8,ge))),128))])])])]),_:1},8,["onOnClick"])])]),a("div",he,[t(B,{onClick:b[0]||(b[0]=o=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:r(()=>[n(s(e.$t("core__be_btn_cancel")),1)]),_:1}),t(B,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:r(()=>[e.loading?(m(),k(q,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):w("",!0),e.success?(m(),k(D,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):w("",!0),e.success?(m(),k(l,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:r(()=>[n(s(e.$t("core__be_btn_saved")),1)]),_:1})):w("",!0),!e.loading&&!e.success?(m(),k(l,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:r(()=>[n(s(e.$t("core__be_btn_save")),1)]),_:1})):w("",!0)]),_:1})])],32),t(l,{class:"lg:text-lg lg:font-medium bg-primary-50 px-4 py-2 rounded-t"},{default:r(()=>[n(s(e.$t("core_vendor__order_summary")),1)]),_:1}),a("div",ve,[a("div",ye,[a("div",Ce,[t(l,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[n(s(e.$t("core_vendor__order_id"))+" ",1),$e]),_:1}),t(l,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[n(s(e.$t("core_vendor__order_date"))+" ",1),ke]),_:1}),t(l,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[n(s(e.$t("core_vendor__customer_name"))+" ",1),we]),_:1}),t(l,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[n(s(e.$t("core_vendor__customer_email"))+" ",1),Pe]),_:1}),t(l,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[n(s(e.$t("core_vendor__shipping_address"))+" ",1),Se]),_:1})]),a("div",xe,[t(l,{class:"mb-2"},{default:r(()=>[n(s(e.order.order_code),1)]),_:1}),t(l,{class:"mb-2"},{default:r(()=>[n(s(e.order.order_date),1)]),_:1}),t(l,{class:"mb-2"},{default:r(()=>[n(s(e.order.owner.name),1)]),_:1}),t(l,{class:"mb-2"},{default:r(()=>[n(s(e.order.owner.email),1)]),_:1}),a("div",null,[t(l,null,{default:r(()=>{var o,d,_,c;return[n(s(((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_first_name)+" "+((c=(_=e.order)==null?void 0:_.shipping_and_billing)==null?void 0:c.billing_last_name)),1)]}),_:1}),t(l,null,{default:r(()=>{var o,d;return[n(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_phone_no),1)]}),_:1}),t(l,null,{default:r(()=>{var o,d;return[n(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_email),1)]}),_:1}),t(l,null,{default:r(()=>{var o,d;return[n(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_address),1)]}),_:1}),t(l,null,{default:r(()=>{var o,d,_,c,i,u,v,y;return[n(s(((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_country)+", "+((c=(_=e.order)==null?void 0:_.shipping_and_billing)==null?void 0:c.billing_state)+", "+((u=(i=e.order)==null?void 0:i.shipping_and_billing)==null?void 0:u.billing_city)+", "+((y=(v=e.order)==null?void 0:v.shipping_and_billing)==null?void 0:y.billing_postal_code)),1)]}),_:1})])]),a("div",Be,[t(l,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[n(s(e.$t("core_vendor__payment_method"))+" ",1),Ve]),_:1}),t(l,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[n(s(e.$t("core_vendor__total_order_amount"))+" ",1),ze]),_:1}),t(l,{textColor:"lg:text-secondary-500 mb-2"},{default:r(()=>[n(s(e.$t("core_vendor__billing_address"))+" ",1),je]),_:1})]),a("div",Oe,[t(l,{class:"mb-2"},{default:r(()=>{var o,d;return[n(s((o=e.order.vendor_transaction)!=null&&o.payment_method?(d=e.order.vendor_transaction)==null?void 0:d.payment_method:"N.A"),1)]}),_:1}),t(l,{class:"mb-2"},{default:r(()=>{var o,d;return[n(s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.total_price),1)]}),_:1}),a("div",null,[t(l,null,{default:r(()=>{var o,d,_,c;return[n(s(((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_first_name)+" "+((c=(_=e.order)==null?void 0:_.shipping_and_billing)==null?void 0:c.billing_last_name)),1)]}),_:1}),t(l,null,{default:r(()=>{var o,d;return[n(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_phone_no),1)]}),_:1}),t(l,null,{default:r(()=>{var o,d;return[n(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_email),1)]}),_:1}),t(l,null,{default:r(()=>{var o,d;return[n(s((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_address),1)]}),_:1}),t(l,null,{default:r(()=>{var o,d,_,c,i,u,v,y;return[n(s(((d=(o=e.order)==null?void 0:o.shipping_and_billing)==null?void 0:d.billing_country)+", "+((c=(_=e.order)==null?void 0:_.shipping_and_billing)==null?void 0:c.billing_state)+", "+((u=(i=e.order)==null?void 0:i.shipping_and_billing)==null?void 0:u.billing_city)+", "+((y=(v=e.order)==null?void 0:v.shipping_and_billing)==null?void 0:y.billing_postal_code)),1)]}),_:1})])])])]),t(l,{class:"lg:text-lg lg:font-medium bg-primary-50 px-4 py-2 rounded-t"},{default:r(()=>[n(s(e.order.vendor.name),1)]),_:1}),a("div",Ee,[a("table",Ie,[a("thead",qe,[a("tr",null,[a("th",De,[t(l,{textColor:"font-semibold text-base",class:"my-2"},{default:r(()=>[Le]),_:1})]),a("th",Ne,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>[n(s(e.$t("core_vendor__product_info")),1)]),_:1})]),a("th",Te,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>[n(s(e.$t("core_vendor__quantity")),1)]),_:1})]),a("th",Ae,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>[n(s(e.$t("core_vendor__unit_price")),1)]),_:1})]),a("th",He,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>[n(s(e.$t("core_vendor__discount")),1)]),_:1})]),a("th",Fe,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>[n(s(e.$t("core_vendor__total_price")),1)]),_:1})])])]),a("tbody",Me,[(m(!0),g($,null,z(e.order.order_items,(o,d)=>{var _,c;return m(),g("tr",{key:d},[a("td",Ue,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>[n(s(d+1),1)]),_:2},1024)]),a("td",Ze,[a("div",Ge,[U(a("img",Je,null,512),[[N,{src:e.$page.props.thumb2xUrl+"/"+((c=(_=o.item)==null?void 0:_.cover[0])==null?void 0:c.img_path),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]]),t(l,null,{default:r(()=>{var i;return[n(s((i=o.item)==null?void 0:i.title),1)]}),_:2},1024)])]),a("td",Ke,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>[n(s(o.quantity),1)]),_:2},1024)]),a("td",Qe,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>{var i,u;return[n(s((u=(i=e.order.vendor_transaction)==null?void 0:i.currency)==null?void 0:u.currency_symbol)+s(o.sale_price),1)]}),_:2},1024)]),a("td",Re,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>{var i,u;return[n(s((u=(i=e.order.vendor_transaction)==null?void 0:i.currency)==null?void 0:u.currency_symbol)+s(o.discount_price),1)]}),_:2},1024)]),a("td",We,[t(l,{textColor:"font-semibold text-base"},{default:r(()=>{var i,u;return[n(s((u=(i=e.order.vendor_transaction)==null?void 0:i.currency)==null?void 0:u.currency_symbol)+s(e.order.total_price),1)]}),_:1})])])}),128))])]),a("div",Xe,[a("div",Ye,[t(l,{class:"lg:text-lg p-1"},{default:r(()=>[n(s(e.$t("core_vendor__subtotal")),1)]),_:1}),t(l,{class:"lg:text-lg p-1 text-end"},{default:r(()=>{var o,d;return[n(s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.order_items[0].sub_total),1)]}),_:1}),t(l,{class:"lg:text-lg p-1"},{default:r(()=>[n(s(e.$t("core_vendor__discount")),1)]),_:1}),t(l,{class:"lg:text-lg p-1 text-end",textColor:"text-red-500"},{default:r(()=>{var o,d;return[n("-"+s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.order_items[0].discount_price),1)]}),_:1}),eo,t(l,{textColor:"font-semibold",class:"lg:text-lg p-1"},{default:r(()=>[n(s(e.$t("core_vendor__total")),1)]),_:1}),t(l,{textColor:"font-semibold",class:"lg:text-lg p-1 text-end"},{default:r(()=>{var o,d;return[n(s((d=(o=e.order.vendor_transaction)==null?void 0:o.currency)==null?void 0:d.currency_symbol)+s(e.order.total_price),1)]}),_:1})])])]),t(B,{onClick:b[2]||(b[2]=o=>e.handleCancel()),class:"float-right",padding:"px-7 py-2",rounded:"rounded",hover:"",key:"",focus:""},{default:r(()=>[t(l,{textColor:"text-white dark:text-secondaryDark-black"},{default:r(()=>[n(s(e.$t("core_vendor__back")),1)]),_:1})]),_:1})]),_:1})],64)}var Do=de(ae,[["render",oo]]);export{Do as default};
