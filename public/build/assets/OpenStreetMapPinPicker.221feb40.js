import{L as r}from"./Control.Geocoder.bdf28440.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";import{j as m,o as f,c as _,n as h}from"./app.d57d51e9.js";const k={name:"LeafletMap",props:{lat:{type:Number,default:16},lng:{type:Number,default:96},mapSize:{type:String,default:"h-64 w-64"},onChange:Function,dragValue:{type:Boolean,default:!0},dir:String},setup(e){let a=null;m(()=>{let l="",d=e.dir.replaceAll("\\","");d!=null&&d!=""?l="/"+e.dir:l="";var o=r.icon({iconUrl:l+"/images/assets/marker-icon.png",shadowUrl:l+"/images/assets/marker-shadow.png"});a=r.map("mapContainer").setView([e.lat==null||isNaN(e.lat)?16.7967129:e.lat,e.lng==null||isNaN(e.lng)?96.1609916:e.lng],12);var n;r.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(a),r.Control.geocoder({defaultMarkGeocode:!1}).addTo(a).on("markgeocode",function(t){u(),a.flyTo(t.geocode.center,12),n=new r.Marker([t.geocode.properties.lat,t.geocode.properties.lon],{icon:o,draggable:e.dragValue}).addTo(a);var i={lat:t.geocode.properties.lat,lng:t.geocode.properties.lon};e.onChange(i),n.on("dragend",g)}),e.dragValue?(n=new r.Marker([e.lat,e.lng],{icon:o,draggable:e.dragValue}).addTo(a),n.on("dragend",g)):(n=new r.Marker([e.lat,e.lng],{icon:o}).addTo(a),n.on("dragend"));function g(t){var i=t.target.getLatLng();e.onChange!=null&&e.onChange(i)}function u(){n&&a.removeLayer(n)}})}};function y(e,a,l,c,d,o){return f(),_("div",{class:h(l.mapSize),id:"mapContainer"},null,2)}var b=s(k,[["render",y]]);export{b as default};
